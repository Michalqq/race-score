{"version":3,"file":"939.js","mappings":"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","sources":["webpack://javascript/./src/components/common/Modal.jsx","webpack://javascript/./src/components/event/NewEventForm.jsx","webpack://javascript/./src/components/common/EventCard.jsx","webpack://javascript/./src/components/team/TeamListModal.jsx","webpack://javascript/./src/components/join/QuickJoinPanel.jsx","webpack://javascript/./src/components/event/EventModal.jsx","webpack://javascript/./src/components/team/BasicTeamDataForm.jsx","webpack://javascript/./src/components/team/AdminTeamList.jsx","webpack://javascript/./src/components/statement/AddStatementModal.jsx","webpack://javascript/./src/components/statement/StatementModal.jsx","webpack://javascript/./src/components/page/HomePage.jsx"],"sourcesContent":["import React from \"react\";\r\n\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nexport const OkCancelModal = ({\r\n  show,\r\n  title,\r\n  text,\r\n  handleAccept,\r\n  handleClose,\r\n}) => {\r\n  return (\r\n    <Modal show={show} onHide={handleClose} backdrop=\"static\" keyboard={false}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>{title}</Modal.Title>\r\n      </Modal.Header>\r\n\r\n      <Modal.Body>\r\n        <p>{text}</p>\r\n      </Modal.Body>\r\n\r\n      <Modal.Footer className={\"justify-content-center\"}>\r\n        <Button className={\"mx-3\"} variant=\"secondary\" onClick={handleClose}>\r\n          Anuluj\r\n        </Button>\r\n        <Button\r\n          className={\"px-4 mx-3\"}\r\n          variant=\"success\"\r\n          onClick={handleAccept}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport const OkModal = ({ show, title, text, handleAccept }) => {\r\n  return (\r\n    <Modal show={show} onHide={handleAccept} backdrop=\"static\" keyboard={false}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>{title}</Modal.Title>\r\n      </Modal.Header>\r\n\r\n      <Modal.Body>\r\n        <p\r\n          style={{\r\n            whiteSpace: \"break-spaces\",\r\n          }}\r\n        >\r\n          {text}\r\n        </p>\r\n      </Modal.Body>\r\n\r\n      <Modal.Footer className={\"justify-content-center\"}>\r\n        <Button\r\n          className={\"px-4 mx-3\"}\r\n          variant=\"success\"\r\n          onClick={handleAccept}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Table from \"react-bootstrap/Table\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport { InputLabeled } from \"../common/InputLabeled\";\r\nimport { CustomDatePicker, TimePicker } from \"../common/DateInput\";\r\nimport { CalendarContainer } from \"react-datepicker\";\r\nimport { backendUrl } from \"../utils/fetchUtils\";\r\nimport { format } from \"date-fns\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTimesCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Selector } from \"../common/Selector\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport { OkCancelModal } from \"../common/Modal\";\r\nimport Form from \"react-bootstrap/Form\";\r\n\r\nexport const NewEventForm = ({ show, handleClose, event }) => {\r\n  const [myEvent, setMyEvent] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    date: new Date(),\r\n    signDeadline: new Date(),\r\n    admin: 1,\r\n    stages: [],\r\n    organizer: \"\",\r\n    logoPath: \"\",\r\n    awdClassification: false,\r\n    rwdClassification: false,\r\n    fwdClassification: false,\r\n  });\r\n  const [stage, setStage] = useState({\r\n    index: 0,\r\n    name: \"\",\r\n    distance: 1.5,\r\n    startTime: new Date(),\r\n    startFrequency: 1,\r\n  });\r\n  const [eventClass, setEventClass] = useState({\r\n    carClassId: 0,\r\n    carClassName: null,\r\n    maxEngineCapacity: null,\r\n    eventId: event?.eventId,\r\n    awd: false,\r\n  });\r\n  const [eventPaths, setEventPaths] = useState([]);\r\n  const [path, setPath] = useState({\r\n    eventId: event?.eventId,\r\n    path: \"\",\r\n    description: \"\",\r\n  });\r\n  const [eventFiles, setEventFiles] = useState([]);\r\n  const [file, setFile] = useState({\r\n    eventId: event?.eventId,\r\n    file: \"\",\r\n    fileName: \"\",\r\n    description: \"\",\r\n  });\r\n  const [logoFile, setLogoFile] = useState();\r\n  const [stages, setStages] = useState([]);\r\n  const [referee, setReferee] = useState([]);\r\n  const [refereeOptions, setRefereeOptions] = useState([]);\r\n  const [eventClasses, setEventClasses] = useState([]);\r\n  const [eventClassesOptions, setEventClassesOptions] = useState([]);\r\n  const [removeEvent, setRemoveEvent] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!show) return;\r\n\r\n    axios\r\n      .get(`${backendUrl()}/event/getRefereeOptions`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setRefereeOptions(res.data);\r\n      });\r\n\r\n    axios\r\n      .get(`${backendUrl()}/event/getEventClassesOptions`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setEventClassesOptions(res.data);\r\n      });\r\n\r\n    setEventClasses([]);\r\n    setReferee([]);\r\n    setStages([]);\r\n    if (event !== undefined) fetchEventToEdit();\r\n  }, [show]);\r\n\r\n  const handleChange = (event) => {\r\n    setMyEvent({ ...myEvent, [event.target.name]: event.target.value });\r\n  };\r\n  const handleStageChange = (event) => {\r\n    setStage({ ...stage, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const handleAccept = () => {\r\n    const data = {\r\n      ...myEvent,\r\n      stages: stages,\r\n      referee: referee,\r\n      eventClasses: eventClasses,\r\n      eventPaths: eventPaths,\r\n      eventFiles: [],\r\n    };\r\n\r\n    axios.put(`${backendUrl()}/event/createNew`, data).then((res) => {\r\n      eventFiles.forEach((f) =>\r\n        axios.post(\r\n          `${backendUrl()}/event/addFileToEvent?fileName=${f.fileName}&desc=${\r\n            f.description\r\n          }&eventId=${res.data}`,\r\n          f.file,\r\n          {\r\n            headers: authHeader(),\r\n          }\r\n        )\r\n      );\r\n      if (logoFile)\r\n        axios.post(\r\n          `${backendUrl()}/event/addLogoFile?eventId=${res.data}`,\r\n          logoFile,\r\n          {\r\n            headers: authHeader(),\r\n          }\r\n        );\r\n    });\r\n\r\n    handleClose();\r\n  };\r\n\r\n  const removeFile = (fileId) => {\r\n    if (!fileId) return;\r\n\r\n    axios.post(\r\n      `${backendUrl()}/event/removeFileFromEvent?fileId=${fileId}&eventId=${\r\n        myEvent.eventId\r\n      }`,\r\n      {\r\n        headers: authHeader(),\r\n      }\r\n    );\r\n  };\r\n\r\n  const addStage = () => {\r\n    stages.push(stage);\r\n    setStages(stages);\r\n    setStage({\r\n      index: stage.index + 1,\r\n      name: \"\",\r\n      distance: \"\",\r\n      startTime: new Date(),\r\n      startFrequency: 1,\r\n    });\r\n  };\r\n\r\n  const addClass = () => {\r\n    eventClasses.push(eventClass);\r\n    setEventClass({\r\n      carClassId: 0,\r\n      carClassName: null,\r\n      maxEngineCapacity: \"\",\r\n      eventId: event?.eventId,\r\n      awd: false,\r\n    });\r\n  };\r\n\r\n  const addPath = () => {\r\n    eventPaths.push(path);\r\n    setPath({\r\n      eventId: event?.eventId,\r\n      path: \"\",\r\n      description: \"\",\r\n    });\r\n  };\r\n\r\n  const addFiles = () => {\r\n    eventFiles.push(file);\r\n    setFile({\r\n      eventId: event?.eventId,\r\n      file: \"\",\r\n      fileName: \"\",\r\n      description: \"\",\r\n    });\r\n  };\r\n\r\n  const removeFromStages = (id) => {\r\n    const tempStages = stages.filter((x) => x.index !== id);\r\n    setStages(tempStages);\r\n  };\r\n\r\n  const removeReferee = (id) => {\r\n    const tempRef = referee.filter((x) => x.userId !== id);\r\n    setReferee(tempRef);\r\n  };\r\n\r\n  const removeClass = (id) => {\r\n    const tempClass = eventClasses.filter((x) => x.carClassId !== id);\r\n    setEventClasses(tempClass);\r\n  };\r\n\r\n  const addReferee = (id) => {\r\n    const tempRef = refereeOptions.find((x) => x.value === id);\r\n    const newRef = { userId: Number(tempRef.value), username: tempRef.label };\r\n    setReferee([...referee, newRef]);\r\n  };\r\n\r\n  const addEventClass = (id) => {\r\n    const tempClass = eventClassesOptions.find((x) => x.value === id);\r\n\r\n    setEventClass({\r\n      ...eventClass,\r\n      carClassId: id,\r\n      carClassName: tempClass.label,\r\n    });\r\n  };\r\n\r\n  const fetchEventToEdit = () => {\r\n    axios\r\n      .get(`${backendUrl()}/event/getEvent?eventId=${event.eventId}`)\r\n      .then((res) => {\r\n        setMyEvent({\r\n          ...res.data,\r\n          date: res.data.date ? new Date(res.data.date) : new Date(),\r\n          signDeadline: res.data.signDeadline\r\n            ? new Date(res.data.signDeadline)\r\n            : new Date(),\r\n        });\r\n        setStages(\r\n          res.data.stages.map((x) => {\r\n            return { ...x, startTime: new Date(x.startTime) };\r\n          })\r\n        );\r\n        setReferee(res.data.referee);\r\n        setEventClasses(\r\n          res.data.eventClasses.map((x) => {\r\n            return { ...x, carClassName: x.carClass.name };\r\n          })\r\n        );\r\n        setEventPaths(res.data.eventPaths);\r\n        setEventFiles(res.data.eventFiles);\r\n      });\r\n  };\r\n\r\n  const fetchRemoveEvent = () => {\r\n    axios\r\n      .get(`${backendUrl()}/event/deleteEvent?eventId=${event.eventId}`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        handleClose();\r\n      });\r\n  };\r\n\r\n  const addFile = (e) => {\r\n    const currentFile = e.target.files[0];\r\n    const formData = new FormData();\r\n    formData.append(\"file\", currentFile);\r\n\r\n    setFile({ ...file, file: formData, fileName: currentFile.name });\r\n  };\r\n\r\n  const addLogoFile = (e) => {\r\n    const currentFile = e.target.files[0];\r\n    const formData = new FormData();\r\n    formData.append(\"file\", currentFile);\r\n\r\n    setLogoFile(formData);\r\n  };\r\n\r\n  const DatePickerContainer = ({ className, children }) => {\r\n    return (\r\n      <>\r\n        <CalendarContainer className={className}>\r\n          <div style={{ display: \"flex\" }}>{children}</div>\r\n        </CalendarContainer>\r\n      </>\r\n    );\r\n  };\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={handleClose}\r\n      backdrop=\"static\"\r\n      keyboard={false}\r\n      size=\"xl\"\r\n    >\r\n      <Modal.Header className=\"bg-dark text-white\" closeButton>\r\n        <Modal.Title>Dodawanie nowego wydarzenia</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div className=\"row u-text-center justify-content-center\">\r\n          <Card.Body className=\"py-0\">\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-4 px-1\">\r\n                <InputLabeled\r\n                  label=\"Nazwa\"\r\n                  name=\"name\"\r\n                  handleChange={handleChange}\r\n                  big={true}\r\n                  value={myEvent.name}\r\n                  multiline={2}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-8 px-1\">\r\n                <InputLabeled\r\n                  label=\"Opis\"\r\n                  name=\"description\"\r\n                  handleChange={handleChange}\r\n                  big={true}\r\n                  value={myEvent.description}\r\n                  multiline={2}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-3 px-1\">\r\n                <InputLabeled\r\n                  label=\"Nazwa organizatora\"\r\n                  name=\"organizer\"\r\n                  handleChange={handleChange}\r\n                  big={true}\r\n                  value={myEvent.organizer}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3 px-1\">\r\n                <InputLabeled\r\n                  label=\"Ścieżka do logo wydarzenia\"\r\n                  inputPlaceholder=\"http://www.akteam.pl/logo.jpg\"\r\n                  name=\"logoPath\"\r\n                  handleChange={handleChange}\r\n                  big={true}\r\n                  value={myEvent.logoPath}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3 px-1\">\r\n                <CustomDatePicker\r\n                  label={\"Data wydarzenia\"}\r\n                  onChange={(value) => setMyEvent({ ...myEvent, date: value })}\r\n                  selected={myEvent.date}\r\n                  calendarContainer={DatePickerContainer}\r\n                  //placeholderText={placeholderFrom}\r\n                  minDate={null}\r\n                  maxDate={null}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3 px-1\">\r\n                <CustomDatePicker\r\n                  label={\"Koniec zapisów\"}\r\n                  onChange={(value) =>\r\n                    setMyEvent({ ...myEvent, signDeadline: value })\r\n                  }\r\n                  selected={myEvent.signDeadline}\r\n                  calendarContainer={DatePickerContainer}\r\n                  //placeholderText={placeholderFrom}\r\n                  minDate={new Date()}\r\n                  maxDate={null}\r\n                />\r\n              </div>\r\n            </div>\r\n          </Card.Body>\r\n          <div className=\"col-lg-4 py-2  border-right shadow bg-white rounded\">\r\n            <div className=\"col-lg-12 border-right rounded\">\r\n              <Card className=\"text-center\">\r\n                <Card.Body className=\"p-0\">\r\n                  <Selector\r\n                    label={\"Sędziowie\"}\r\n                    options={refereeOptions}\r\n                    handleChange={(value) => addReferee(value)}\r\n                    isValid={true}\r\n                    skipDefault={true}\r\n                  />\r\n                  <Table responsive>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Login</th>\r\n                        <th className=\"text-end\">Usuń</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {referee.map((x, index) => (\r\n                        <tr key={x.userId + index}>\r\n                          <td>{x.username}</td>\r\n                          <td className=\"text-end\">\r\n                            <FontAwesomeIcon\r\n                              icon={faTimesCircle}\r\n                              onClick={() => removeReferee(x.userId)}\r\n                              title={\"Usuń załoge\"}\r\n                              cursor={\"pointer\"}\r\n                            />\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </Table>\r\n                </Card.Body>\r\n              </Card>\r\n              <Card className=\"text-center\">\r\n                <Card.Header className=\"bg-dark text-white\">\r\n                  Podział na klasy\r\n                </Card.Header>\r\n                <Card.Body className=\"p-0\">\r\n                  <Table responsive>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Klasa</th>\r\n                        <th>Max silnik [cm3]</th>\r\n                        <th className=\"text-end\">Usuń</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {eventClasses.map((x, index) => (\r\n                        <tr key={x.carClassId + index}>\r\n                          <td>{x.carClassName}</td>\r\n                          <td>{x.maxEngineCapacity}</td>\r\n                          <td className=\"text-end\">\r\n                            <FontAwesomeIcon\r\n                              icon={faTimesCircle}\r\n                              onClick={() => removeClass(x.carClassId)}\r\n                              title={\"Usuń klase\"}\r\n                              cursor={\"pointer\"}\r\n                            />\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </Table>\r\n                  <div className=\"d-grid\">\r\n                    <Selector\r\n                      className={\"w-50\"}\r\n                      label={\"Klasa\"}\r\n                      options={eventClassesOptions}\r\n                      handleChange={(value) => addEventClass(value)}\r\n                      isValid={true}\r\n                      value={eventClass.carClassId}\r\n                      skipDefault={true}\r\n                    />\r\n                    <InputLabeled\r\n                      label=\"Max silnik [cm3]\"\r\n                      name=\"name\"\r\n                      handleChange={(e) =>\r\n                        setEventClass({\r\n                          ...eventClass,\r\n                          maxEngineCapacity: e.target.value,\r\n                        })\r\n                      }\r\n                      big={true}\r\n                      value={eventClass.maxEngineCapacity}\r\n                    />\r\n                  </div>\r\n                  <Button\r\n                    className={\"px-4 my-3\"}\r\n                    variant=\"success\"\r\n                    onClick={addClass}\r\n                  >\r\n                    Dodaj klase\r\n                  </Button>\r\n                  <Form.Check\r\n                    inline\r\n                    label=\"Dodatkowa klasyfikacja AWD\"\r\n                    name=\"turbo\"\r\n                    type={\"checkbox\"}\r\n                    checked={myEvent.awdClassification}\r\n                    onClick={(e) =>\r\n                      setMyEvent({\r\n                        ...myEvent,\r\n                        awdClassification: e.target.checked,\r\n                      })\r\n                    }\r\n                  />\r\n                  <Form.Check\r\n                    inline\r\n                    label=\"Dodatkowa klasyfikacja RWD\"\r\n                    name=\"turbo\"\r\n                    type={\"checkbox\"}\r\n                    checked={myEvent.rwdClassification}\r\n                    onClick={(e) =>\r\n                      setMyEvent({\r\n                        ...myEvent,\r\n                        rwdClassification: e.target.checked,\r\n                      })\r\n                    }\r\n                  />\r\n                  <Form.Check\r\n                    inline\r\n                    label=\"Dodatkowa klasyfikacja FWD\"\r\n                    name=\"turbo\"\r\n                    type={\"checkbox\"}\r\n                    checked={myEvent.fwdClassification}\r\n                    onClick={(e) =>\r\n                      setMyEvent({\r\n                        ...myEvent,\r\n                        fwdClassification: e.target.checked,\r\n                      })\r\n                    }\r\n                  />\r\n                </Card.Body>\r\n              </Card>\r\n              <Card className=\"text-center\">\r\n                <Card.Header className=\"bg-dark text-white\">\r\n                  Plik z logo wydarzenia\r\n                </Card.Header>\r\n                <Card.Body className=\"p-1\">\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"logoPathFile\"\r\n                    accept=\"image/jpg\"\r\n                    onChange={(e) => addLogoFile(e)}\r\n                  />\r\n                </Card.Body>\r\n              </Card>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-8 py-2 shadow mb-1 bg-white rounded\">\r\n            <Card>\r\n              <Card.Header className=\"bg-dark text-white\">\r\n                Odcinki PS/OS (w kolejności)\r\n              </Card.Header>\r\n              <Card.Body className=\"p-0\">\r\n                {stages.length > 0 && (\r\n                  <Table responsive>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>#</th>\r\n                        <th>Nazwa</th>\r\n                        <th>Czas startu</th>\r\n                        <th>Częstotliwość</th>\r\n                        <th className=\"text-end\">Usuń</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {stages.map((x, index) => (\r\n                        <tr key={index}>\r\n                          <td>{index}</td>\r\n                          <td>{x.name}</td>\r\n                          <td>\r\n                            {x.startTime === null\r\n                              ? \"\"\r\n                              : format(x.startTime, \"HH:mm\")}\r\n                          </td>\r\n                          <td>{x.startFrequency + \" min\"}</td>\r\n                          <td className=\"text-end\">\r\n                            <FontAwesomeIcon\r\n                              icon={faTimesCircle}\r\n                              onClick={() => removeFromStages(x.index)}\r\n                              title={\"Usuń załoge\"}\r\n                              cursor={\"pointer\"}\r\n                            />\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </Table>\r\n                )}\r\n                <div className=\"d-block\">\r\n                  <InputLabeled\r\n                    label=\"Nazwa\"\r\n                    name=\"name\"\r\n                    handleChange={handleStageChange}\r\n                    big={true}\r\n                    value={stage.name}\r\n                  />\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg-3\">\r\n                    <InputLabeled\r\n                      label=\"Długość [m]\"\r\n                      name=\"distance\"\r\n                      handleChange={handleStageChange}\r\n                      big={true}\r\n                      onlyNumber={true}\r\n                      value={stage.distance}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-lg-4\">\r\n                    <TimePicker\r\n                      label={\"Czas startu odcinka\"}\r\n                      onChange={(value) => {\r\n                        setStage({\r\n                          ...stage,\r\n                          startTime: value,\r\n                        });\r\n                      }}\r\n                      calendarContainer={DatePickerContainer}\r\n                      minDate={new Date()}\r\n                      maxDate={null}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-lg-5\">\r\n                    <InputLabeled\r\n                      label=\"Częstotliwość startów [min]\"\r\n                      name=\"startFrequency\"\r\n                      handleChange={handleStageChange}\r\n                      big={true}\r\n                      value={stage.startFrequency}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-center py-3\">\r\n                  <Button\r\n                    className={\"px-4 mx-3\"}\r\n                    variant=\"success\"\r\n                    onClick={addStage}\r\n                  >\r\n                    Dodaj odcinek\r\n                  </Button>\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n\r\n            <Card className=\"text-center\">\r\n              <Card.Header className=\"bg-dark text-white\">\r\n                Linki do regulaminow, informacji itd.\r\n              </Card.Header>\r\n              <Card.Body className=\"p-0\">\r\n                <Table responsive>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Link</th>\r\n                      <th>Opis</th>\r\n                      <th className=\"text-end\">Usuń</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {eventPaths.map((path, index) => (\r\n                      <tr key={index}>\r\n                        <td>{path.path}</td>\r\n                        <td>{path.description}</td>\r\n                        <td className=\"text-end\">\r\n                          <FontAwesomeIcon\r\n                            icon={faTimesCircle}\r\n                            onClick={() =>\r\n                              setEventPaths(\r\n                                eventPaths.filter(\r\n                                  (elem) => elem.path !== path.path\r\n                                )\r\n                              )\r\n                            }\r\n                            title={\"Usuń link\"}\r\n                            cursor={\"pointer\"}\r\n                          />\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </Table>\r\n                <div className=\"d-grid\">\r\n                  <InputLabeled\r\n                    label=\"Link/ścieżka\"\r\n                    name=\"path\"\r\n                    handleChange={(e) =>\r\n                      setPath({ ...path, path: e.target.value })\r\n                    }\r\n                    big={true}\r\n                    value={path.path}\r\n                  />\r\n                  <InputLabeled\r\n                    label=\"Opis\"\r\n                    name=\"description\"\r\n                    handleChange={(e) =>\r\n                      setPath({ ...path, description: e.target.value })\r\n                    }\r\n                    big={true}\r\n                    value={path.description}\r\n                  />\r\n                </div>\r\n                <Button\r\n                  className={\"px-4 my-3\"}\r\n                  variant=\"success\"\r\n                  onClick={addPath}\r\n                  disabled={path.description === \"\" || path.link === \"\"}\r\n                >\r\n                  Dodaj link\r\n                </Button>\r\n              </Card.Body>\r\n            </Card>\r\n            <Card className=\"text-center\">\r\n              <Card.Header className=\"bg-dark text-white\">Pliki</Card.Header>\r\n              <Card.Body className=\"p-0\">\r\n                <Table responsive>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Plik</th>\r\n                      <th>Opis</th>\r\n                      <th className=\"text-end\">Usuń</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {eventFiles.map((file, index) => (\r\n                      <tr key={index}>\r\n                        <td>{file.fileName}</td>\r\n                        <td>{file.description}</td>\r\n                        <td className=\"text-end\">\r\n                          <FontAwesomeIcon\r\n                            icon={faTimesCircle}\r\n                            onClick={() => {\r\n                              removeFile(file.id);\r\n                              setEventFiles(\r\n                                eventFiles.filter(\r\n                                  (elem) => elem.fileName !== file.fileName\r\n                                )\r\n                              );\r\n                            }}\r\n                            title={\"Usuń plik\"}\r\n                            cursor={\"pointer\"}\r\n                          />\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </Table>\r\n                <div className=\"d-grid\">\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"file\"\r\n                    accept=\"application/pdf,application/vnd.ms-excel\"\r\n                    onChange={(e) => addFile(e)}\r\n                  />\r\n                  <InputLabeled\r\n                    label=\"Opis\"\r\n                    name=\"description\"\r\n                    handleChange={(e) =>\r\n                      setFile({ ...file, description: e.target.value })\r\n                    }\r\n                    big={true}\r\n                    value={file.description}\r\n                  />\r\n                </div>\r\n                <Button\r\n                  className={\"px-4 my-3\"}\r\n                  variant=\"success\"\r\n                  onClick={addFiles}\r\n                  disabled={file.description === \"\" || file.fileName === \"\"}\r\n                >\r\n                  Dodaj plik\r\n                </Button>\r\n              </Card.Body>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n        {removeEvent && (\r\n          <OkCancelModal\r\n            show={true}\r\n            title={\"Usuwanie wydarzenia\"}\r\n            text={`Czy napewno chcesz usunąć wydarzenie? Operacja nieodwracalna`}\r\n            handleAccept={() => {\r\n              fetchRemoveEvent();\r\n              setRemoveEvent(false);\r\n            }}\r\n            handleClose={() => setRemoveEvent(false)}\r\n          />\r\n        )}\r\n      </Modal.Body>\r\n      <Modal.Footer className={\"justify-content-center\"}>\r\n        {event && (\r\n          <Button\r\n            className={\"mx-3\"}\r\n            variant=\"secondary\"\r\n            onClick={() => setRemoveEvent(true)}\r\n          >\r\n            Usuń wydarzenie\r\n          </Button>\r\n        )}\r\n        <Button className={\"mx-3\"} variant=\"secondary\" onClick={handleClose}>\r\n          Anuluj\r\n        </Button>\r\n        <Button\r\n          className={\"px-4 mx-3\"}\r\n          variant=\"success\"\r\n          onClick={handleAccept}\r\n          disabled={stages.length === 0}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport moment from \"moment\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faStar, faEdit } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Badge from \"react-bootstrap/Badge\";\r\nimport { fetchStatement } from \"../utils/fetchUtils\";\r\n\r\nexport const EventCard = ({\r\n  event,\r\n  onJoin,\r\n  onTeamList,\r\n  onScore,\r\n  onEdit,\r\n  onStatement,\r\n  mainAdmin,\r\n}) => {\r\n  const eventDeadlined =\r\n    new Date().getTime() > new Date(event.signDeadline).getTime();\r\n  const [statementCount, setStatementCount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (event)\r\n      fetchStatement(event.eventId, (data) => setStatementCount(data.length));\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"col-lg-6 pb-3 u-box-shadow\">\r\n      <Card className=\"\">\r\n        <Card.Header className=\"bg-secondary text-white text-start fw-bold py-1\">\r\n          <div className=\"row px-1\">\r\n            <div className=\"col-11 px-0\">{event?.name}</div>\r\n            <div className=\"col-1 px-0 text-end\">\r\n              {onEdit !== undefined && mainAdmin && (\r\n                <FontAwesomeIcon\r\n                  className={\"text-white fa-lg\"}\r\n                  icon={faEdit}\r\n                  onClick={onEdit}\r\n                  cursor={\"pointer\"}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Card.Header>\r\n        <Card.Body className=\"p-1\">\r\n          <div className=\"position-absolute end-0 mx-3 text-end badge bg-primary text-wrap fst-italic\">\r\n            {moment(event?.date).format(\"dddd, DD MMM YYYY, HH:mm\")}\r\n          </div>\r\n          <div className=\"container d-flex\">\r\n            <div\r\n              className=\"col-lg-2 px-0 align-self-center\"\r\n              style={{ width: \"110px\" }}\r\n            >\r\n              {event.logoPathFile ? (\r\n                <img\r\n                  id={\"eventImage\" + event.eventId}\r\n                  className=\"img-fluid rounded float-left\"\r\n                  src={\"data:image/jpg;base64,\" + event.logoPathFile}\r\n                  alt=\"Logo\"\r\n                ></img>\r\n              ) : event.logoPath !== undefined && event.logoPath !== null ? (\r\n                <img\r\n                  className=\"img-fluid rounded float-left\"\r\n                  src={event.logoPath}\r\n                  alt=\"Logo\"\r\n                ></img>\r\n              ) : (\r\n                <img\r\n                  src=\"/akbpLogo.png\"\r\n                  className=\"img-fluid rounded float-left\"\r\n                  alt=\"...\"\r\n                />\r\n              )}\r\n            </div>\r\n            <div className=\"col-lg-10 mt-3\">\r\n              {event.organizer !== undefined && event.organizer !== null && (\r\n                <p className=\"m-3\">{`Organizator: ${event.organizer}`}</p>\r\n              )}\r\n              <p className=\"fw-bold fst-italic mt-2\">\r\n                {`Koniec zapisów:  ${moment(event?.signDeadline).format(\r\n                  \"dddd, DD MMM YYYY, HH:mm\"\r\n                )}`}\r\n              </p>\r\n              {new Date(event?.signDeadline) < new Date() &&\r\n                new Date(event?.date) > new Date() && (\r\n                  <p className=\"\">{\"Zapisy zamknięte\"}</p>\r\n                )}\r\n              {event.joined && (\r\n                <div className=\"d-inline-flex\">\r\n                  <FontAwesomeIcon\r\n                    className={\"text-success fa-lg\"}\r\n                    icon={faStar}\r\n                  />\r\n                  <h6>Jesteś zapisany</h6>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Card.Body>\r\n        <Card.Footer className=\"text-start py-0 px-1\">\r\n          <div className=\"row my-2 mx-0\">\r\n            <div className=\"col-6 px-0\">\r\n              {/* {new Date().getTime() <=\r\n                new Date(event.signDeadline).getTime() && ( */}\r\n              <Button\r\n                className={\"start-0 py-1 px-1 \"}\r\n                variant=\"success\"\r\n                onClick={onJoin}\r\n              >\r\n                {eventDeadlined\r\n                  ? \"Informacje\"\r\n                  : event.joined\r\n                  ? \"Moje zgłoszenie\"\r\n                  : \"Info / Zgłoszenia\"}\r\n              </Button>\r\n              {/* )} */}\r\n            </div>\r\n            <div className=\"col-6 px-0 d-flex justify-content-end\">\r\n              <Button\r\n                className={\"py-1 px-2 mx-1\"}\r\n                variant=\"dark\"\r\n                onClick={onTeamList}\r\n              >\r\n                Lista\r\n              </Button>\r\n              <Button\r\n                className={\"py-1 px-1 mx-1\"}\r\n                variant=\"warning\"\r\n                onClick={onStatement}\r\n              >\r\n                Komunikaty\r\n              </Button>\r\n              <div\r\n                className=\"position-relative\"\r\n                style={{ left: \"-3vh\", top: \"-10px\" }}\r\n              >\r\n                {statementCount > 0 && (\r\n                  <Badge className=\"position-absolute\" pill bg=\"secondary\">\r\n                    {statementCount}\r\n                  </Badge>\r\n                )}\r\n              </div>\r\n\r\n              <Button\r\n                className={\"py-1 px-1 mx-1\"}\r\n                variant=\"success\"\r\n                onClick={onScore}\r\n              >\r\n                Wyniki\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Card.Footer>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { backendUrl } from \"../utils/fetchUtils\";\r\nimport ResultTable from \"../common/table/ResultTable\";\r\nimport { NrBadge } from \"../common/NrBadge\";\r\nimport { CarDiv, TeamDiv } from \"../common/Div\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCheck, faQuestion } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport const TeamListModal = ({ show, handleClose, eventId, started }) => {\r\n  const [teams, setTeams] = useState([]);\r\n  const [startEvent, setStartEvent] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [referee, setReferee] = useState(false);\r\n\r\n  const fetchTeams = () => {\r\n    if (eventId === undefined) return;\r\n    axios\r\n      .get(`${backendUrl()}/event/getTeams?eventId=${eventId}`)\r\n      .then((res) => {\r\n        setTeams(res.data);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (show) {\r\n      setLoading(true);\r\n      setTeams([]);\r\n    }\r\n    fetchTeams();\r\n  }, [show]);\r\n\r\n  useEffect(() => {\r\n    setTeams([]);\r\n    fetchTeams();\r\n  }, [referee]);\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        width: \"8%\",\r\n        id: \"index\",\r\n        Header: \"L.p\",\r\n        accessor: (cellInfo) => cellInfo.number,\r\n        disableFilters: true,\r\n        Cell: (row) => <div className=\"ps-2\"> {row.row.index + 1}</div>,\r\n      },\r\n      {\r\n        width: \"9%\",\r\n        id: \"#\",\r\n        Header: \"#Nr\",\r\n        accessor: (cellInfo) => cellInfo.number,\r\n        disableFilters: true,\r\n        Cell: (row) => <NrBadge value={row.value}></NrBadge>,\r\n      },\r\n      {\r\n        width: \"30%\",\r\n        id: \"team\",\r\n        Header: \"Załoga\",\r\n        accessor: (cellInfo) => cellInfo.team,\r\n        disableFilters: true,\r\n        Cell: (row) => <TeamDiv team={row.value}></TeamDiv>,\r\n      },\r\n      {\r\n        width: \"30%\",\r\n        id: \"car\",\r\n        Header: \"Samochód\",\r\n        accessor: (cellInfo) => cellInfo.team.currentCar,\r\n        disableFilters: true,\r\n        Cell: (row) => (\r\n          <CarDiv\r\n            line1={(row.value?.brand || \"\") + \" \" + (row.value?.model || \"\")}\r\n            line2={row.row.original.carClass.name}\r\n            carBrand={row.value?.brand}\r\n            driveType={row.value?.driveTypeEnum}\r\n          ></CarDiv>\r\n        ),\r\n      },\r\n      {\r\n        width: \"11%\",\r\n        id: \"engine\",\r\n        Header: \"Silnik\",\r\n        accessor: (cellInfo) =>\r\n          cellInfo.team.currentCar?.engineCapacity + \" cm3\",\r\n        disableFilters: true,\r\n      },\r\n      {\r\n        width: \"11%\",\r\n        id: \"entryFee\",\r\n        Header: \"Potwierdz.\",\r\n        accessor: (cellInfo) => cellInfo.entryFeePaid,\r\n        disableFilters: true,\r\n        Cell: (row) => {\r\n          return (\r\n            <FontAwesomeIcon\r\n              icon={row.value ? faCheck : faQuestion}\r\n              style={{ color: row.value ? \"green\" : \"black\" }}\r\n              title={\r\n                row.value ? \"Potwierdzony\" : \"Dodaj potwierdzenie przelewu\"\r\n              }\r\n              cursor={\"pointer\"}\r\n            />\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={handleClose}\r\n      backdrop=\"static\"\r\n      keyboard={false}\r\n      size=\"xl\"\r\n    >\r\n      <Modal.Header className=\"bg-dark text-white\" closeButton>\r\n        <Modal.Title>Lista zapisanych</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body className=\"px-0\">\r\n        <p style={{ fontSize: \"11px\" }} className=\"text-center my-0 py-0\">\r\n          Aplikacja w fazie testów\r\n        </p>\r\n        {loading && (\r\n          <div className=\"text-center\">\r\n            <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n          </div>\r\n        )}\r\n        {!loading && teams.length === 0 && (\r\n          <h1 className=\"text-center\">Brak zgłoszeń - bądź pierwszy!</h1>\r\n        )}\r\n        {!loading && teams?.length > 0 && (\r\n          <ResultTable\r\n            columns={columns}\r\n            data={teams}\r\n            isLoading={false}\r\n            isFooter={false}\r\n            isHeader={true}\r\n            manualPagination={true}\r\n          />\r\n        )}\r\n      </Modal.Body>\r\n      <Modal.Footer className={\"justify-content-center\"}>\r\n        <div className=\"d-grid\">\r\n          {/* {referee && (\r\n            <Button\r\n              className={\"m-2\"}\r\n              variant=\"success\"\r\n              onClick={() => setStartEvent(true)}\r\n              disabled={started}\r\n            >\r\n              Zamknij liste / Rozpocznij wydarzenie\r\n            </Button>\r\n          )} */}\r\n          <Button className={\"m-1\"} variant=\"secondary\" onClick={handleClose}>\r\n            Anuluj\r\n          </Button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { backendUrl } from \"../utils/fetchUtils\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport { InputLabeled } from \"../common/InputLabeled\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport { Selector } from \"../common/Selector\";\r\nimport {\r\n  faBuilding,\r\n  faCar,\r\n  faCarAlt,\r\n  faUserAstronaut,\r\n  faUserClock,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport const QuickJoinPanel = ({ show, handleClose, eventId }) => {\r\n  const [msg, setMsg] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const [options, setOptions] = useState();\r\n  const [team, setTeam] = useState({\r\n    coSportLicense: false,\r\n    sportLicense: false,\r\n    birthDate: new Date(),\r\n    currentCar: {\r\n      carId: null,\r\n      brand: \"\",\r\n      model: \"\",\r\n      year: \"\",\r\n      licensePlate: \"\",\r\n      vin: \"\",\r\n      engineCapacity: \"\",\r\n      turbo: false,\r\n      driveType: \"1\",\r\n      petrol: \"BENZYNA\",\r\n      insurance: \"\",\r\n      insuranceExpiryDate: new Date(),\r\n      carInspectionExpiryDate: new Date(),\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (show) {\r\n      axios.get(`${backendUrl()}/team/getTeamOptionList`).then((res) => {\r\n        setOptions(res.data);\r\n      });\r\n      setTeam({\r\n        coSportLicense: false,\r\n        sportLicense: false,\r\n        birthDate: new Date(),\r\n        currentCar: {\r\n          carId: null,\r\n          brand: \"\",\r\n          model: \"\",\r\n          year: \"\",\r\n          licensePlate: \"\",\r\n          vin: \"\",\r\n          engineCapacity: \"\",\r\n          turbo: false,\r\n          driveType: \"1\",\r\n          petrol: \"BENZYNA\",\r\n          insurance: \"\",\r\n          insuranceExpiryDate: new Date(),\r\n          carInspectionExpiryDate: new Date(),\r\n        },\r\n      });\r\n      setMsg();\r\n      setLoading(false);\r\n    }\r\n  }, [show]);\r\n\r\n  const fetchAddTeam = () => {\r\n    setLoading(true);\r\n    axios\r\n      .post(`${backendUrl()}/team/addTeam?eventId=${eventId}`, team, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setMsg(res.data);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    fetchAddTeam();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={handleClose}\r\n      backdrop=\"static\"\r\n      keyboard={false}\r\n      size=\"l\"\r\n    >\r\n      <Modal.Header className=\"bg-dark text-white\" closeButton>\r\n        <Modal.Title>Szybkie dodawanie zawodnika</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div className=\"d-flex justify-content-center text-center\">\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Imie i nazwisko kierowcy\"\r\n                  name=\"driver\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, driver: e.target.value })\r\n                  }\r\n                  value={team.driver}\r\n                  big={true}\r\n                  required={true}\r\n                  icon={faUserAstronaut}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Imie i nazwisko pilota\"\r\n                  name=\"coDriver\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, coDriver: e.target.value })\r\n                  }\r\n                  value={team.coDriver}\r\n                  big={true}\r\n                  icon={faUserClock}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Automobilklub kierowcy\"\r\n                  name=\"club\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, club: e.target.value })\r\n                  }\r\n                  value={team.club}\r\n                  big={true}\r\n                  icon={faBuilding}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Automobilklub pilota\"\r\n                  name=\"coClub\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, coClub: e.target.value })\r\n                  }\r\n                  value={team.coClub}\r\n                  big={true}\r\n                  icon={faBuilding}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Marka samochodu\"\r\n                  name=\"carBrand\"\r\n                  handleChange={(e) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, brand: e.target.value },\r\n                    })\r\n                  }\r\n                  value={team.currentCar.brand}\r\n                  big={true}\r\n                  required={true}\r\n                  icon={faCar}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Model samochodu\"\r\n                  name=\"carModel\"\r\n                  handleChange={(e) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, model: e.target.value },\r\n                    })\r\n                  }\r\n                  value={team.currentCar.model}\r\n                  big={true}\r\n                  required={true}\r\n                  icon={faCarAlt}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Pojemność silnika [cm3]\"\r\n                  name=\"engineCapacity\"\r\n                  handleChange={(e) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: {\r\n                        ...team.currentCar,\r\n                        engineCapacity: e.target.value,\r\n                      },\r\n                    })\r\n                  }\r\n                  value={team.currentCar.engineCapacity}\r\n                  big={true}\r\n                  required={true}\r\n                  onlyNumber={true}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <Selector\r\n                  label={\"Rodzaj napędu\"}\r\n                  options={options?.driveTypeOption}\r\n                  handleChange={(value) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: {\r\n                        ...team.currentCar,\r\n                        driveType: value,\r\n                      },\r\n                    })\r\n                  }\r\n                  isValid={true}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"d-flex justify-content-center\">\r\n              <Form>\r\n                <span className={\"py-0 mb-2 mt-1 mx-1 input-group-text\"}>\r\n                  Turbo\r\n                </span>\r\n                <Form.Check\r\n                  inline\r\n                  label=\"TAK\"\r\n                  name=\"turbo\"\r\n                  type={\"radio\"}\r\n                  id={`inline-1`}\r\n                  checked={team.currentCar.turbo}\r\n                  onClick={() =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, turbo: true },\r\n                    })\r\n                  }\r\n                />\r\n                <Form.Check\r\n                  inline\r\n                  label=\"NIE\"\r\n                  name=\"turbo\"\r\n                  type={\"radio\"}\r\n                  id={`inline-2`}\r\n                  checked={!team.currentCar.turbo}\r\n                  onClick={() =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, turbo: false },\r\n                    })\r\n                  }\r\n                />\r\n              </Form>\r\n            </div>\r\n            <div className=\"text-center\" style={{ height: \"50px\" }}>\r\n              <h4 className=\"text-success fw-bold\">{msg}</h4>\r\n              {loading && (\r\n                <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n              )}\r\n            </div>\r\n            <Button\r\n              className={\"m-1\"}\r\n              variant=\"success\"\r\n              type=\"submit\"\r\n              disabled={msg}\r\n            >\r\n              Dołącz do wydarzenia\r\n            </Button>\r\n            <Button\r\n              className={\"m-1\"}\r\n              variant=\"secondary\"\r\n              onClick={() => handleClose()}\r\n            >\r\n              {msg ? \"Ok\" : \"Wyjdź\"}\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Tabs from \"react-bootstrap/Tabs\";\r\nimport Tab from \"react-bootstrap/Tab\";\r\nimport { backendUrl, fetchRemoveFromEvent } from \"../utils/fetchUtils\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport moment from \"moment\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faStar } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { QuickJoinPanel } from \"../join/QuickJoinPanel\";\r\nimport { TeamModal } from \"../team/TeamModal\";\r\nimport { download } from \"../utils/fileUtils\";\r\n\r\nexport const EventModal = ({ show, handleClose, event }) => {\r\n  const navigate = useNavigate();\r\n\r\n  const [team, setTeam] = useState(undefined);\r\n  const [file, setFile] = useState();\r\n  const [uploading, setUploading] = useState(false);\r\n  const [fileMsg, setFileMsg] = useState();\r\n  const [notJoined, setNotJoined] = useState(false);\r\n  const [myEvent, setMyEvent] = useState();\r\n  const [quickJoin, setQuickJoin] = useState();\r\n  const [activeTab, setActiveTab] = useState(1);\r\n  const [fillTeam, setFillTeam] = useState();\r\n\r\n  const loggedUser = sessionStorage.getItem(\"username\") !== null;\r\n\r\n  useEffect(() => {\r\n    if (!show) return;\r\n\r\n    fetchGetTeam();\r\n    setUploading(false);\r\n    setFileMsg();\r\n    setNotJoined(false);\r\n    setMyEvent(event);\r\n  }, [show]);\r\n\r\n  const signDeadlined = event\r\n    ? new Date().getTime() > new Date(event.signDeadline).getTime()\r\n    : false;\r\n\r\n  const fetchGetTeam = () => {\r\n    axios\r\n      .get(`${backendUrl()}/team/getTeam`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setNotJoined(res.data === \"\");\r\n        if (res.data !== \"\") setTeam(res.data);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (event?.eventId !== undefined && team?.teamId !== undefined)\r\n      axios\r\n        .get(\r\n          `${backendUrl()}/event/getEntryFeeFile?eventId=${\r\n            event.eventId\r\n          }&teamId=${team.teamId}`\r\n        )\r\n        .then((res) => {\r\n          if (res.status === 204) setNotJoined(true);\r\n          else setFileMsg(\"Mamy już Twoje potwierdzenie\");\r\n        })\r\n        .catch((error) => {\r\n          setFileMsg();\r\n        });\r\n  }, [team]);\r\n\r\n  const doRemoveFromEvent = () => {\r\n    fetchRemoveFromEvent(event.eventId, team?.teamId, () => {\r\n      setMyEvent({ ...myEvent, joined: false });\r\n      setNotJoined(true);\r\n    });\r\n  };\r\n\r\n  const fetchUpload = (eventId, teamId) => {\r\n    if (file.size > 2 * 1024 * 1024) {\r\n      setFileMsg(\"Plik jest zbyt duży (maksymalnie 2mb)\");\r\n      return;\r\n    }\r\n    setUploading(true);\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n    axios\r\n      .post(\r\n        `${backendUrl()}/event/addEntryFeeFile?eventId=${eventId}&teamId=${teamId}`,\r\n        formData,\r\n        {\r\n          headers: authHeader(),\r\n        }\r\n      )\r\n      .then((res) => {\r\n        setUploading(false);\r\n        res.data\r\n          ? setFileMsg(\"Plik został dodany\")\r\n          : setFileMsg(\"Plik NIE został dodany - błąd\");\r\n      });\r\n  };\r\n\r\n  const downloadFile = (e, file) => {\r\n    e.preventDefault();\r\n    download(`${backendUrl()}/event/getEventFile?id=${file.id}`, file.fileName);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        style={{ zIndex: quickJoin || fillTeam ? 1000 : 1055 }}\r\n        show={show}\r\n        onHide={handleClose}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n        size=\"xl\"\r\n      >\r\n        <Modal.Header className=\"bg-dark text-white\" closeButton>\r\n          <Modal.Title className=\"w-100 row\">\r\n            <div className=\"col-lg-8\">{`Informacje o wydarzeniu`}</div>\r\n            {myEvent?.joined && (\r\n              <div className=\"col-lg-4\">\r\n                <FontAwesomeIcon\r\n                  className={\"text-success fa-lg\"}\r\n                  icon={faStar}\r\n                />\r\n                Jesteś zapisany\r\n              </div>\r\n            )}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <p style={{ fontSize: \"11px\" }} className=\"text-center my-0 py-0\">\r\n          Aplikacja w fazie testów\r\n        </p>\r\n        <Tabs\r\n          activeKey={activeTab}\r\n          onSelect={(key) => setActiveTab(key)}\r\n          className=\"m-0 fw-bold\"\r\n        >\r\n          <Tab eventKey={1} title=\"Informacje\">\r\n            <div className=\"row text-center px-2\">\r\n              <div className=\"col-lg-4 py-1\">\r\n                {event?.logoPathFile ? (\r\n                  <img\r\n                    id={\"eventImage\" + event.eventId}\r\n                    style={{ height: \"140px\" }}\r\n                    className=\"img-fluid rounded float-left\"\r\n                    src={\"data:image/jpg;base64,\" + event.logoPathFile}\r\n                    alt=\"Logo\"\r\n                  ></img>\r\n                ) : (\r\n                  event?.logoPath !== undefined &&\r\n                  event?.logoPath !== null && (\r\n                    <div className=\"\">\r\n                      <img\r\n                        style={{ height: \"140px\" }}\r\n                        className=\"img-fluid rounded float-left\"\r\n                        src={event.logoPath}\r\n                        alt=\"Logo\"\r\n                      ></img>\r\n                    </div>\r\n                  )\r\n                )}\r\n              </div>\r\n              <div className=\"col-lg-8\">\r\n                <h3>{event?.name || \"\"}</h3>\r\n                <h5>{`Data wydarzenia:  `}</h5>\r\n                <h5 className=\"fw-bold\">\r\n                  {moment(event?.date).format(\" dddd, DD MMM YYYY, HH:mm\")}\r\n                </h5>\r\n                <div className=\"col-lg-10\">\r\n                  <p className=\"fw-bold fst-italic m-4\">\r\n                    {`Koniec zapisów:  ${moment(event?.signDeadline).format(\r\n                      \"dddd, DD MMM YYYY, HH:mm\"\r\n                    )}`}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-lg-12 px-0\">\r\n                <p style={{ whiteSpace: \"pre-line\" }} className=\"m-1\">\r\n                  {event?.description || \"\"}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <Card className=\"text-center\">\r\n              <Card.Header className=\"bg-dark text-white\">\r\n                Do pobrania:\r\n              </Card.Header>\r\n              <Card.Body>\r\n                <div className=\"row \">\r\n                  <div className=\"col-lg-12 px-0\">\r\n                    {event?.eventPaths?.map((path, index) => (\r\n                      <h6 key={index} className=\"my-1\">\r\n                        <a\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                          href={path.path}\r\n                        >\r\n                          {path.description}\r\n                        </a>\r\n                      </h6>\r\n                    ))}\r\n                    {event?.eventFiles?.map((file, index) => (\r\n                      <h6 key={index} className=\"my-1\">\r\n                        <a href={\"www\"} onClick={(e) => downloadFile(e, file)}>\r\n                          {file.description}\r\n                        </a>\r\n                      </h6>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n          </Tab>\r\n          {!loggedUser ? (\r\n            <></>\r\n          ) : (\r\n            <Tab eventKey={2} title=\"Wpisowe\">\r\n              <div className=\"row mx-2 justify-content-center\">\r\n                <div className=\"col-lg-6 pb-3 px-1\">\r\n                  <h5 className=\"text-center py-4\">\r\n                    Tutaj możesz dodać plik z potwierdzeniem wpisowego,\r\n                    przyspieszy to proces odbioru administracyjnego\r\n                  </h5>\r\n                  <Card className=\"text-center \">\r\n                    <Card.Header className=\"bg-dark text-white\">\r\n                      Wpisowe\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                      {notJoined ? (\r\n                        <p>\r\n                          Zapisz się a następnie będziesz miał możliwość\r\n                          przesłania pliku\r\n                        </p>\r\n                      ) : (\r\n                        <p>Dodaj plik z potwierdzeniem opłacenia wpisowego</p>\r\n                      )}\r\n                      <input\r\n                        disabled={notJoined}\r\n                        type=\"file\"\r\n                        name=\"file\"\r\n                        accept=\"application/pdf,application/vnd.ms-excel\"\r\n                        onChange={(e) => setFile(e.target.files[0])}\r\n                      />\r\n                      {fileMsg && <p className=\"fw-bold m-2\">{fileMsg}</p>}\r\n                      <div>\r\n                        {uploading ? (\r\n                          <Spinner animation=\"border\" variant=\"secondary\" />\r\n                        ) : (\r\n                          <Button\r\n                            className={\"mt-2 mb-0\"}\r\n                            variant=\"secondary\"\r\n                            onClick={() =>\r\n                              fetchUpload(event.eventId, team.teamId)\r\n                            }\r\n                            disabled={file === undefined}\r\n                          >\r\n                            Wyślij plik\r\n                          </Button>\r\n                        )}\r\n                      </div>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </div>\r\n              </div>\r\n            </Tab>\r\n          )}\r\n        </Tabs>\r\n        <Modal.Footer>\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\"col-xl-12 d-flex\">\r\n              <div className=\"\">\r\n                <Button\r\n                  className={\"m-1\"}\r\n                  variant=\"success\"\r\n                  form=\"teamForm\"\r\n                  onClick={() => {\r\n                    loggedUser\r\n                      ? setFillTeam(true)\r\n                      : navigate(`login?${event.eventId}`);\r\n                  }}\r\n                  disabled={signDeadlined && notJoined}\r\n                >\r\n                  {notJoined ? \"Zapisz się\" : \"Edytuj dane\"}\r\n                </Button>\r\n              </div>\r\n              <div className=\"\">\r\n                {/* <Button\r\n                className={\"m-1\"}\r\n                variant=\"success\"\r\n                onClick={() => {\r\n                  loggedUser ? setFillTeam(true) : navigate(`login?${event.eventId}`);\r\n                }}\r\n              >\r\n                {myEvent?.joined ? \"Ok\" : \"Zapisz (po zalogowaniu)\"}\r\n              </Button> */}\r\n                <Button\r\n                  className={\"m-1\"}\r\n                  variant=\"secondary\"\r\n                  onClick={handleClose}\r\n                >\r\n                  Zamknij okno\r\n                </Button>\r\n                {myEvent?.joined && (\r\n                  <Button\r\n                    className={\"mx-3\"}\r\n                    variant=\"danger\"\r\n                    onClick={() => doRemoveFromEvent()}\r\n                    disabled={signDeadlined}\r\n                  >\r\n                    Wypisz się\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <QuickJoinPanel\r\n        show={quickJoin}\r\n        handleClose={() => setQuickJoin()}\r\n        eventId={event?.eventId}\r\n      />\r\n      <TeamModal\r\n        show={fillTeam}\r\n        handleClose={() => setFillTeam()}\r\n        handleOk={() => handleClose()}\r\n        myEvent={event}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { backendUrl } from \"../utils/fetchUtils\";\r\nimport { InputLabeled } from \"../common/InputLabeled\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport { Selector } from \"../common/Selector\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport {\r\n  faBuilding,\r\n  faCar,\r\n  faCarAlt,\r\n  faUserAstronaut,\r\n  faUserClock,\r\n  faUserFriends,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport const BasicTeamDataForm = ({\r\n  show,\r\n  myTeam,\r\n  eventId,\r\n  onSave,\r\n  okBtnLabel,\r\n  handleClose,\r\n  title,\r\n}) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [options, setOptions] = useState();\r\n  const [team, setTeam] = useState(myTeam);\r\n\r\n  useEffect(() => {\r\n    if (show) {\r\n      axios.get(`${backendUrl()}/team/getTeamOptionList`).then((res) => {\r\n        setOptions(res.data);\r\n      });\r\n      setLoading(false);\r\n    }\r\n  }, [show]);\r\n\r\n  const handleSubmit = (event) => {\r\n    setLoading(true);\r\n    event.preventDefault();\r\n    onSave(team);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={handleClose}\r\n      backdrop=\"static\"\r\n      keyboard={false}\r\n      size=\"l\"\r\n    >\r\n      <Modal.Header closeButton className=\"bg-dark text-white\">\r\n        <Modal.Title className=\"text-white\">{title}</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div className=\"d-flex justify-content-center text-center\">\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Imie i nazwisko kierowcy\"\r\n                  name=\"driver\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, driver: e.target.value })\r\n                  }\r\n                  value={team.driver}\r\n                  big={true}\r\n                  required={true}\r\n                  icon={faUserAstronaut}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Imie i nazwisko pilota\"\r\n                  name=\"coDriver\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, coDriver: e.target.value })\r\n                  }\r\n                  value={team.coDriver}\r\n                  big={true}\r\n                  icon={faUserClock}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Automobilklub kierowcy\"\r\n                  name=\"club\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, club: e.target.value })\r\n                  }\r\n                  value={team.club}\r\n                  big={true}\r\n                  icon={faBuilding}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Automobilklub pilota\"\r\n                  name=\"coClub\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, coClub: e.target.value })\r\n                  }\r\n                  value={team.coClub}\r\n                  big={true}\r\n                  icon={faBuilding}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-12\">\r\n                <InputLabeled\r\n                  label=\"Nazwa Teamu\"\r\n                  name=\"teamName\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, teamName: e.target.value })\r\n                  }\r\n                  value={team.teamName}\r\n                  big={true}\r\n                  icon={faUserFriends}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Marka samochodu\"\r\n                  name=\"carBrand\"\r\n                  handleChange={(e) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, brand: e.target.value },\r\n                    })\r\n                  }\r\n                  value={team.currentCar?.brand}\r\n                  big={true}\r\n                  required={true}\r\n                  icon={faCar}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Model samochodu\"\r\n                  name=\"carModel\"\r\n                  handleChange={(e) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, model: e.target.value },\r\n                    })\r\n                  }\r\n                  value={team.currentCar?.model}\r\n                  big={true}\r\n                  required={true}\r\n                  icon={faCarAlt}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Pojemność silnika [cm3]\"\r\n                  name=\"engineCapacity\"\r\n                  handleChange={(e) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: {\r\n                        ...team.currentCar,\r\n                        engineCapacity: e.target.value,\r\n                      },\r\n                    })\r\n                  }\r\n                  value={team.currentCar?.engineCapacity}\r\n                  big={true}\r\n                  required={true}\r\n                  onlyNumber={true}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <Selector\r\n                  label={\"Rodzaj napędu\"}\r\n                  options={options?.driveTypeOption}\r\n                  handleChange={(value) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: {\r\n                        ...team.currentCar,\r\n                        driveType: value,\r\n                      },\r\n                    })\r\n                  }\r\n                  value={team.currentCar?.driveType}\r\n                  isValid={true}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"d-flex justify-content-center\">\r\n              <Form>\r\n                <span className={\"py-0 mb-2 mt-1 mx-1 input-group-text\"}>\r\n                  Turbo\r\n                </span>\r\n                <Form.Check\r\n                  inline\r\n                  label=\"TAK\"\r\n                  name=\"turbo\"\r\n                  type={\"radio\"}\r\n                  id={`inline-1`}\r\n                  checked={team.currentCar?.turbo}\r\n                  onClick={() =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, turbo: true },\r\n                    })\r\n                  }\r\n                />\r\n                <Form.Check\r\n                  inline\r\n                  label=\"NIE\"\r\n                  name=\"turbo\"\r\n                  type={\"radio\"}\r\n                  id={`inline-2`}\r\n                  checked={!team.currentCar?.turbo}\r\n                  onClick={() =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, turbo: false },\r\n                    })\r\n                  }\r\n                />\r\n              </Form>\r\n            </div>\r\n            <div className=\"text-center\" style={{ height: \"50px\" }}>\r\n              {loading && (\r\n                <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n              )}\r\n            </div>\r\n            <Button className={\"m-1\"} variant=\"success\" type=\"submit\">\r\n              {okBtnLabel}\r\n            </Button>\r\n            <Button\r\n              className={\"m-1\"}\r\n              variant=\"secondary\"\r\n              onClick={() => handleClose()}\r\n            >\r\n              Anuluj\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport {\r\n  backendUrl,\r\n  fetchConfirmEntryFee,\r\n  fetchRemoveFromEvent,\r\n  fetchSaveTeam,\r\n} from \"../utils/fetchUtils\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faClipboard,\r\n  faCoins,\r\n  faDollarSign,\r\n  faDownload,\r\n  faExclamation,\r\n  faTimesCircle,\r\n  faUserEdit,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { OkCancelModal } from \"../common/Modal\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport { Selector } from \"../common/Selector\";\r\nimport { BasicTeamDataForm } from \"./BasicTeamDataForm\";\r\nimport { TeamModal } from \"./TeamModal\";\r\nimport { QuickJoinPanel } from \"../join/QuickJoinPanel\";\r\nimport { download } from \"../utils/fileUtils\";\r\nimport { MyButton } from \"../common/Button\";\r\nimport { CarDiv, TeamDiv } from \"../common/Div\";\r\n\r\nexport const AdminTeamList = ({\r\n  show,\r\n  handleClose,\r\n  eventId,\r\n  eventName,\r\n  started,\r\n}) => {\r\n  const [teams, setTeams] = useState([]);\r\n  const [startEvent, setStartEvent] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [referee, setReferee] = useState(false);\r\n  const [refreshSelect, setRefreshSelect] = useState(false);\r\n  const [teamToRemove, setTeamToRemove] = useState({\r\n    driver: null,\r\n    teamId: null,\r\n  });\r\n  const [teamToEntryFee, setTeamToEntryFee] = useState({\r\n    driver: null,\r\n    teamId: null,\r\n  });\r\n  const [msg, setMsg] = useState();\r\n  const [eventClasses, setEventClasses] = useState([]);\r\n  const [teamToEdit, setTeamToEdit] = useState();\r\n  const [teamToPreview, setTeamToPreview] = useState();\r\n  const [quickJoin, setQuickJoin] = useState();\r\n  const [doSort, setDoSort] = useState(false);\r\n\r\n  const [downloadingOA, setDownloadingOA] = useState(false);\r\n  const [downloadingBK, setDownloadingBK] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (show) {\r\n      fetchReferee();\r\n      setLoading(true);\r\n      setTeams([]);\r\n      fetchEvent();\r\n    }\r\n    fetchTeams();\r\n  }, [show]);\r\n\r\n  const eraseTeamToRemove = () => {\r\n    setTeamToRemove({\r\n      driver: null,\r\n      teamId: null,\r\n    });\r\n  };\r\n\r\n  const eraseTeamToEntryFee = () => {\r\n    setTeamToEntryFee({\r\n      driver: null,\r\n      teamId: null,\r\n    });\r\n  };\r\n\r\n  const getDriverAndTeamId = (team) => {\r\n    return {\r\n      teamId: team.teamId,\r\n      driver: team.driver + \" / \" + team.coDriver,\r\n    };\r\n  };\r\n\r\n  const fetchTeams = () => {\r\n    if (eventId === undefined) return;\r\n    axios\r\n      .get(`${backendUrl()}/event/getTeams?eventId=${eventId}`)\r\n      .then((res) => {\r\n        setTeams(res.data.sort((a, b) => a.order - b.order));\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const fetchEvent = () => {\r\n    axios\r\n      .get(`${backendUrl()}/event/getEvent?eventId=${eventId}`)\r\n      .then((res) => {\r\n        setEventClasses(\r\n          res.data.eventClasses.map((x) => {\r\n            return { ...x, value: x.carClassId, label: x.carClass.name };\r\n          })\r\n        );\r\n      });\r\n  };\r\n\r\n  const fetchEntryFeeFile = (teamId, teamName) => {\r\n    download(\r\n      `${backendUrl()}/event/getEntryFeeFile?eventId=${eventId}&teamId=${teamId}`,\r\n      \"potwierdzenie_wplaty_\" + teamName + \".pdf\"\r\n    );\r\n  };\r\n\r\n  const fetchOaDocuments = () => {\r\n    setDownloadingOA(true);\r\n    download(\r\n      `${backendUrl()}/file/getEventTeamsData?eventId=${eventId}`,\r\n      \"dokumenty_oa_\" + eventName + \".pdf\",\r\n      setDownloadingOA(false)\r\n    );\r\n  };\r\n\r\n  const fetchBkDocuments = () => {\r\n    setDownloadingBK(true);\r\n    download(\r\n      `${backendUrl()}/file/getBkFiles?eventId=${eventId}`,\r\n      \"dokumenty_bk_\" + eventName + \".pdf\",\r\n      setDownloadingBK(false)\r\n    );\r\n  };\r\n  const fetchReferee = () => {\r\n    axios\r\n      .get(`${backendUrl()}/event/checkReferee?eventId=${eventId}`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setReferee(res.data);\r\n      });\r\n  };\r\n\r\n  const fetchStartEvent = () => {\r\n    axios\r\n      .post(`${backendUrl()}/event/startEvent?eventId=${eventId}`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then(() => {});\r\n  };\r\n\r\n  const sortByClass = () => {\r\n    setRefreshSelect(true);\r\n    axios\r\n      .post(`${backendUrl()}/event/sortByClass`, teams, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setTeams(res.data);\r\n        setRefreshSelect(false);\r\n      });\r\n  };\r\n\r\n  const saveNumbersAndClasses = () => {\r\n    axios\r\n      .post(\r\n        `${backendUrl()}/event/saveNumbersAndClasses?eventId=${eventId}`,\r\n        teams,\r\n        {\r\n          headers: authHeader(),\r\n        }\r\n      )\r\n      .then((res) => {\r\n        if (res.data) setMsg(\"Kolejność i klasy zostały zapisane\");\r\n        else setMsg(\"Coś poszło nie tak\");\r\n\r\n        setTimeout(() => setMsg(), 5000);\r\n      });\r\n  };\r\n\r\n  const handleOnDragEnd = (result) => {\r\n    if (!result.destination) return;\r\n\r\n    const items = Array.from(teams);\r\n    const [reorderedItem] = items.splice(result.source.index, 1);\r\n    items.splice(result.destination.index, 0, reorderedItem);\r\n\r\n    let order = 1;\r\n    items.map((x) => (x.order = order++));\r\n\r\n    setTeams(getOrdered(items));\r\n    setRefreshSelect(false);\r\n  };\r\n\r\n  const changeCarClass = (id, newCarClassId) => {\r\n    const index = teams.findIndex((x) => x.id === id);\r\n\r\n    if (teams[index].carClassId === newCarClassId) return;\r\n    teams[index].carClassId = newCarClassId;\r\n    setTeams(teams);\r\n  };\r\n\r\n  const saveTeam = (team) => {\r\n    setLoading(true);\r\n    fetchSaveTeam(team, () => {\r\n      fetchTeams();\r\n      setTeamToEdit();\r\n    });\r\n  };\r\n\r\n  const numberChanged = (value, item) => {\r\n    setSortedTeam(item, value !== \"\" ? Number(value) : \" \");\r\n  };\r\n\r\n  const checkRepeated = (value, item) => {\r\n    const numValue = Number(value);\r\n    if (\r\n      teams.find(\r\n        (x) => x.id !== item.id && x.forcedNumber && x.number === numValue\r\n      )\r\n    )\r\n      setSortedTeam(item, \"\");\r\n    // else setSortedTeam(item, Number(value));\r\n  };\r\n\r\n  const setSortedTeam = (item, numValue) => {\r\n    const tempTeams = teams.filter((x) => x.id !== item.id);\r\n    item.number = numValue;\r\n    item.forcedNumber = numValue !== \"\";\r\n\r\n    tempTeams.push(item);\r\n    tempTeams.sort((a, b) => a.order - b.order);\r\n\r\n    setTeams(getOrdered(tempTeams));\r\n  };\r\n\r\n  const getOrdered = (tempTeams) => {\r\n    const newTeams = [];\r\n    const forcedNumbers = teams\r\n      .filter((x) => x.forcedNumber)\r\n      .map((x) => x.number);\r\n    let index = 1;\r\n\r\n    for (let i in tempTeams) {\r\n      let item = tempTeams[i];\r\n      if (item.forcedNumber) {\r\n        newTeams.push(item);\r\n        continue;\r\n      }\r\n      if (!item.forcedNumber && !forcedNumbers.includes(index))\r\n        item.number = index++;\r\n      else {\r\n        while (forcedNumbers.includes(index)) index++;\r\n        item.number = index++;\r\n      }\r\n      newTeams.push(item);\r\n    }\r\n    return newTeams;\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      style={{ zIndex: teamToEdit || teamToPreview || quickJoin ? 1000 : 1055 }}\r\n      show={show}\r\n      onHide={handleClose}\r\n      backdrop=\"static\"\r\n      keyboard={false}\r\n      size=\"xl\"\r\n    >\r\n      <Modal.Header className=\"bg-dark text-white\" closeButton>\r\n        <Modal.Title>Lista zapisanych</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        {loading && (\r\n          <div className=\"text-center\">\r\n            <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n          </div>\r\n        )}\r\n        {!loading && teams.length === 0 && (\r\n          <h1 className=\"text-center\">Brak zgłoszeń</h1>\r\n        )}\r\n        {!loading && teams?.length > 0 && (\r\n          <>\r\n            <table>\r\n              <th className=\"\">\r\n                <td style={{ width: \"70px\" }}>Edycja</td>\r\n                <td style={{ width: \"60px\" }}>Nr</td>\r\n                <td style={{ width: \"350px\" }}>Kierowca</td>\r\n                <td style={{ width: \"350px\" }}>Samochód</td>\r\n                <td style={{ width: \"100px\" }}>Klasa</td>\r\n                <td style={{ width: \"100px\" }}>Zapłacone</td>\r\n                <td style={{ width: \"110px\" }}>Potwierdź wpisowe</td>\r\n                <td style={{ width: \"100px\" }}>Plik</td>\r\n                <td style={{ width: \"80px\" }}>OA</td>\r\n                <td style={{ width: \"80px\" }}>Usuń załogę</td>\r\n              </th>\r\n            </table>\r\n            <div style={{ overflowX: \"scroll\" }}>\r\n              <DragDropContext\r\n                onDragStart={() => setRefreshSelect(true)}\r\n                onDragEnd={handleOnDragEnd}\r\n              >\r\n                <Droppable droppableId=\"selectedCases\">\r\n                  {(provided) => (\r\n                    <ol\r\n                      className=\"selectedCases fw-bold\"\r\n                      style={{ minWidth: \"600px\" }}\r\n                      {...provided.droppableProps}\r\n                      ref={provided.innerRef}\r\n                    >\r\n                      {teams?.map((item, index) => {\r\n                        return (\r\n                          <Draggable\r\n                            key={item.order}\r\n                            draggableId={item.order.toString()}\r\n                            index={index}\r\n                            draggable={true}\r\n                          >\r\n                            {(provided) => (\r\n                              <li\r\n                                ref={provided.innerRef}\r\n                                {...provided.draggableProps}\r\n                                {...provided.dragHandleProps}\r\n                              >\r\n                                <Card className=\"my-1\">\r\n                                  <Card.Body className=\"p-0\">\r\n                                    <table className=\"m-0\">\r\n                                      <tr className=\"d-table-row fw-normal align-middle\">\r\n                                        <td\r\n                                          className={\r\n                                            item.teamChecked &&\r\n                                            item.entryFeePaid\r\n                                              ? \"bg-success\"\r\n                                              : \"\"\r\n                                          }\r\n                                          style={{ width: \"20px\" }}\r\n                                        >\r\n                                          <FontAwesomeIcon\r\n                                            icon={faUserEdit}\r\n                                            onClick={() =>\r\n                                              setTeamToEdit(item.team)\r\n                                            }\r\n                                            title={\"Edytuj dane\"}\r\n                                            cursor={\"pointer\"}\r\n                                          />\r\n                                        </td>\r\n                                        <td style={{ width: \"55px\" }}>\r\n                                          {/* <NrBadge value={item.number}></NrBadge> */}\r\n                                          <input\r\n                                            style={{\r\n                                              width: \"90%\",\r\n                                              backgroundColor: \"#ffad4f\",\r\n                                              fontWeight: item.forcedNumber\r\n                                                ? \"700\"\r\n                                                : \"100\",\r\n                                              borderRadius: \"20px\",\r\n                                              textAlign: \"center\",\r\n                                            }}\r\n                                            type=\"number\"\r\n                                            value={item.number}\r\n                                            onChange={(e) =>\r\n                                              numberChanged(\r\n                                                e.target.value,\r\n                                                item\r\n                                              )\r\n                                            }\r\n                                            onBlur={(e) =>\r\n                                              checkRepeated(\r\n                                                e.target.value,\r\n                                                item\r\n                                              )\r\n                                            }\r\n                                          />\r\n                                        </td>\r\n                                        <td style={{ width: \"270px\" }}>\r\n                                          <TeamDiv team={item.team}></TeamDiv>\r\n                                        </td>\r\n                                        <td style={{ width: \"270px\" }}>\r\n                                          <CarDiv\r\n                                            line1={\r\n                                              (item.team.currentCar?.brand ||\r\n                                                \"\") +\r\n                                              \" \" +\r\n                                              (item.team.currentCar?.model ||\r\n                                                \"\")\r\n                                            }\r\n                                            driveType={\r\n                                              item.team.currentCar\r\n                                                ?.driveTypeEnum\r\n                                            }\r\n                                          ></CarDiv>\r\n                                        </td>\r\n                                        <td\r\n                                          style={{\r\n                                            width: \"100px\",\r\n                                            display: \"flex\",\r\n                                          }}\r\n                                        >\r\n                                          {item.carClassId}\r\n                                          {!refreshSelect && (\r\n                                            <Selector\r\n                                              className={\"m-0 p-0\"}\r\n                                              options={eventClasses}\r\n                                              handleChange={(value) => {\r\n                                                changeCarClass(item.id, value);\r\n                                              }}\r\n                                              isValid={true}\r\n                                              value={item.carClassId}\r\n                                            />\r\n                                          )}\r\n                                          {refreshSelect && (\r\n                                            <Selector\r\n                                              className={\"m-0 p-0\"}\r\n                                              options={eventClasses}\r\n                                              handleChange={(value) => {\r\n                                                changeCarClass(item.id, value);\r\n                                              }}\r\n                                              isValid={true}\r\n                                              skipDefault={true}\r\n                                            />\r\n                                          )}\r\n                                        </td>\r\n                                        <td\r\n                                          style={{\r\n                                            width: \"90px\",\r\n                                            textAlign: \"center\",\r\n                                          }}\r\n                                        >\r\n                                          {item.entryFeePaid ? (\r\n                                            <FontAwesomeIcon\r\n                                              className={\"text-success\"}\r\n                                              icon={faDollarSign}\r\n                                            />\r\n                                          ) : (\r\n                                            <FontAwesomeIcon\r\n                                              className={\"text-danger\"}\r\n                                              icon={faExclamation}\r\n                                            />\r\n                                          )}\r\n                                        </td>\r\n                                        <td style={{ width: \"90px\" }}>\r\n                                          <FontAwesomeIcon\r\n                                            icon={faCoins}\r\n                                            onClick={() =>\r\n                                              setTeamToEntryFee(\r\n                                                getDriverAndTeamId(item.team)\r\n                                              )\r\n                                            }\r\n                                            title={\"Potwierdź wpisowe\"}\r\n                                            cursor={\"pointer\"}\r\n                                          />\r\n                                        </td>\r\n                                        <td style={{ width: \"90px\" }}>\r\n                                          {item.entryFeeFile !== null ? (\r\n                                            <FontAwesomeIcon\r\n                                              icon={faDownload}\r\n                                              onClick={() =>\r\n                                                fetchEntryFeeFile(\r\n                                                  item.team.teamId,\r\n                                                  item.team.driver\r\n                                                )\r\n                                              }\r\n                                              title={\"Pobierz plik\"}\r\n                                              cursor={\"pointer\"}\r\n                                            />\r\n                                          ) : (\r\n                                            <></>\r\n                                          )}\r\n                                        </td>\r\n                                        <td style={{ width: \"80px\" }}>\r\n                                          {item.teamChecked ? (\r\n                                            <FontAwesomeIcon\r\n                                              className={\"text-success\"}\r\n                                              icon={faClipboard}\r\n                                              onClick={() =>\r\n                                                setTeamToPreview(\r\n                                                  item.team.teamId\r\n                                                )\r\n                                              }\r\n                                              title={\"Podgląd danych\"}\r\n                                              cursor={\"pointer\"}\r\n                                            />\r\n                                          ) : (\r\n                                            <FontAwesomeIcon\r\n                                              icon={faClipboard}\r\n                                              onClick={() =>\r\n                                                setTeamToPreview(\r\n                                                  item.team.teamId\r\n                                                )\r\n                                              }\r\n                                              title={\"Podgląd danych\"}\r\n                                              cursor={\"pointer\"}\r\n                                            />\r\n                                          )}\r\n                                        </td>\r\n                                        <td\r\n                                          style={{\r\n                                            width: \"60px\",\r\n                                            color: \"red\",\r\n                                          }}\r\n                                        >\r\n                                          <FontAwesomeIcon\r\n                                            icon={faTimesCircle}\r\n                                            onClick={() =>\r\n                                              setTeamToRemove(\r\n                                                getDriverAndTeamId(item.team)\r\n                                              )\r\n                                            }\r\n                                            title={\"Usuń załoge\"}\r\n                                            cursor={\"pointer\"}\r\n                                          />\r\n                                        </td>\r\n                                      </tr>\r\n                                    </table>\r\n                                  </Card.Body>\r\n                                </Card>\r\n                              </li>\r\n                            )}\r\n                          </Draggable>\r\n                        );\r\n                      })}\r\n                      {provided.placeholder}\r\n                    </ol>\r\n                  )}\r\n                </Droppable>\r\n              </DragDropContext>\r\n            </div>\r\n          </>\r\n        )}\r\n        {teamToRemove.teamId !== null && (\r\n          <OkCancelModal\r\n            show={true}\r\n            title={\"Usuwanie załogi\"}\r\n            text={`Czy napewno chcesz usunąć załoge: ${teamToRemove.driver}`}\r\n            handleAccept={() => {\r\n              fetchRemoveFromEvent(eventId, teamToRemove.teamId, () =>\r\n                fetchTeams()\r\n              );\r\n              eraseTeamToRemove();\r\n            }}\r\n            handleClose={() => {\r\n              eraseTeamToRemove();\r\n            }}\r\n          />\r\n        )}\r\n        {teamToEntryFee.teamId !== null && (\r\n          <OkCancelModal\r\n            show={true}\r\n            title={\"Potwierdzanie wpisowego\"}\r\n            text={`Czy napewno chcesz potwierdzić wpłatę wpisowego przez załoge: ${teamToEntryFee.driver}`}\r\n            handleAccept={() => {\r\n              fetchConfirmEntryFee(eventId, teamToEntryFee.teamId, () =>\r\n                fetchTeams()\r\n              );\r\n              eraseTeamToEntryFee();\r\n            }}\r\n            handleClose={() => {\r\n              eraseTeamToEntryFee();\r\n            }}\r\n          />\r\n        )}\r\n        {startEvent && (\r\n          <OkCancelModal\r\n            show={true}\r\n            title={\"Zamykanie listy / Rozpoczynanie wydarzenia\"}\r\n            text={`Czy napewno chcesz zamknąć listę i rozpocząć wydarzenie? Operacja nieodwracalna`}\r\n            handleAccept={() => {\r\n              fetchStartEvent();\r\n              setStartEvent(false);\r\n            }}\r\n            handleClose={() => setStartEvent(false)}\r\n          />\r\n        )}\r\n        {teamToEdit && (\r\n          <BasicTeamDataForm\r\n            show={true}\r\n            myTeam={teamToEdit}\r\n            eventId={eventId}\r\n            onSave={(team) => saveTeam(team)}\r\n            okBtnLabel={\"Zapisz zmiany\"}\r\n            handleClose={() => setTeamToEdit()}\r\n            title={\"Edycja danych załogi\"}\r\n          />\r\n        )}\r\n        {doSort && (\r\n          <OkCancelModal\r\n            show={true}\r\n            title={\"Sortowanie\"}\r\n            text={`Czy chcesz posortować zawodników? Pamiętaj, że zresetuje to numery które nie zostały wpisane ręcznie (nie-pogrubione). Jeśli chcesz nadać komuś numer na stałe edytuj wartość na liście.`}\r\n            handleAccept={() => {\r\n              sortByClass();\r\n              setDoSort(false);\r\n            }}\r\n            handleClose={() => setDoSort(false)}\r\n          />\r\n        )}\r\n        {teamToPreview && (\r\n          <TeamModal\r\n            show={true}\r\n            handleClose={() => {\r\n              fetchTeams();\r\n              setTeamToPreview();\r\n            }}\r\n            myEvent={{\r\n              eventId: eventId,\r\n              started: false,\r\n              teamId: teamToPreview,\r\n            }}\r\n            mode=\"preview\"\r\n          />\r\n        )}\r\n        <QuickJoinPanel\r\n          show={quickJoin}\r\n          handleClose={() => {\r\n            fetchTeams();\r\n            setQuickJoin();\r\n          }}\r\n          eventId={eventId}\r\n        />\r\n        <div className=\"text-center\">\r\n          <Button\r\n            className={\"m-1\"}\r\n            variant=\"primary\"\r\n            onClick={() => setDoSort(true)}\r\n          >\r\n            Sortuj wstępnie wg. klas\r\n          </Button>\r\n          <MyButton\r\n            variant=\"primary\"\r\n            isLoading={downloadingOA}\r\n            onClick={() => fetchOaDocuments()}\r\n            msg=\"Pobierz dokumenty OA\"\r\n            loadingMsg=\"Pobieranie dokumentów OA\"\r\n          />\r\n          <MyButton\r\n            variant=\"primary\"\r\n            isLoading={downloadingBK}\r\n            onClick={() => fetchBkDocuments()}\r\n            msg=\"Pobierz dokumenty BK\"\r\n            loadingMsg=\"Pobieranie dokumentów BK\"\r\n          />\r\n          <p>{msg}</p>\r\n        </div>\r\n      </Modal.Body>\r\n      <Modal.Footer className={\"justify-content-center\"}>\r\n        <div className=\"d-flex\">\r\n          {referee && (\r\n            <Button\r\n              className={\"m-2\"}\r\n              variant=\"success\"\r\n              onClick={() => setQuickJoin(true)}\r\n            >\r\n              Dodaj zawodnika\r\n            </Button>\r\n          )}\r\n          {/* {referee && (\r\n            <Button\r\n              className={\"m-2\"}\r\n              variant=\"success\"\r\n              onClick={() => setStartEvent(true)}\r\n              disabled={started}\r\n            >\r\n              Zamknij liste / Rozpocznij wydarzenie\r\n            </Button>\r\n          )} */}\r\n          <Button\r\n            className={\"m-2\"}\r\n            variant=\"success\"\r\n            onClick={saveNumbersAndClasses}\r\n          >\r\n            Zapisz klasy i kolejność załóg\r\n          </Button>\r\n          <Button className={\"m-2\"} variant=\"secondary\" onClick={handleClose}>\r\n            Wyjdź\r\n          </Button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { InputLabeled } from \"../common/InputLabeled\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport { faBook, faCarAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { CustomDatePicker } from \"../common/DateInput\";\r\nimport { CalendarContainer } from \"react-datepicker\";\r\nimport { backendUrl } from \"../utils/fetchUtils\";\r\nimport authHeader from \"../../service/auth-header\";\r\n\r\nexport const AddStatementModal = ({ show, handleClose, eventId }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [msg, setMsg] = useState(\"\");\r\n  const [statement, setStatement] = useState({});\r\n  const [postFile, setPostFile] = useState();\r\n\r\n  useEffect(() => {\r\n    setMsg(\"\");\r\n    setLoading(false);\r\n    setPostFile();\r\n    setStatement({\r\n      eventId: eventId,\r\n      date: new Date(),\r\n      name: \"\",\r\n      description: \"\",\r\n      file: null,\r\n    });\r\n  }, [show]);\r\n\r\n  const handleSubmit = (event) => {\r\n    setLoading(true);\r\n    event.preventDefault();\r\n    axios\r\n      .post(`${backendUrl()}/statement/addStatement`, statement, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        if (postFile) fetchPostFile(res.data);\r\n        else {\r\n          setMsg(\"Dodano komunikat\");\r\n          setLoading(false);\r\n        }\r\n      });\r\n  };\r\n\r\n  const fetchPostFile = (statementId) => {\r\n    axios\r\n      .post(\r\n        `${backendUrl()}/statement/addFileToStatement?statementId=${statementId}`,\r\n        postFile,\r\n        {\r\n          headers: authHeader(),\r\n        }\r\n      )\r\n      .then((res) => {\r\n        setMsg(res.data);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setStatement({ ...statement, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const DatePickerContainer = ({ className, children }) => {\r\n    return (\r\n      <>\r\n        <CalendarContainer className={className}>\r\n          <div style={{ display: \"flex\" }}>{children}</div>\r\n        </CalendarContainer>\r\n      </>\r\n    );\r\n  };\r\n  const addFile = (e) => {\r\n    const currentFile = e.target.files[0];\r\n    const formData = new FormData();\r\n    formData.append(\"file\", currentFile);\r\n\r\n    setStatement({\r\n      ...statement,\r\n      fileName: currentFile.name,\r\n    });\r\n    setPostFile(formData);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={handleClose}\r\n      backdrop=\"static\"\r\n      keyboard={false}\r\n      size=\"lg\"\r\n    >\r\n      <Modal.Header className=\"bg-dark text-white\" closeButton>\r\n        <Modal.Title>Dodawanie komunikatu</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div className=\"d-flex justify-content-center text-center\">\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"row d-flex\">\r\n              <CustomDatePicker\r\n                label={\"Data komunikatu\"}\r\n                onChange={(value) =>\r\n                  setStatement({ ...statement, date: value })\r\n                }\r\n                selected={statement.date}\r\n                calendarContainer={DatePickerContainer}\r\n                minDate={null}\r\n                maxDate={null}\r\n              />\r\n              <InputLabeled\r\n                label=\"Nazwa komunikatu\"\r\n                name=\"name\"\r\n                handleChange={handleChange}\r\n                value={statement.name}\r\n                big={true}\r\n                required={true}\r\n                icon={faBook}\r\n              />\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-12\">\r\n                <InputLabeled\r\n                  label=\"Treść komunikatu\"\r\n                  inputPlaceholder=\"Dodaj treść komunikatu tekstowego lub załącz plik który będzie udostępniony do pobrania\"\r\n                  name=\"description\"\r\n                  handleChange={handleChange}\r\n                  value={statement.description}\r\n                  big={true}\r\n                  icon={faCarAlt}\r\n                  multiline={5}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-12\">\r\n                <span className={\"font14 input-group-text py-0 \"} id=\"\">\r\n                  Dodaj plik\r\n                </span>\r\n                <div class=\"input-group mb-0\">\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"file\"\r\n                    accept=\"application/pdf,application/vnd.ms-excel\"\r\n                    onChange={(e) => addFile(e)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"text-center\" style={{ height: \"50px\" }}>\r\n              <h4 className=\"fw-bold\">{msg}</h4>\r\n              {loading && (\r\n                <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n              )}\r\n            </div>\r\n            <Button\r\n              className={\"m-1\"}\r\n              variant=\"success\"\r\n              type=\"submit\"\r\n              //   disabled={msg}\r\n            >\r\n              Dodaj\r\n            </Button>\r\n            <Button\r\n              className={\"m-1\"}\r\n              variant=\"secondary\"\r\n              onClick={() => handleClose()}\r\n            >\r\n              {\"Wyjdź\"}\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport ResultTable from \"../common/table/ResultTable\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faDownload,\r\n  faSearch,\r\n  faTimesCircle,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { AddStatementModal } from \"./AddStatementModal\";\r\nimport { backendUrl, checkReferee, fetchStatement } from \"../utils/fetchUtils\";\r\nimport moment from \"moment\";\r\nimport { openFile } from \"../utils/fileUtils\";\r\nimport { OkCancelModal, OkModal } from \"../common/Modal\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport { Spinner } from \"react-bootstrap\";\r\n\r\nexport const StatementModal = ({ show, handleClose, event }) => {\r\n  const [addStatement, setAddStatement] = useState();\r\n  const [descriptionModal, setDescriptionModal] = useState();\r\n  const [deleteModal, setDeleteModal] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [statements, setStatements] = useState([]);\r\n  const [referee, setReferee] = useState(false);\r\n  const [hiddenColumns, setHiddenColumns] = useState([\"file\", \"delete\"]);\r\n\r\n  useEffect(() => {\r\n    if (!show) return;\r\n\r\n    if (event?.eventId !== undefined) checkReferee(event?.eventId, setReferee);\r\n\r\n    fetchGetStatements();\r\n  }, [show]);\r\n\r\n  useEffect(() => {\r\n    if (referee) setHiddenColumns([\"file\"]);\r\n  }, [referee]);\r\n\r\n  const fetchGetStatements = () => {\r\n    setLoading(show);\r\n    fetchStatement(event?.eventId, (data) => {\r\n      setStatements(data);\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  const deleteStatement = (statementId) => {\r\n    axios\r\n      .delete(\r\n        `${backendUrl()}/statement/deleteStatement?statementId=${statementId}`,\r\n        {\r\n          headers: authHeader(),\r\n        }\r\n      )\r\n      .then((res) => fetchGetStatements());\r\n  };\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        width: \"7%\",\r\n        id: \"index\",\r\n        Header: \"L.p\",\r\n        accessor: (cellInfo) => cellInfo.number,\r\n        disableFilters: true,\r\n        Cell: (row) => <div className=\"ps-2\"> {row.row.index + 1}</div>,\r\n      },\r\n      {\r\n        width: \"25%\",\r\n        id: \"date\",\r\n        Header: \"Data dodania\",\r\n        accessor: (cellInfo) => cellInfo.date,\r\n        disableFilters: true,\r\n        Cell: (row) => (\r\n          <div className=\"ps-2\">\r\n            {moment(row.value).format(\"DD-MM-YYYY, HH:mm\")}\r\n          </div>\r\n        ),\r\n      },\r\n      {\r\n        width: \"50%\",\r\n        id: \"name\",\r\n        Header: \"Nazwa\",\r\n        accessor: (cellInfo) => cellInfo.name,\r\n        disableFilters: true,\r\n      },\r\n      {\r\n        width: \"5%\",\r\n        id: \"file\",\r\n        Header: \"Plik\",\r\n        accessor: (cellInfo) => cellInfo.file,\r\n        disableFilters: true,\r\n      },\r\n      {\r\n        width: \"7%\",\r\n        id: \"download\",\r\n        Header: \"Plik\",\r\n        accessor: (cellInfo) => cellInfo.fileName,\r\n        disableFilters: true,\r\n        Cell: (row) => {\r\n          return row.value && row.row.original.file ? (\r\n            <FontAwesomeIcon\r\n              icon={faDownload}\r\n              title={\"Pobierz\"}\r\n              cursor={\"pointer\"}\r\n              onClick={() => {\r\n                openFile(row.row.original.file, row.value);\r\n              }}\r\n            />\r\n          ) : (\r\n            <></>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        width: \"9%\",\r\n        id: \"view\",\r\n        Header: \"Opis\",\r\n        accessor: (cellInfo) => cellInfo.description,\r\n        disableFilters: true,\r\n        Cell: (row) => {\r\n          return row.value ? (\r\n            <FontAwesomeIcon\r\n              icon={faSearch}\r\n              title={\"Podgląd\"}\r\n              cursor={\"pointer\"}\r\n              onClick={() => setDescriptionModal(row.row.original)}\r\n            />\r\n          ) : (\r\n            <></>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        width: \"10%\",\r\n        id: \"delete\",\r\n        Header: \"Usuń\",\r\n        accessor: (cellInfo) => cellInfo.description,\r\n        disableFilters: true,\r\n        Cell: (row) => {\r\n          return (\r\n            <FontAwesomeIcon\r\n              icon={faTimesCircle}\r\n              title={\"Usuń komunikat\"}\r\n              cursor={\"pointer\"}\r\n              className=\"text-danger\"\r\n              onClick={() => setDeleteModal(row.row.original)}\r\n            />\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    [hiddenColumns]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        show={show}\r\n        style={{\r\n          zIndex: addStatement || descriptionModal || deleteModal ? 1000 : 1055,\r\n        }}\r\n        onHide={handleClose}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n        size=\"xl\"\r\n      >\r\n        <Modal.Header closeButton className=\"bg-dark text-white\">\r\n          <Modal.Title className=\"text-white\">{`Komunikaty`}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <h5 className=\"text-center\"> {event.name}</h5>{\" \"}\r\n          {loading ? (\r\n            <div className=\"text-center\">\r\n              <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n            </div>\r\n          ) : statements.length === 0 ? (\r\n            <h4 className=\"text-center pt-3\">\r\n              Organizator nie dodał komunikatów\r\n            </h4>\r\n          ) : (\r\n            <ResultTable\r\n              columns={columns}\r\n              data={statements}\r\n              hiddenColumns={hiddenColumns}\r\n              isLoading={loading}\r\n              isHeader={true}\r\n              manualPagination={true}\r\n            />\r\n          )}\r\n        </Modal.Body>\r\n        <Modal.Footer className={\"justify-content-center\"}>\r\n          <div className=\"d-flex\">\r\n            {referee && (\r\n              <Button\r\n                className={\"m-1\"}\r\n                variant=\"success\"\r\n                onClick={() => setAddStatement(true)}\r\n              >\r\n                Dodaj komunikat\r\n              </Button>\r\n            )}\r\n            <Button className={\"m-1\"} variant=\"secondary\" onClick={handleClose}>\r\n              Wyjdź\r\n            </Button>\r\n          </div>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <AddStatementModal\r\n        show={addStatement}\r\n        handleClose={() => {\r\n          setAddStatement();\r\n          fetchGetStatements();\r\n        }}\r\n        eventId={event?.eventId}\r\n      />\r\n      {descriptionModal && (\r\n        <OkModal\r\n          show={true}\r\n          title={\"Komunikat \" + descriptionModal.name}\r\n          text={\r\n            \"Dodano: \" +\r\n            moment(descriptionModal.date).format(\"dddd, DD MMM YYYY, HH:mm\") +\r\n            \"\\n\\n\" +\r\n            descriptionModal.description\r\n          }\r\n          handleAccept={() => setDescriptionModal()}\r\n        />\r\n      )}\r\n      {deleteModal && (\r\n        <OkCancelModal\r\n          show={true}\r\n          title={\"Usuwanie komunikatu\"}\r\n          text={`Czy chcesz usunąć komunikat ${deleteModal.name} ?`}\r\n          handleAccept={() => {\r\n            deleteStatement(deleteModal.statementId);\r\n            setDeleteModal();\r\n          }}\r\n          handleClose={() => setDeleteModal()}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","/* eslint-disable react/display-name */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { backendUrl, checkReferee } from \"../utils/fetchUtils\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { NewEventForm } from \"../event/NewEventForm\";\r\nimport { EventCard } from \"../common/EventCard\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport { TeamListModal } from \"../team/TeamListModal\";\r\nimport { EventModal } from \"../event/EventModal\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport { AdminTeamList } from \"../team/AdminTeamList\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport { StatementModal } from \"../statement/StatementModal\";\r\n\r\nconst HomePage = (props) => {\r\n  const [futureEvents, setFutureEvents] = useState([]);\r\n  const [archiveEvents, setArchiveEvents] = useState([]);\r\n  const [createEvent, setCreateEvent] = useState();\r\n  const [eventToTeamList, setEventToTeamList] = useState();\r\n  const [eventToTeamPanel, setEventToTeamPanel] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [mainAdmin, setMainAdmin] = useState(false);\r\n  const [redirected, setRedirected] = useState(false);\r\n  const [showStatement, setShowStatement] = useState();\r\n\r\n  let eventRedirect = useLocation().search;\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const fetchEvents = () => {\r\n    setLoading(true);\r\n\r\n    let endDay = new Date();\r\n    endDay.setHours(23, 59, 59, 999);\r\n    endDay.setDate(new Date().getDate() - 1);\r\n\r\n    axios\r\n      .get(`${backendUrl()}/event/getAll`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setFutureEvents(\r\n          res.data\r\n            .filter((x) => endDay.getTime() <= new Date(x.date).getTime())\r\n            .sort((x, y) => (x.date < y.date ? -1 : 1))\r\n        );\r\n        setArchiveEvents(\r\n          res.data\r\n            .filter((x) => endDay.getTime() > new Date(x.date).getTime())\r\n            .sort((x, y) => (x.date > y.date ? -1 : 1))\r\n        );\r\n        if (eventRedirect !== undefined && !redirected) {\r\n          const event = res.data.find(\r\n            (x) => x.eventId === Number(eventRedirect.replace(\"?\", \"\"))\r\n          );\r\n          setEventToTeamPanel(event);\r\n          eventRedirect = null;\r\n          setRedirected(true);\r\n        }\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const fetchMainAdmin = () => {\r\n    if (sessionStorage.getItem(\"username\") !== null)\r\n      axios\r\n        .get(\r\n          `${backendUrl()}/auth/isMainAdmin?login=${sessionStorage.getItem(\r\n            \"username\"\r\n          )}`,\r\n          {\r\n            headers: authHeader(),\r\n          }\r\n        )\r\n        .then((res) => {\r\n          setMainAdmin(res.data);\r\n        });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchEvents();\r\n    fetchMainAdmin();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <p style={{ fontSize: \"11px\" }} className=\"my-0 py-0\">\r\n        Aplikacja w fazie testów\r\n      </p>\r\n      <Card className=\" my-1 bg-dark text-white\">\r\n        <h3>Najbliższe wydarzenia</h3>\r\n      </Card>\r\n      <div className=\"row justify-content-center\">\r\n        {loading && (\r\n          <div className=\"text-center\">\r\n            <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n          </div>\r\n        )}\r\n        {futureEvents.map((x) => (\r\n          <EventCard\r\n            key={x.eventId}\r\n            event={x}\r\n            onJoin={() => setEventToTeamPanel(x)}\r\n            onScore={() => {\r\n              localStorage.setItem(\"eventId\", x.eventId);\r\n              navigate(\"event\", { state: { eventId: x.eventId } });\r\n            }}\r\n            onTeamList={() => {\r\n              checkReferee(x.eventId, setMainAdmin);\r\n              setEventToTeamList(x);\r\n            }}\r\n            onStatement={() => setShowStatement(x)}\r\n            onEdit={() => setCreateEvent(x)}\r\n            mainAdmin={mainAdmin}\r\n          />\r\n        ))}\r\n      </div>\r\n      <Card className=\"my-1 bg-dark text-white\">\r\n        <h3>Archiwalne wydarzenia</h3>\r\n      </Card>\r\n\r\n      <div className=\"row justify-content-center\">\r\n        {loading && (\r\n          <div className=\"text-center\">\r\n            <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n          </div>\r\n        )}\r\n        {archiveEvents.map((x) => (\r\n          <EventCard\r\n            key={x.eventId}\r\n            event={x}\r\n            onJoin={() => setEventToTeamPanel(x)}\r\n            onScore={() => {\r\n              localStorage.setItem(\"eventId\", x.eventId);\r\n              navigate(\"event\", { state: { eventId: x.eventId } });\r\n            }}\r\n            onTeamList={() => setEventToTeamList(x)}\r\n            onStatement={() => setShowStatement(x)}\r\n            onEdit={() => setCreateEvent(x)}\r\n            mainAdmin={mainAdmin}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className=\"p-3 border-top\">\r\n        {mainAdmin && (\r\n          <Button\r\n            className={\"border-top mx-3\"}\r\n            variant=\"primary\"\r\n            onClick={() => setCreateEvent(true)}\r\n          >\r\n            Dodaj wydarzenie\r\n          </Button>\r\n        )}\r\n      </div>\r\n      <NewEventForm\r\n        show={createEvent !== undefined}\r\n        handleClose={() => {\r\n          setCreateEvent();\r\n          fetchEvents();\r\n        }}\r\n        event={createEvent}\r\n      />\r\n      {mainAdmin && (\r\n        <AdminTeamList\r\n          show={eventToTeamList !== undefined}\r\n          handleClose={() => {\r\n            setEventToTeamList();\r\n            fetchEvents();\r\n          }}\r\n          eventId={eventToTeamList?.eventId}\r\n          eventName={eventToTeamList?.name}\r\n          started={eventToTeamList?.started}\r\n        />\r\n      )}\r\n      {!mainAdmin && (\r\n        <TeamListModal\r\n          show={eventToTeamList !== undefined}\r\n          handleClose={() => {\r\n            setEventToTeamList();\r\n            fetchEvents();\r\n          }}\r\n          eventId={eventToTeamList?.eventId}\r\n          started={eventToTeamList?.started}\r\n        />\r\n      )}\r\n      {showStatement && (\r\n        <StatementModal\r\n          show={true}\r\n          handleClose={() => setShowStatement()}\r\n          event={showStatement}\r\n        />\r\n      )}\r\n      <EventModal\r\n        show={eventToTeamPanel !== undefined}\r\n        handleClose={() => {\r\n          setEventToTeamPanel();\r\n          fetchEvents();\r\n        }}\r\n        event={eventToTeamPanel}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n"],"names":["OkCancelModal","show","title","text","handleAccept","handleClose","onHide","backdrop","keyboard","closeButton","className","variant","onClick","OkModal","style","whiteSpace","NewEventForm","event","useState","name","description","date","Date","signDeadline","admin","stages","organizer","logoPath","awdClassification","rwdClassification","fwdClassification","myEvent","setMyEvent","index","distance","startTime","startFrequency","stage","setStage","carClassId","carClassName","maxEngineCapacity","eventId","awd","eventClass","setEventClass","eventPaths","setEventPaths","path","setPath","eventFiles","setEventFiles","file","fileName","setFile","logoFile","setLogoFile","setStages","referee","setReferee","refereeOptions","setRefereeOptions","eventClasses","setEventClasses","eventClassesOptions","setEventClassesOptions","removeEvent","setRemoveEvent","useEffect","axios","backendUrl","headers","authHeader","then","res","data","undefined","fetchEventToEdit","handleChange","target","value","handleStageChange","map","x","carClass","DatePickerContainer","children","CalendarContainer","display","Modal","size","Card","InputLabeled","label","big","multiline","inputPlaceholder","onChange","selected","calendarContainer","minDate","maxDate","Selector","options","id","tempRef","find","newRef","userId","Number","username","isValid","skipDefault","Table","responsive","key","icon","faTimesCircle","filter","cursor","tempClass","e","Button","push","Form","inline","type","checked","accept","currentFile","files","formData","FormData","append","addLogoFile","length","format","tempStages","onlyNumber","elem","disabled","link","fileId","addFile","forEach","f","EventCard","onJoin","onTeamList","onScore","onEdit","onStatement","mainAdmin","eventDeadlined","getTime","statementCount","setStatementCount","fetchStatement","faEdit","moment","width","logoPathFile","src","alt","joined","faStar","left","top","Badge","pill","bg","TeamListModal","started","teams","setTeams","loading","setLoading","fetchTeams","columns","useMemo","Header","accessor","cellInfo","number","disableFilters","Cell","row","NrBadge","team","currentCar","line1","brand","model","line2","original","carBrand","driveType","driveTypeEnum","engineCapacity","entryFeePaid","faCheck","faQuestion","color","fontSize","Spinner","animation","ResultTable","isLoading","isFooter","isHeader","manualPagination","QuickJoinPanel","msg","setMsg","setOptions","coSportLicense","sportLicense","birthDate","carId","year","licensePlate","vin","turbo","petrol","insurance","insuranceExpiryDate","carInspectionExpiryDate","setTeam","onSubmit","preventDefault","driver","required","faUserAstronaut","coDriver","faUserClock","club","faBuilding","coClub","faCar","faCarAlt","driveTypeOption","height","EventModal","navigate","useNavigate","uploading","setUploading","fileMsg","setFileMsg","notJoined","setNotJoined","quickJoin","setQuickJoin","activeTab","setActiveTab","fillTeam","setFillTeam","loggedUser","sessionStorage","getItem","fetchGetTeam","signDeadlined","teamId","status","catch","error","zIndex","Tabs","activeKey","onSelect","Tab","eventKey","rel","href","download","downloadFile","fetchUpload","form","fetchRemoveFromEvent","TeamModal","handleOk","BasicTeamDataForm","myTeam","onSave","okBtnLabel","teamName","faUserFriends","AdminTeamList","eventName","startEvent","setStartEvent","refreshSelect","setRefreshSelect","teamToRemove","setTeamToRemove","teamToEntryFee","setTeamToEntryFee","teamToEdit","setTeamToEdit","teamToPreview","setTeamToPreview","doSort","setDoSort","downloadingOA","setDownloadingOA","downloadingBK","setDownloadingBK","fetchReferee","fetchEvent","eraseTeamToRemove","eraseTeamToEntryFee","getDriverAndTeamId","sort","a","b","order","changeCarClass","newCarClassId","findIndex","setSortedTeam","item","numValue","tempTeams","forcedNumber","getOrdered","newTeams","forcedNumbers","i","includes","overflowX","onDragStart","onDragEnd","result","destination","items","Array","from","reorderedItem","splice","source","droppableId","provided","minWidth","droppableProps","ref","innerRef","draggableId","toString","draggable","draggableProps","dragHandleProps","teamChecked","faUserEdit","backgroundColor","fontWeight","borderRadius","textAlign","numberChanged","onBlur","checkRepeated","faDollarSign","faExclamation","faCoins","entryFeeFile","faDownload","faClipboard","placeholder","fetchConfirmEntryFee","fetchSaveTeam","saveTeam","mode","loadingMsg","setTimeout","AddStatementModal","statement","setStatement","postFile","setPostFile","statementId","faBook","class","StatementModal","addStatement","setAddStatement","descriptionModal","setDescriptionModal","deleteModal","setDeleteModal","statements","setStatements","hiddenColumns","setHiddenColumns","checkReferee","fetchGetStatements","openFile","faSearch","props","futureEvents","setFutureEvents","archiveEvents","setArchiveEvents","createEvent","setCreateEvent","eventToTeamList","setEventToTeamList","eventToTeamPanel","setEventToTeamPanel","setMainAdmin","redirected","setRedirected","showStatement","setShowStatement","eventRedirect","useLocation","search","fetchEvents","endDay","setHours","setDate","getDate","y","replace","localStorage","setItem","state"],"sourceRoot":""}