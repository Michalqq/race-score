{"version":3,"file":"736.js","mappings":"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","sources":["webpack://javascript/./src/components/common/Div.jsx","webpack://javascript/./src/components/common/NrBadge.jsx","webpack://javascript/./src/components/common/table/LoadingTable.jsx","webpack://javascript/./src/components/common/table/TableHeader.jsx","webpack://javascript/./src/components/common/table/TableFooter.jsx","webpack://javascript/./src/components/common/table/EmptyDataRow.jsx","webpack://javascript/./src/components/common/table/ResultTable.jsx","webpack://javascript/./src/components/tables/PenaltyTable.jsx","webpack://javascript/./src/components/tables/DisqualificationTable.jsx","webpack://javascript/./src/components/page/StageScorePage.jsx","webpack://javascript/./src/components/utils/fileUtils.js"],"sourcesContent":["export const TeamDiv = ({ team }) => {\r\n  const getWithBracketIfNotEmpty = (value) => {\r\n    if (value !== undefined && value !== null) return \" (\" + value + \")\";\r\n\r\n    return \"\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"float-left\">\r\n      <div className=\"d-flex pt-1\" style={{ flexWrap: \"wrap\" }}>\r\n        <h6 className=\"text-left font14 fw-bolder fst-italic m-0\">\r\n          {team.driver}\r\n        </h6>\r\n        <p className=\"text-left font12 p-0 div-club align-self-center\">\r\n          {getWithBracketIfNotEmpty(team.club)}\r\n        </p>\r\n      </div>\r\n      <div className=\"d-flex\" style={{ flexWrap: \"wrap\" }}>\r\n        <p className=\"text-left font13 fw-bolder m-0 p-0\">{team.coDriver}</p>\r\n        <p className=\"text-left font12 p-0 div-club align-self-center\">\r\n          {getWithBracketIfNotEmpty(team.coClub)}\r\n        </p>\r\n      </div>\r\n      <p className=\"text-left font13 fw-bolder m-0 p-0\">\r\n        {team.teamName || \"\"}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\nexport const CarDiv = ({ line1, line2, carBrand, driveType }) => {\r\n  let brand = carBrand?.toLowerCase().replace(/ /g, \"\");\r\n\r\n  if (brand === \"vw\") brand = \"volkswagen\";\r\n\r\n  const path = `https://vehapi.com/img/car-logos/${brand}.png`;\r\n\r\n  return (\r\n    <div className=\"col-12 d-flex\">\r\n      <div className=\"col-xl-3 col-4 py-2 align-self-center\">\r\n        <img\r\n          className=\"img-fluid\"\r\n          style={{ height: \"23px\" }}\r\n          src={path}\r\n          alt=\"\"\r\n        ></img>\r\n      </div>\r\n      <div className=\"col-xl-9 col-7\">\r\n        <h6 className=\"font13 fw-bolder m-0\">{line1}</h6>\r\n        {driveType && <p className=\"font12 m-0 p-0\">{driveType}</p>}\r\n        <p className=\"font12 m-0 p-0 fw-bolder\">{line2}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const ScoreDiv = ({ line1, line2, line3 }) => {\r\n  return (\r\n    <div className=\"float-left\">\r\n      <h6 className=\"font13 fw-bolder m-0\">{line1}</h6>\r\n      <p className=\"font12 m-0 p-0\">{line2}</p>\r\n      <p className=\"font12 m-0 p-0\">{line3}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const ScoreDivPenalty = ({ line1, line2 }) => {\r\n  return (\r\n    <div className=\"float-left\">\r\n      <h6 className=\"font13 fw-bolder m-0\">{line1}</h6>\r\n      {line2 === \"0\" ? (\r\n        <></>\r\n      ) : (\r\n        <p className=\"font11 m-0 p-0 fw-bolder text-danger\">\r\n          {\"+\" + line2 + \" s\"}\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nimport Badge from \"react-bootstrap/Badge\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nexport const NrBadge = ({ value }) => {\r\n  return (\r\n    <Badge\r\n      className=\"number-badge\"\r\n      bg=\"\"\r\n      style={{\r\n        paddingTop: \"5px\",\r\n        justifyContent: \"center\",\r\n        display: \"grid\",\r\n        width: \"22px\",\r\n        height: \"22px\",\r\n        borderRadius: \"20px\",\r\n        fontSize: \"11px\",\r\n      }}\r\n    >\r\n      {value}\r\n    </Badge>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nexport const LoadingTable = () => {\r\n  return (\r\n    <>\r\n      <div\r\n        id='table-loader'\r\n        className='flex justify-content-center align-items-center flex-col-reverse u-padding-top-xxl u-padding-xxl'\r\n      >\r\n        <div className='loader-text'>Pobieranie danych ...</div>\r\n        <div className='loader-container'>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nconst TableHeader = ({ isHeader, headerGroups }) => {\r\n  const getSortIcon = (column) => {\r\n    if (column.isSorted) {\r\n      return column.isSortedDesc ? \" ▼\" : \" ▲\";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  };\r\n  if (isHeader) {\r\n    return (\r\n      <thead className=\"thead-dark\">\r\n        {headerGroups.map((headerGroup, index) => (\r\n          <tr\r\n            key={\"tableHeader\" + index}\r\n            style={{ display: \"table-row\" }}\r\n            {...headerGroup.getHeaderGroupProps()}\r\n            className=\"l-table-row text-white bg-dark\"\r\n          >\r\n            {headerGroup.headers.map((column) => (\r\n              <th\r\n                key={\"tableHeaderCell\" + column.id}\r\n                {...column.getHeaderProps()}\r\n                className=\"px-1 py-0 align-middle\"\r\n                style={{\r\n                  width: column.width,\r\n                  wordBreak: \"break-word\",\r\n                }}\r\n              >\r\n                <div className=\"flex flex-column\">\r\n                  <div\r\n                    {...column.getHeaderProps(column.getSortByToggleProps())}\r\n                    className=\"py-1 my-0 flex align-items-end justify-content-center h6 l-row g-brand2-c table-column-header\"\r\n                  >\r\n                    <span className=\"font13 flex\">\r\n                      {column.Header != null && column.render(\"Header\")}\r\n                    </span>\r\n                    <span className=\"font13 g-gray4-c\">\r\n                      {getSortIcon(column)}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex align-items-end\">\r\n                    {column.canFilter ? column.render(\"Filter\") : null}\r\n                  </div>\r\n                </div>\r\n              </th>\r\n            ))}\r\n          </tr>\r\n        ))}\r\n      </thead>\r\n    );\r\n  } else {\r\n    return <></>;\r\n  }\r\n};\r\nexport default TableHeader;\r\n","import React from 'react';\r\nconst TableFooter = ({ isFooter, footerGroups }) => {\r\n  if (isFooter) {\r\n    return (\r\n      <tfoot>\r\n        {footerGroups.map((group, index) => (\r\n          <tr {...group.getFooterGroupProps()} key={'footerRow' + index}>\r\n            {group.headers.map((column) => (\r\n              <td\r\n                {...column.getFooterProps()}\r\n                key={'footerRowCell' + column.id}\r\n                className={'u-padding-top-m knor-table-sum-result'}\r\n              >\r\n                {column.render('Footer')}\r\n              </td>\r\n            ))}\r\n          </tr>\r\n        ))}\r\n      </tfoot>\r\n    );\r\n  } else {\r\n    return <></>;\r\n  }\r\n};\r\nexport default TableFooter;\r\n","import React from \"react\";\r\nconst EmptyDataRow = ({ headerGroups }) => {\r\n  return (\r\n    <tbody>\r\n      <tr\r\n        style={{\r\n          textDecoration: \"none\",\r\n          display: \"table-row\",\r\n        }}\r\n        className=\"font14 l-table-row u-border u-link\"\r\n      >\r\n        {headerGroups[0].headers.map((column) => (\r\n          <th\r\n            key={\"emptyRowCell\" + column.id}\r\n            {...column.getHeaderProps()}\r\n            className=\"l-col u-padding-m u-padding-s u-padding-top-m u-border\"\r\n            style={{\r\n              width: column.width,\r\n            }}\r\n          >\r\n            {headerGroups[0].headers[0].id === column.id\r\n              ? \"Brak danych\"\r\n              : \"___\"}\r\n          </th>\r\n        ))}\r\n      </tr>\r\n    </tbody>\r\n  );\r\n};\r\nexport default EmptyDataRow;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  useTable,\r\n  useSortBy,\r\n  useGlobalFilter,\r\n  useFilters,\r\n  usePagination,\r\n  useExpanded,\r\n} from \"react-table\";\r\nimport { useDebounce } from \"use-debounce\";\r\nimport { LoadingTable } from \"./LoadingTable\";\r\nimport TableHeader from \"./TableHeader\";\r\nimport TableFooter from \"./TableFooter\";\r\nimport EmptyDataRow from \"./EmptyDataRow\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nconst DefaultColumnFilter = ({ column: { filterValue, setFilter } }) => {\r\n  /* eslint-disable no-unused-vars */\r\n  return (\r\n    <input\r\n      value={filterValue || \"\"}\r\n      onChange={(e) => {\r\n        setFilter(e.target.value || undefined);\r\n      }}\r\n      placeholder={\"\"}\r\n    />\r\n  );\r\n};\r\n\r\nexport default function Table({\r\n  columns,\r\n  data,\r\n  renderRowSubComponent,\r\n  updateMyData,\r\n  isLoading,\r\n  isFooter,\r\n  isHeader = true,\r\n  pageCount: controlledPageCount,\r\n  expandOn = false,\r\n  manualPagination = false,\r\n  manualFilters = false,\r\n  hiddenColumns = [],\r\n  sortBy = [],\r\n  cursor = \"text\",\r\n  fetchData = () => undefined,\r\n  onPageIndexChange = () => undefined,\r\n  onFilterChange = () => undefined,\r\n  onRowClick = () => undefined,\r\n  highlightRow = () => \"\",\r\n  textDecoration = \"none\",\r\n  fontWeight = \"350\",\r\n}) {\r\n  const [prevLength, setPrevLength] = useState(0);\r\n  const filterTypes = React.useMemo(\r\n    () => ({\r\n      text: (rows, id, filterValue) => {\r\n        return rows.filter((row) => {\r\n          const rowValue = row.values[id];\r\n          return rowValue !== undefined\r\n            ? String(rowValue)\r\n                .toLowerCase()\r\n                .startsWith(String(filterValue).toLowerCase())\r\n            : true;\r\n        });\r\n      },\r\n    }),\r\n    []\r\n  );\r\n  const defaultColumn = React.useMemo(\r\n    () => ({ Filter: DefaultColumnFilter }),\r\n    []\r\n  );\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    prepareRow,\r\n    page,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    visibleColumns,\r\n    footerGroups,\r\n    state: { pageIndex, filters },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn,\r\n      filterTypes,\r\n      initialState: {\r\n        pageIndex: 0,\r\n        hiddenColumns: hiddenColumns,\r\n        sortBy: sortBy,\r\n      },\r\n      updateMyData,\r\n      autoResetPage: false,\r\n      autoResetFilters: false,\r\n      isLoading: isLoading,\r\n      isFooter: isFooter,\r\n      isHeader: isHeader,\r\n      manualPagination: manualPagination,\r\n      pageCount: controlledPageCount,\r\n      manualFilters: manualFilters,\r\n    },\r\n    useFilters,\r\n    useGlobalFilter,\r\n    useSortBy,\r\n    useExpanded,\r\n    usePagination\r\n  );\r\n  useEffect(() => {\r\n    gotoPage(0);\r\n  }, [filters]);\r\n\r\n  const [debounceFilters] = useDebounce(filters, 900);\r\n\r\n  useEffect(() => {\r\n    if (debounceFilters) {\r\n      gotoPage(0);\r\n      onFilterChange(debounceFilters);\r\n    }\r\n  }, [debounceFilters]);\r\n\r\n  useEffect(() => {\r\n    onPageIndexChange(pageIndex);\r\n  }, [pageIndex]);\r\n\r\n  useEffect(() => {\r\n    if (debounceFilters) {\r\n      fetchData({ pageIndex, filters: debounceFilters });\r\n    }\r\n  }, [pageIndex, debounceFilters]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <>\r\n        <table id=\"traffic-simulator-table\" {...getTableProps()}>\r\n          <TableHeader isHeader={isHeader} headerGroups={headerGroups} />\r\n        </table>\r\n        <LoadingTable isLoading={isLoading} />\r\n      </>\r\n    );\r\n  } else if (!data.length) {\r\n    return (\r\n      <>\r\n        <table id=\"traffic-simulator-table\" {...getTableProps()}>\r\n          <TableHeader isHeader={isHeader} headerGroups={headerGroups} />\r\n          <EmptyDataRow headerGroups={headerGroups} />\r\n        </table>\r\n      </>\r\n    );\r\n  } else {\r\n    return (\r\n      <>\r\n        <table\r\n          className=\"table table-striped\"\r\n          id=\"traffic-simulator-table\"\r\n          {...getTableProps()}\r\n        >\r\n          <TableHeader isHeader={isHeader} headerGroups={headerGroups} />\r\n          <tbody {...getTableBodyProps()}>\r\n            {page.map((row, rowIndex) => {\r\n              prepareRow(row);\r\n              return (\r\n                <React.Fragment key={\"row\" + rowIndex}>\r\n                  <tr\r\n                    {...row.getRowProps({\r\n                      style: {\r\n                        cursor: cursor,\r\n                        textDecoration: textDecoration,\r\n                        fontWeight: fontWeight,\r\n                        display: \"table-row\",\r\n                        background: highlightRow(row),\r\n                      },\r\n                    })}\r\n                    className=\"align-middle\"\r\n                  >\r\n                    {row.cells.map((cell, cellIndex) => {\r\n                      return (\r\n                        <td\r\n                          key={cellIndex}\r\n                          style={{\r\n                            maxWidth: \"0px\",\r\n                            width: \"unset\",\r\n                          }}\r\n                          {...cell.getCellProps({\r\n                            onClick: cell.column.disableRowClick\r\n                              ? () => undefined\r\n                              : () => onRowClick(row, cell),\r\n                          })}\r\n                          className=\"p-0 m-0\"\r\n                        >\r\n                          <div\r\n                            title={cell.value}\r\n                            className=\"truncate-text truncate-inline nkor-text-align-right\"\r\n                          >\r\n                            {cell.render(\"Cell\")}\r\n                          </div>\r\n                        </td>\r\n                      );\r\n                    })}\r\n                  </tr>\r\n                  {(row.isExpanded || row.values.expand === \"true\") && (\r\n                    <tr>\r\n                      <td colSpan={visibleColumns.length}>\r\n                        {renderRowSubComponent({ row })}\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                </React.Fragment>\r\n              );\r\n            })}\r\n          </tbody>\r\n          <TableFooter isFooter={isFooter} footerGroups={footerGroups} />\r\n        </table>\r\n      </>\r\n    );\r\n  }\r\n}\r\n/* eslint-enable no-unused-vars */\r\n","/* eslint-disable react/display-name */\r\nimport React, { useMemo, useEffect, useState } from \"react\";\r\nimport ResultTable from \"../common/table/ResultTable\";\r\nimport { TeamDiv } from \"../common/Div\";\r\nimport { NrBadge } from \"../common/NrBadge\";\r\nimport axios from \"axios\";\r\nimport { backendUrl } from \"../utils/fetchUtils\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTimesCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport authHeader from \"../../service/auth-header\";\r\n\r\nconst PenaltyTable = (props) => {\r\n  const [penalties, setPenalties] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const fetchPenalties = () => {\r\n    axios\r\n      .get(`${backendUrl()}/penalty/getPenalties?eventId=${props.eventId}`)\r\n      .then((res) => {\r\n        setPenalties(res.data);\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const removePenalty = (penaltyId) => {\r\n    axios\r\n      .post(\r\n        `${backendUrl()}/penalty/removePenalty?penaltyId=${penaltyId}`,\r\n        {},\r\n        {\r\n          headers: authHeader(),\r\n        }\r\n      )\r\n      .then((res) => {\r\n        props.onRemove();\r\n        fetchPenalties();\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPenalties();\r\n  }, []);\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        width: \"20%\",\r\n        id: \"team\",\r\n        Header: \"Załoga\",\r\n        disableFilters: true,\r\n        disableSortBy: true,\r\n        Cell: (cellInfo) => (\r\n          <>\r\n            <div className=\"py-1 px-2 mx-1 d-grid\">\r\n              <NrBadge value={cellInfo.row.original.number}></NrBadge>\r\n            </div>\r\n            <div className=\"px-1 mx-1 d-grid\">\r\n              <TeamDiv team={cellInfo.row.original} />\r\n            </div>\r\n          </>\r\n        ),\r\n      },\r\n      {\r\n        width: \"70%\",\r\n        id: \"penalty\",\r\n        Header: \"Czas - Powód - OS/PS\",\r\n        disableFilters: true,\r\n        disableSortBy: true,\r\n        Cell: (cellInfo) => (\r\n          <table className=\"font14\">\r\n            {cellInfo.row.original.penalties.map((penalty) => (\r\n              <>\r\n                <tr>\r\n                  <td className=\"text-left fw-bolder\" style={{ width: \"20%\" }}>\r\n                    {penalty.penaltySec + \" s\"}\r\n                  </td>\r\n                  <td className=\"text-left px-3\" style={{ width: \"45%\" }}>\r\n                    {penalty.description}\r\n                  </td>\r\n                  <td className=\"text-left px-3\" style={{ width: \"40%\" }}>\r\n                    {penalty.name}\r\n                  </td>\r\n                  <td style={{ width: \"15%\" }}>\r\n                    {props.referee ? (\r\n                      <FontAwesomeIcon\r\n                        icon={faTimesCircle}\r\n                        onClick={() => removePenalty(penalty.penaltyId)}\r\n                        title={\"Usuń kare\"}\r\n                      />\r\n                    ) : (\r\n                      <></>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              </>\r\n            ))}\r\n          </table>\r\n        ),\r\n      },\r\n    ],\r\n    [props.referee]\r\n  );\r\n\r\n  return (\r\n    <ResultTable\r\n      columns={columns}\r\n      data={penalties}\r\n      pageCount={3}\r\n      isLoading={isLoading}\r\n      isFooter={false}\r\n      isHeader={true}\r\n      cursor={\"pointer\"}\r\n      manualPagination={true}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PenaltyTable;\r\n","/* eslint-disable react/display-name */\r\nimport React, { useMemo, useEffect, useState } from \"react\";\r\nimport ResultTable from \"../common/table/ResultTable\";\r\nimport { TeamDiv } from \"../common/Div\";\r\nimport axios from \"axios\";\r\nimport { backendUrl } from \"../utils/fetchUtils\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTimesCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport { NrBadge } from \"../common/NrBadge\";\r\n\r\nconst DisqualificationTable = (props) => {\r\n  const [penalties, setPenalties] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const fetchPenalties = () => {\r\n    axios\r\n      .get(\r\n        `${backendUrl()}/penalty/getDisqualifications?eventId=${props.eventId}`\r\n      )\r\n      .then((res) => {\r\n        setPenalties(res.data);\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const removePenalty = (penaltyId) => {\r\n    axios\r\n      .post(\r\n        `${backendUrl()}/penalty/removeDisqualification?penaltyId=${penaltyId}`,\r\n        {},\r\n        {\r\n          headers: authHeader(),\r\n        }\r\n      )\r\n      .then((res) => {\r\n        setIsLoading(true);\r\n        props.onRemove();\r\n        fetchPenalties();\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPenalties();\r\n  }, []);\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        width: \"5%\",\r\n        id: \"nr\",\r\n        Header: \"Nr\",\r\n        accessor: (cellInfo) => cellInfo.number,\r\n        disableFilters: true,\r\n        disableSortBy: true,\r\n        Cell: (row) => <NrBadge value={row.value}></NrBadge>,\r\n      },\r\n      {\r\n        width: \"20%\",\r\n        id: \"team\",\r\n        Header: \"Załoga\",\r\n        disableFilters: true,\r\n        disableSortBy: true,\r\n        Cell: (cellInfo) => <TeamDiv team={cellInfo.row.original} />,\r\n      },\r\n      {\r\n        width: \"60%\",\r\n        id: \"penalty\",\r\n        Header: \"Powód - OS/PS\",\r\n        disableFilters: true,\r\n        disableSortBy: true,\r\n        Cell: (cellInfo) => (\r\n          <table className=\"font14\">\r\n            {cellInfo.row.original.penalties.map((penalty) => (\r\n              <>\r\n                <tr>\r\n                  <td className=\"text-left fw-bolder\"></td>\r\n                  <td className=\"text-left px-3 width-300\">\r\n                    {penalty.description}\r\n                  </td>\r\n                  <td className=\"text-left px-3\">{penalty.name}</td>\r\n                  <td>\r\n                    {props.referee ? (\r\n                      <FontAwesomeIcon\r\n                        icon={faTimesCircle}\r\n                        onClick={() => removePenalty(penalty.penaltyId)}\r\n                        title={\"Wycofaj dyskwalifikacje\"}\r\n                      />\r\n                    ) : (\r\n                      <></>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              </>\r\n            ))}\r\n          </table>\r\n        ),\r\n      },\r\n    ],\r\n    [props.referee]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <ResultTable\r\n        columns={columns}\r\n        data={penalties}\r\n        pageCount={3}\r\n        isLoading={isLoading}\r\n        isFooter={false}\r\n        isHeader={true}\r\n        cursor={\"pointer\"}\r\n        manualPagination={true}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DisqualificationTable;\r\n","/* eslint-disable react/display-name */\r\nimport React, { useState, useMemo, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport ResultTable from \"../common/table/ResultTable\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { ScoreDiv, ScoreDivPenalty, TeamDiv, CarDiv } from \"../common/Div\";\r\nimport { Selector } from \"../common/Selector\";\r\nimport { backendUrl, checkReferee, fetchGetScores } from \"../utils/fetchUtils\";\r\nimport PenaltyTable from \"../tables/PenaltyTable\";\r\nimport DisqualificationTable from \"../tables/DisqualificationTable\";\r\nimport moment from \"moment\";\r\nimport { NrBadge } from \"../common/NrBadge\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { download } from \"../utils/fileUtils\";\r\n\r\nconst StageScorePage = (props) => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const eventId = localStorage.getItem(\"eventId\") || location.state.eventId;\r\n\r\n  const GENERAL = \"GENERALNA\";\r\n\r\n  const [event, setEvent] = useState();\r\n\r\n  const [scores, setScores] = useState([]);\r\n  const [referee, setReferee] = useState(false);\r\n\r\n  const [summedScores, setSummedScores] = useState([]);\r\n  const [psOptions, setPsOptions] = useState([]);\r\n  const [classesOptions, setClassesOptions] = useState([]);\r\n\r\n  const [currentClass, setCurrentClass] = useState(GENERAL);\r\n  const [stage, setStage] = useState();\r\n\r\n  const [stageName, setStageName] = useState(\"\");\r\n\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const fetchScores = () => {\r\n    fetchGetScores(stage, (data) => {\r\n      setScores(data);\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  const fetchScoresAndUpdate = () => {\r\n    fetchGetScores(stage, (data) => {\r\n      setScores(data);\r\n      fetchSummedScores();\r\n    });\r\n  };\r\n\r\n  const fetchSummedScores = () => {\r\n    axios\r\n      .get(\r\n        `${backendUrl()}/score/getStagesSumScores?eventId=${eventId}&stageId=${stage}`\r\n      )\r\n      .then((res) => {\r\n        setSummedScores(res.data);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const fetchPsOptions = () => {\r\n    axios\r\n      .get(`${backendUrl()}/event/getStagesAndClasses?eventId=${eventId}`)\r\n      .then((res) => {\r\n        setPsOptions(res.data.psOptions || []);\r\n        setClassesOptions(res.data.classesOptions || []);\r\n      });\r\n  };\r\n\r\n  const fetchEvent = () => {\r\n    axios\r\n      .get(`${backendUrl()}/event/getEvent?eventId=${eventId}`)\r\n      .then((res) => {\r\n        setEvent({\r\n          ...res.data,\r\n          date: new Date(res.data.date),\r\n          signDeadline: new Date(res.data.signDeadline),\r\n        });\r\n      });\r\n  };\r\n  const fetchData = () => {\r\n    setLoading(true);\r\n    if (stage !== undefined) {\r\n      fetchScores();\r\n      fetchSummedScores();\r\n      fetchEvent();\r\n    }\r\n  };\r\n\r\n  const getScoresFile = () => {\r\n    download(\r\n      `${backendUrl()}/file/getScoresFile?eventId=${eventId}`,\r\n      \"wyniki_\" + event.name + \".xlsx\"\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (eventId === undefined) navigate(\"/\");\r\n    checkReferee(eventId, setReferee);\r\n  }, []);\r\n\r\n  // useEffect(() => {\r\n  //   setTimeout(() => fetchScoresAndUpdate(), 1000 * 20);\r\n  // }, [scores]);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [stage]);\r\n\r\n  useEffect(() => {\r\n    fetchPsOptions();\r\n    fetchData();\r\n  }, []);\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        width: \"5%\",\r\n        id: \"place\",\r\n        Header: \"P.\",\r\n        accessor: (cellInfo) => cellInfo.place,\r\n        disableFilters: true,\r\n        disableSortBy: true,\r\n        Cell: (row) => <> {row.row.index + 1}</>,\r\n      },\r\n      {\r\n        width: \"7%\",\r\n        id: \"nr\",\r\n        Header: \"Nr\",\r\n        accessor: (cellInfo) => cellInfo.number,\r\n        disableFilters: true,\r\n        disableSortBy: true,\r\n        Cell: (row) => <NrBadge value={row.value}></NrBadge>,\r\n      },\r\n      {\r\n        width: \"30%\",\r\n        id: \"team\",\r\n        Header: \"Załoga\",\r\n        disableFilters: true,\r\n        disableSortBy: true,\r\n        Cell: (cellInfo) => <TeamDiv team={cellInfo.row.original} />,\r\n      },\r\n      {\r\n        width: \"30%\",\r\n        id: \"car\",\r\n        Header: \"Samochód\",\r\n        disableFilters: true,\r\n        disableSortBy: true,\r\n        Cell: (cellInfo) => (\r\n          <CarDiv\r\n            line1={cellInfo.row.original.car}\r\n            line2={cellInfo.row.original.className}\r\n            carBrand={cellInfo.row.original.brand}\r\n            driveType={cellInfo.row.original.driveType}\r\n          />\r\n        ),\r\n      },\r\n      {\r\n        width: \"15%\",\r\n        id: \"score\",\r\n        Header: \"Czas / kary\",\r\n        accessor: (cellInfo) => cellInfo.stageScore,\r\n        disableFilters: true,\r\n        disableSortBy: true,\r\n        Cell: (cellInfo) => (\r\n          <ScoreDivPenalty\r\n            line1={cellInfo.row.original.stageScore}\r\n            line2={cellInfo.row.original.totalPenalty}\r\n          />\r\n        ),\r\n      },\r\n      {\r\n        width: \"15%\",\r\n        id: \"result\",\r\n        Header: \"Wynik / straty\",\r\n        accessor: (cellInfo) => cellInfo.stageScore,\r\n        disableFilters: true,\r\n        disableSortBy: true,\r\n        Cell: (cellInfo) => (\r\n          <ScoreDiv\r\n            line1={cellInfo.row.original.totalTime}\r\n            line2={cellInfo.row.original.timeTo}\r\n            line3={cellInfo.row.original.timeToFirst}\r\n          />\r\n        ),\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div className=\"row\">\r\n        <p style={{ fontSize: \"11px\" }} className=\"my-0 py-0\">\r\n          Aplikacja w fazie testów\r\n        </p>\r\n        <h4>{event?.name || \"\"}</h4>\r\n        <div className=\"col-xl-8 d-flex justify-content-center\">\r\n          {(event?.logoPathFile || event?.logoPath) && (\r\n            <div className=\"col-6\">\r\n              <div className=\"m-2 text-center\">\r\n                {event.logoPathFile ? (\r\n                  <img\r\n                    id={\"eventImage\" + event.eventId}\r\n                    style={{ maxHeight: \"120px\" }}\r\n                    className=\"img-fluid rounded float-left\"\r\n                    src={\"data:image/jpg;base64,\" + event.logoPathFile}\r\n                    alt=\"Logo\"\r\n                  ></img>\r\n                ) : (\r\n                  <img\r\n                    style={{ maxHeight: \"120px\" }}\r\n                    className=\"img-fluid rounded float-left\"\r\n                    src={event.logoPath}\r\n                    alt=\"Logo\"\r\n                  ></img>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n          <div className=\"col-6\">\r\n            <Selector\r\n              label={\"Klasyfikacja\"}\r\n              options={classesOptions}\r\n              handleChange={(value) => {\r\n                setCurrentClass(\r\n                  classesOptions.find((e) => e.value === value).label\r\n                );\r\n              }}\r\n              isValid={true}\r\n            />\r\n            <Selector\r\n              label={\"PS\"}\r\n              options={psOptions}\r\n              value={sessionStorage.getItem(\"scoreStageId\")}\r\n              handleChange={(value) => {\r\n                setStage(value);\r\n                setStageName(psOptions.find((e) => e.value === value).label);\r\n                sessionStorage.setItem(\"scoreStageId\", value);\r\n              }}\r\n              isValid={true}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-xl-4\">\r\n          <div className=\"m-2 text-center\">\r\n            {referee && (\r\n              <>\r\n                <Button\r\n                  className={\"m-1\"}\r\n                  variant=\"success\"\r\n                  onClick={() =>\r\n                    navigate(`/add_score`, {\r\n                      state: { eventId: eventId },\r\n                    })\r\n                  }\r\n                >\r\n                  Dodaj wynik\r\n                </Button>\r\n                <Button\r\n                  className={\"m-1\"}\r\n                  variant=\"primary\"\r\n                  onClick={() =>\r\n                    navigate(`/add_penalty`, {\r\n                      state: { eventId: eventId },\r\n                    })\r\n                  }\r\n                >\r\n                  Dodaj kare\r\n                </Button>\r\n                <Button\r\n                  className={\"m-1\"}\r\n                  variant=\"secondary\"\r\n                  onClick={() => getScoresFile()}\r\n                >\r\n                  Generuj plik z zestawieniem wyników\r\n                </Button>\r\n              </>\r\n            )}\r\n            <Button\r\n              className={\"m-1\"}\r\n              variant=\"primary\"\r\n              onClick={() => fetchData()}\r\n            >\r\n              Odśwież\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row pt-2 mx-0\">\r\n        <div className=\"col-xl-6 px-0 pe-1\">\r\n          <div className=\"shadow bg-body rounded\">\r\n            <div\r\n              className=\"fw-bold alert alert-secondary p-1 m-0 \"\r\n              role=\"alert\"\r\n            >\r\n              {`Czas NA odcinku - ${stageName}`}\r\n            </div>\r\n            <ResultTable\r\n              columns={columns}\r\n              data={\r\n                currentClass !== GENERAL\r\n                  ? scores.filter(\r\n                      (x) =>\r\n                        x.className === currentClass ||\r\n                        x.driveType === currentClass\r\n                    )\r\n                  : scores\r\n              }\r\n              pageCount={3}\r\n              isLoading={loading}\r\n              isFooter={false}\r\n              isHeader={true}\r\n              cursor={\"pointer\"}\r\n              manualPagination={true}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-xl-6 px-0 ps-1\">\r\n          <div className=\"shadow bg-body rounded\">\r\n            <div className=\"fw-bold alert alert-secondary p-1 m-0\" role=\"alert\">\r\n              {`Suma czasów PO odcinku - ${stageName}`}\r\n            </div>\r\n            <ResultTable\r\n              columns={columns}\r\n              data={\r\n                currentClass !== GENERAL\r\n                  ? summedScores.filter(\r\n                      (x) =>\r\n                        x.className === currentClass ||\r\n                        x.driveType === currentClass\r\n                    )\r\n                  : summedScores\r\n              }\r\n              pageCount={3}\r\n              isLoading={loading}\r\n              isFooter={false}\r\n              isHeader={true}\r\n              cursor={\"pointer\"}\r\n              manualPagination={true}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-xl-12 px-1\">\r\n          <div className=\"shadow bg-body rounded mt-4 p-0\">\r\n            <div className=\"fw-bold alert alert-secondary p-1 m-0\" role=\"alert\">\r\n              {\"Kary\"}\r\n            </div>\r\n            <PenaltyTable\r\n              eventId={eventId}\r\n              onRemove={fetchData}\r\n              referee={referee}\r\n            />\r\n          </div>\r\n          <div className=\"shadow bg-body rounded mt-4\">\r\n            <div className=\"fw-bold alert alert-secondary p-1 m-0\" role=\"alert\">\r\n              {`Dyskwalifikacje / Wycofania`}\r\n            </div>\r\n            <DisqualificationTable\r\n              eventId={eventId}\r\n              onRemove={fetchData}\r\n              referee={referee}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default StageScorePage;\r\n","import authHeader from \"../../service/auth-header\";\r\n\r\nexport function download(url, filename) {\r\n  fetch(url, {\r\n    headers: authHeader(),\r\n  }).then(function (t) {\r\n    return t.blob().then((b) => {\r\n      var a = document.createElement(\"a\");\r\n      a.href = URL.createObjectURL(b);\r\n      a.setAttribute(\"download\", filename);\r\n      a.click();\r\n    });\r\n  });\r\n}\r\n"],"names":["TeamDiv","team","getWithBracketIfNotEmpty","value","className","style","flexWrap","driver","club","coDriver","coClub","teamName","CarDiv","line1","line2","carBrand","driveType","brand","toLowerCase","replace","path","height","src","alt","ScoreDiv","line3","ScoreDivPenalty","NrBadge","bg","paddingTop","justifyContent","display","width","borderRadius","fontSize","LoadingTable","id","isHeader","headerGroups","map","headerGroup","index","key","getHeaderGroupProps","headers","column","getHeaderProps","wordBreak","getSortByToggleProps","Header","render","isSorted","isSortedDesc","getSortIcon","canFilter","isFooter","footerGroups","group","getFooterGroupProps","getFooterProps","textDecoration","DefaultColumnFilter","filterValue","setFilter","onChange","e","target","undefined","placeholder","Table","columns","data","renderRowSubComponent","updateMyData","isLoading","controlledPageCount","pageCount","expandOn","manualPagination","manualFilters","hiddenColumns","sortBy","cursor","fetchData","onPageIndexChange","onFilterChange","onRowClick","highlightRow","fontWeight","useState","filterTypes","React","text","rows","filter","row","rowValue","values","String","startsWith","defaultColumn","Filter","useTable","initialState","pageIndex","autoResetPage","autoResetFilters","useFilters","useGlobalFilter","useSortBy","useExpanded","usePagination","getTableProps","getTableBodyProps","prepareRow","page","gotoPage","canPreviousPage","canNextPage","pageOptions","visibleColumns","nextPage","previousPage","state","filters","useEffect","debounceFilters","useDebounce","length","rowIndex","getRowProps","background","cells","cell","cellIndex","maxWidth","getCellProps","onClick","disableRowClick","title","isExpanded","expand","colSpan","props","penalties","setPenalties","setIsLoading","fetchPenalties","axios","backendUrl","eventId","then","res","useMemo","disableFilters","disableSortBy","Cell","cellInfo","original","number","penalty","penaltySec","description","name","referee","icon","faTimesCircle","penaltyId","authHeader","onRemove","ResultTable","accessor","location","useLocation","navigate","useNavigate","localStorage","getItem","GENERAL","event","setEvent","scores","setScores","setReferee","summedScores","setSummedScores","psOptions","setPsOptions","classesOptions","setClassesOptions","currentClass","setCurrentClass","stage","setStage","stageName","setStageName","loading","setLoading","fetchGetScores","date","Date","signDeadline","checkReferee","place","car","stageScore","totalPenalty","totalTime","timeTo","timeToFirst","logoPathFile","logoPath","maxHeight","Selector","label","options","handleChange","find","isValid","sessionStorage","setItem","Button","variant","download","role","x","url","filename","fetch","t","blob","b","a","document","createElement","href","URL","createObjectURL","setAttribute","click"],"sourceRoot":""}