{"version":3,"file":"898.js","mappings":"+KAKaA,EAAgB,SAAC,GAMxB,IALJC,EAKI,EALJA,KACAC,EAII,EAJJA,MACAC,EAGI,EAHJA,KACAC,EAEI,EAFJA,aACAC,EACI,EADJA,YAEA,OACE,gBAAC,IAAD,CAAOJ,KAAMA,EAAMK,OAAQD,EAAaE,SAAS,SAASC,UAAU,GAClE,gBAAC,WAAD,CAAcC,aAAW,GACvB,gBAAC,UAAD,KAAcP,IAGhB,gBAAC,SAAD,KACE,yBAAIC,IAGN,gBAAC,WAAD,CAAcO,UAAW,0BACvB,gBAAC,IAAD,CAAQA,UAAW,OAAQC,QAAQ,YAAYC,QAASP,GAAxD,UAGA,gBAAC,IAAD,CACEK,UAAW,YACXC,QAAQ,UACRC,QAASR,GAHX,U,yJCoHKS,EAAc,SAAC,GAMtB,IALJD,EAKI,EALJA,QACAE,EAII,EAJJA,MAII,IAHJC,YAAAA,OAGI,SAFJC,EAEI,EAFJA,KACAC,EACI,EADJA,MAEA,OACE,uBAAKP,UAAU,cACb,yBACEE,QAASA,EACTM,eAAgBH,EAChBL,UAAU,mBACVS,KAAK,QACLH,KAAMA,EACNC,MAAOA,IAET,yBAAOP,UAAU,oBAAoBI,K,g/BCpJpC,IAAMM,EAAe,SAACC,GAAU,MAC/BC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,EAAUJ,EAASK,MAAMD,QAEzBE,EAAO,CACX,CAAEX,MAAO,MAAOY,KAAM,+BACtB,CAAEZ,MAAO,OAAQY,KAAM,wBAGzB,KAAsBC,EAAAA,EAAAA,UAAS,IAA/B,GAAOC,EAAP,KAAYC,EAAZ,KACA,KAAgCF,EAAAA,EAAAA,UAASF,EAAK,GAAGX,OAAjD,GAAOgB,EAAP,KAAiBC,EAAjB,KACA,KAAwCJ,EAAAA,EAAAA,YAAxC,GAAOK,EAAP,KAAqBC,EAArB,KAEA,KAAkCN,EAAAA,EAAAA,UAAS,IAA3C,GAAOO,EAAP,KAAkBC,EAAlB,KACA,KAAsCR,EAAAA,EAAAA,UAAS,IAA/C,GAAOS,EAAP,KAAoBC,EAApB,KAEA,KAA4CV,EAAAA,EAAAA,YAA5C,GAAOW,EAAP,KACA,GADA,KACA,GAA0CX,EAAAA,EAAAA,YAA1C,IAAOY,EAAP,KAEA,GAFA,KAEA,GAAgCZ,EAAAA,EAAAA,YAAhC,IAAOa,EAAP,KAAiBC,EAAjB,KACA,KAAgCd,EAAAA,EAAAA,YAAhC,GAAOe,EAAP,KAAiBC,EAAjB,KACA,KAAwChB,EAAAA,EAAAA,YAAxC,GAAOiB,EAAP,KAAqBC,EAArB,KACA,KAA4BlB,EAAAA,EAAAA,YAA5B,GAAOmB,EAAP,KAAeC,EAAf,KACA,KAA0BpB,EAAAA,EAAAA,YAA1B,GAAOqB,EAAP,KAAcC,EAAd,KAEA,KAAwCtB,EAAAA,EAAAA,WAAS,GAAjD,GAAOuB,EAAP,KAAqBC,EAArB,KACA,MAA8BxB,EAAAA,EAAAA,WAAS,GAAvC,GAAOyB,GAAP,MAAgBC,GAAhB,MAEA,MAA0B1B,EAAAA,EAAAA,WAAS,GAAnC,GAAO2B,GAAP,MAAcC,GAAd,MACA,MAA0C5B,EAAAA,EAAAA,WAAS,GAAnD,GAAO6B,GAAP,MAAsBC,GAAtB,MAaMC,GAAoB,WACxBP,GAAgB,GAChBQ,IAAAA,IAAA,WAEOC,EAAAA,EAAAA,MAFP,wCAEmDZ,EAFnD,iBAEiElB,GAC7D,CACE+B,SAASC,EAAAA,EAAAA,OAGZC,MAAK,SAACC,GACL3B,EAAe2B,EAAIC,MACnBd,GAAgB,GAChBE,IAAW,GACa,IAApBW,EAAIC,KAAKC,SACXC,KACAtC,EAAO,gEAmCfuC,EAAAA,EAAAA,YAAU,gBACQC,IAAZ9C,GAAuBF,EAAS,KA7DpCsC,IAAAA,IAAA,WACUC,EAAAA,EAAAA,MADV,uCACqDrC,GAAW,CAC5DsC,SAASC,EAAAA,EAAAA,OAEVC,MAAK,SAACC,GAAQ,MACb7B,EAAa6B,EAAIC,MACjBhB,EAAQ,UAACe,EAAIC,KAAK,UAAV,aAAC,EAAanD,YAyDzB,KAEHsD,EAAAA,EAAAA,YAAU,WACJlC,EAAUgC,OAAS,QAAeG,IAAVrB,GAAqBU,OAChD,CAACV,EAAOd,KAEXkC,EAAAA,EAAAA,YAAU,WACR,GAA2B,IAAvBhC,EAAY8B,OAAhB,CAEA,IAAMI,EAAelC,EAAYmC,MAAK,SAACC,GAAD,OAAOA,EAAE1D,QAAUgC,KACzDC,EAAUuB,EAAeA,MAAAA,OAAH,EAAGA,EAAcxD,MAAQsB,EAAY,GAAGtB,UAC7D,CAACsB,KAEJgC,EAAAA,EAAAA,YAAU,gBACOC,IAAXvB,GAAwBhB,IAAaL,EAAK,GAAGX,OAAO2D,OACvD,CAAC3B,EAAQhB,KAEZsC,EAAAA,EAAAA,YAAU,gBACMC,IAAVrB,GAAqBU,OACxB,CAAC5B,IAEJ,IAAM2C,GAAc,WAClBd,IAAAA,IAAA,WAEOC,EAAAA,EAAAA,MAFP,uCAEkDrC,EAFlD,oBAEqEyB,EAFrE,mBAEqFF,IAElFiB,MAAK,SAACC,GACLvB,EAAYuB,EAAIC,KAAKzB,UACrBG,EAAYqB,EAAIC,KAAKvB,UACrBG,EAAgBmB,EAAIC,KAAKrB,cACzBX,EAAgB+B,EAAIC,KAAKjC,kBAyCzB0C,GAAiB,SAACC,GAClBA,EAAEC,OAAOC,SAAW/C,IAAa6C,EAAEC,OAAO9D,QAC5CiB,EAAY4C,EAAEC,OAAO9D,OACrBqD,KACA9B,EAAe,MAIb8B,GAAY,WAChBd,IAAW,GACXZ,EAAY,IACZE,EAAY,IACZE,EAAgB,KAGlB,OACE,uBAAKtC,UAAU,iBACb,uBAAKA,UAAU,gBACb,uBAAKA,UAAU,aACb,sBAAIA,UAAU,2BAAd,iBAGF,uBAAKA,UAAU,8BACb,uBAAKA,UAAU,+BACb,uBAAKA,UAAU,6BACb,gBAACG,EAAD,CACEC,MAAOc,EAAK,GAAGC,KACfZ,MAAOW,EAAK,GAAGX,MACfF,YAAakB,IAAaL,EAAK,GAAGX,MAClCL,QAAS,SAACkE,GAAD,OAAOD,GAAeC,IAC/B9D,KAAM,aAER,gBAACH,EAAD,CACEC,MAAOc,EAAK,GAAGC,KACfZ,MAAOW,EAAK,GAAGX,MACfF,aAAa,EACbH,QAAS,SAACkE,GAAD,OAAOD,GAAeC,IAC/B9D,KAAM,cAGV,uBAAKN,UAAU,SACf,gBAACuE,EAAA,EAAD,CACEnE,MAAO,aACPoE,QAAS7C,EACTpB,MAAOkE,eAAeC,QAAQ,kBAC9BC,aAAc,SAACpE,GACbmC,EAASnC,GACTkE,eAAeG,QAAQ,iBAAkBrE,IAE3CsE,SAAS,IAEX,gBAACN,EAAA,EAAD,CACEnE,MAAO,SACPoE,QAAS3C,EACTtB,MAAOgC,EACPoC,aAAc,SAACpE,GAAD,OAAWiC,EAAUjC,IACnCsE,SAAS,EACTC,UAAWnC,KAIf,uBAAK3C,UAAU,+BACb,uBAAKA,UAAU,OACb,uBAAKA,UAAU,aACb,sBAAIA,UAAU,QAAd,QACA,uBAAKA,UAAU,eACb,gBAAC+E,EAAA,EAAD,CACE3E,MAAM,SACN4E,iBAAiB,KACjBzE,MAAO0B,EACP0C,aAAc,SAACP,GAAD,OAAOlC,EAAYkC,EAAEC,OAAO9D,QAC1C0E,SAAUpC,GACVqC,YAAY,EACZzE,KAAM,WAER,gBAACsE,EAAA,EAAD,CACE3E,MAAM,UACN4E,iBAAiB,KACjBzE,MAAO4B,EACPwC,aAAc,SAACP,GAAD,OAAOhC,EAAYgC,EAAEC,OAAO9D,QAC1C0E,SAAUpC,GACVqC,YAAY,EACZC,IAAK,GACL1E,KAAM,WAER,gBAACsE,EAAA,EAAD,CACE3E,MAAM,QACN4E,iBAAiB,KACjBzE,MAAO8B,EACPsC,aAAc,SAACP,GAAD,OAAO9B,EAAgB8B,EAAEC,OAAO9D,QAC9C0E,SAAUpC,GACVqC,YAAY,EACZC,IAAK,GACL1E,KAAM,YAGV,uBAAKT,UAAU,4BAA4BqB,GAC3C,uBAAKrB,UAAU,4BAA4B+C,IAC3C,uBAAK/C,UAAU,kBACb,0BACES,KAAK,SACLT,UAAU,4BACVE,QA3II,WACpB,GAwBE+B,MAAAA,GAEa,KAAbA,GAFAA,MAGAE,GAEa,KAAbA,GALAF,MAMAI,GAEiB,KAAjBA,EA/BAW,GAAS,4BADX,CAIAA,KACA,IAAMoC,EAAmC,GAAjBrD,EAAsBC,EACxCqD,EACe,GAAnBC,OAAOrD,GAAiB,IACL,IAAnBqD,OAAOnD,GACgB,GAAvBmD,OAAOjD,GA7EOqB,EA+EH,CACXnB,OAAQA,EACRgD,QAAS9C,EACT+C,eAAgBJ,EAChBK,MAAOJ,EACP5D,aAAcF,IAAaL,EAAK,GAAGX,MAAQkB,EAAe,MAnF5D2B,IAAAA,KAAA,WACWC,EAAAA,EAAAA,MADX,mBAC0CK,EAAM,CAC5CJ,SAASC,EAAAA,EAAAA,OAEVC,MAAK,SAACC,GACLN,KACA7B,EAAOmC,EAAIC,MACXgC,YAAW,kBAAMpE,MAAU,QA+E/BsC,KAvFe,IAACF,GA+MAuB,SAAUpC,IAJZ,gBAQCtB,IAAaL,EAAK,GAAGX,OACpB,0BACEE,KAAK,SACLT,UAAU,sBACVE,QAAS,kBAAMgD,IAAiB,IAChC+B,SAAUpC,IAJZ,oBAed,uBAAK7C,UAAU,gBACf,gBAAC2F,EAAA,EAAD,CACE3F,UAAW,iBACXC,QAAQ,UACRC,QAAS,kBACPY,EAAS,eAAgB,CACvBG,MAAO,CAAED,QAASA,OALxB,4BAWA,gBAAC2E,EAAA,EAAD,CACE3F,UAAW,iBACXC,QAAQ,UACRC,QAAS,kBACPY,EAAS,SAAU,CACjBG,MAAO,CAAED,QAASA,OALxB,UAWCiC,IACC,gBAAC,IAAD,CACE1D,MAAM,EACNC,MAAO,kBACPC,KAAI,6DACFoC,EAAYmC,MAAK,SAACC,GAAD,OAAOA,EAAE1D,QAAUgC,YADlC,aACF,EAA6CnC,OAE/CV,aAAc,WArPF,IACZgE,EAAAA,EAAO,CACXnB,OAAQA,EACRgD,QAAS9C,EACThB,aAAcF,IAAaL,EAAK,GAAGX,MAAQkB,EAAe,MAG5D2B,IAAAA,KAAA,WACWC,EAAAA,EAAAA,MADX,sBAC6CK,EAAM,CAC/CJ,SAASC,EAAAA,EAAAA,OAEVC,MAAK,SAACC,GACLN,KACA7B,EAAOmC,EAAIC,MACXgC,YAAW,kBAAMpE,MAAU,QAyOvB4B,IAAiB,IAEnBvD,YAAa,WACXuD,IAAiB,QAQ7B","sources":["webpack://javascript/./src/components/common/Modal.jsx","webpack://javascript/./src/components/common/Button.jsx","webpack://javascript/./src/components/page/AddScorePage.jsx"],"sourcesContent":["import React from \"react\";\r\n\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nexport const OkCancelModal = ({\r\n  show,\r\n  title,\r\n  text,\r\n  handleAccept,\r\n  handleClose,\r\n}) => {\r\n  return (\r\n    <Modal show={show} onHide={handleClose} backdrop=\"static\" keyboard={false}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>{title}</Modal.Title>\r\n      </Modal.Header>\r\n\r\n      <Modal.Body>\r\n        <p>{text}</p>\r\n      </Modal.Body>\r\n\r\n      <Modal.Footer className={\"justify-content-center\"}>\r\n        <Button className={\"mx-3\"} variant=\"secondary\" onClick={handleClose}>\r\n          Anuluj\r\n        </Button>\r\n        <Button\r\n          className={\"px-4 mx-3\"}\r\n          variant=\"success\"\r\n          onClick={handleAccept}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport const OkModal = ({ show, title, text, handleAccept }) => {\r\n  return (\r\n    <Modal show={show} onHide={handleAccept} backdrop=\"static\" keyboard={false}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>{title}</Modal.Title>\r\n      </Modal.Header>\r\n\r\n      <Modal.Body>\r\n        <p>{text}</p>\r\n      </Modal.Body>\r\n\r\n      <Modal.Footer className={\"justify-content-center\"}>\r\n        <Button\r\n          className={\"px-4 mx-3\"}\r\n          variant=\"success\"\r\n          onClick={handleAccept}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\n\r\nexport const SubmitButton = ({\r\n  action,\r\n  disabled = false,\r\n  label = \"\",\r\n  role = \"\",\r\n  paddingTop = \" u-margin-top-l\",\r\n  small = false,\r\n}) => {\r\n  let className = \"btn btn-success \" + (small ? \" opl-btn--small\" : \"\");\r\n  return (\r\n    <button\r\n      role={role}\r\n      onClick={!disabled ? action : undefined}\r\n      className={className}\r\n      disabled={disabled}\r\n    >\r\n      {label}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport const SubmitButtonWithHover = ({\r\n  action,\r\n  label,\r\n  role,\r\n  disabled,\r\n  paddingTop,\r\n  small,\r\n  hoverMsg,\r\n}) => {\r\n  const [hover, setHover] = useState(false);\r\n  return (\r\n    <div\r\n      className=\"tooltip u-display_table-cell\"\r\n      onMouseOver={() => setHover(true)}\r\n      onMouseOut={() => setHover(false)}\r\n    >\r\n      <SubmitButton\r\n        action={action}\r\n        label={label}\r\n        role={role}\r\n        disabled={disabled}\r\n        paddingTop={paddingTop}\r\n        small={small}\r\n      />\r\n      {hover && hoverMsg !== undefined && (\r\n        <span className=\"tooltiptextAbove\">{hoverMsg}</span>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const ConfirmButton = ({\r\n  action,\r\n  disabled = false,\r\n  withoutMargin = false,\r\n  label = \"\",\r\n  role = \"\",\r\n  small = false,\r\n}) => {\r\n  let buttonStyle = disabled === true ? \" opl-btn-disabled\" : \"\";\r\n  buttonStyle = withoutMargin\r\n    ? buttonStyle\r\n    : buttonStyle + \" u-margin-top-l u-margin-left-s u-margin-right-s\";\r\n  return (\r\n    <button\r\n      role={role}\r\n      onClick={!disabled ? action : undefined}\r\n      className={\r\n        \"o-btn opl-btn opl-btn--secondary try-print-button\" +\r\n        buttonStyle +\r\n        (small ? \" opl-btn--small\" : \"\")\r\n      }\r\n    >\r\n      {label}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport const IconButton = ({\r\n  onClick,\r\n  colour = \"\",\r\n  icon = \"\",\r\n  size = \"\",\r\n  tooltipText = \"\",\r\n  role,\r\n  disabled,\r\n}) => {\r\n  let iconColour = colour && !disabled ? \"g-\" + colour + \"-c\" : \"\";\r\n  let disabledStyle = disabled === true ? \"g-gray5-c\" : \"u-cursor-pointer\";\r\n  return (\r\n    <div onClick={!disabled ? onClick : undefined} role={role}>\r\n      <span\r\n        className={\r\n          \"g-icon g-icon--only \" +\r\n          \"g-icon--\" +\r\n          icon +\r\n          \" \" +\r\n          iconColour +\r\n          \" \" +\r\n          disabledStyle +\r\n          \" \" +\r\n          size\r\n        }\r\n        title={tooltipText}\r\n      ></span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const LabelIconButton = ({\r\n  onClick,\r\n  colour = \"\",\r\n  disabled = false,\r\n  icon = \"\",\r\n  size = \"\",\r\n  tooltipText = \"\",\r\n  label = \"\",\r\n  role = \"\",\r\n}) => {\r\n  let disabledStyle = disabled === true ? \" opl-btn-disabled\" : \"\";\r\n  return (\r\n    <div\r\n      className={\"opl-btn opl-btn u-inline-block u-margin-all\" + disabledStyle}\r\n      onClick={!disabled ? onClick : undefined}\r\n      role={role}\r\n    >\r\n      <IconButton\r\n        icon={icon}\r\n        size={size}\r\n        tooltipText={tooltipText}\r\n        colour={colour}\r\n      />\r\n      <p className={\".o-hint\"}>\r\n        <b>{label}</b>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const RadioButton = ({\r\n  onClick,\r\n  label,\r\n  isConfirmed = false,\r\n  name,\r\n  value,\r\n}) => {\r\n  return (\r\n    <div className=\"form-check\">\r\n      <input\r\n        onClick={onClick}\r\n        defaultChecked={isConfirmed}\r\n        className=\"form-check-input\"\r\n        type=\"radio\"\r\n        name={name}\r\n        value={value}\r\n      ></input>\r\n      <label className=\"form-check-label\">{label}</label>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Selector } from \"../common/Selector\";\r\nimport axios from \"axios\";\r\nimport { InputLabeled } from \"../common/InputLabeled\";\r\nimport { RadioButton } from \"../common/Button\";\r\nimport { backendUrl } from \"../utils/fetchUtils\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { OkCancelModal } from \"../common/Modal\";\r\n\r\nexport const AddScorePage = (props) => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const eventId = location.state.eventId;\r\n\r\n  const mode = [\r\n    { value: \"NEW\", desc: \"Wprowadzanie nowych wyników\" },\r\n    { value: \"EDIT\", desc: \"Tryb edycji wyników\" },\r\n  ];\r\n\r\n  const [msg, setMsg] = useState(\"\");\r\n  const [editMode, setEditMode] = useState(mode[0].value);\r\n  const [stageScoreId, setStageScoreId] = useState();\r\n\r\n  const [psOptions, setPsOptions] = useState([]);\r\n  const [teamOptions, setTeamOptions] = useState([]);\r\n\r\n  const [stageStartHour, setStageStartHour] = useState();\r\n  const [stageStartMin, setStageStartMin] = useState();\r\n\r\n  const [scoreMin, setScoreMin] = useState();\r\n  const [scoreSec, setScoreSec] = useState();\r\n  const [scoreMiliSec, setScoreMiliSec] = useState();\r\n  const [teamId, setTeamId] = useState();\r\n  const [stage, setStage] = useState();\r\n\r\n  const [loadingTeams, setLoadingTeams] = useState(false);\r\n  const [disable, setDisable] = useState(false);\r\n\r\n  const [valid, setValid] = useState(true);\r\n  const [removingScore, setRemovingScore] = useState(false);\r\n\r\n  const fetchPsOptions = () => {\r\n    axios\r\n      .get(`${backendUrl()}/event/getPsOptions?eventId=${eventId}`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setPsOptions(res.data);\r\n        setStage(res.data[0]?.value);\r\n      });\r\n  };\r\n\r\n  const fetchTeamsOptions = () => {\r\n    setLoadingTeams(true);\r\n    axios\r\n      .get(\r\n        `${backendUrl()}/team/getTeamOptions?stageId=${stage}&mode=${editMode}`,\r\n        {\r\n          headers: authHeader(),\r\n        }\r\n      )\r\n      .then((res) => {\r\n        setTeamOptions(res.data);\r\n        setLoadingTeams(false);\r\n        setDisable(false);\r\n        if (res.data.length === 0) {\r\n          resetData();\r\n          setMsg(\"Wszystkie wyniki wybranego odcinka zostały wprowadzone\");\r\n        }\r\n      });\r\n  };\r\n\r\n  const addScore = (data) => {\r\n    axios\r\n      .post(`${backendUrl()}/score/addScore`, data, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        fetchTeamsOptions();\r\n        setMsg(res.data);\r\n        setTimeout(() => setMsg(), 10000);\r\n      });\r\n  };\r\n\r\n  const removeScore = () => {\r\n    const data = {\r\n      teamId: teamId,\r\n      stageId: stage,\r\n      stageScoreId: editMode === mode[1].value ? stageScoreId : null,\r\n    };\r\n\r\n    axios\r\n      .post(`${backendUrl()}/score/removeScore`, data, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        fetchTeamsOptions();\r\n        setMsg(res.data);\r\n        setTimeout(() => setMsg(), 10000);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (eventId === undefined) navigate(\"/\");\r\n    fetchPsOptions();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (psOptions.length > 0 && stage !== undefined) fetchTeamsOptions();\r\n  }, [stage, psOptions]);\r\n\r\n  useEffect(() => {\r\n    if (teamOptions.length === 0) return;\r\n\r\n    const selectedTeam = teamOptions.find((x) => x.value === teamId);\r\n    setTeamId(selectedTeam ? selectedTeam?.value : teamOptions[0].value);\r\n  }, [teamOptions]);\r\n\r\n  useEffect(() => {\r\n    if (teamId !== undefined && editMode === mode[1].value) getTeamData();\r\n  }, [teamId, editMode]);\r\n\r\n  useEffect(() => {\r\n    if (stage !== undefined) fetchTeamsOptions();\r\n  }, [editMode]);\r\n\r\n  const getTeamData = () => {\r\n    axios\r\n      .get(\r\n        `${backendUrl()}/score/getTeamScore?eventId=${eventId}&stageId=${stage}&teamId=${teamId}`\r\n      )\r\n      .then((res) => {\r\n        setScoreMin(res.data.scoreMin);\r\n        setScoreSec(res.data.scoreSec);\r\n        setScoreMiliSec(res.data.scoreMiliSec);\r\n        setStageScoreId(res.data.stageScoreId);\r\n      });\r\n  };\r\n\r\n  const addScoreClick = () => {\r\n    if (notValid()) {\r\n      setValid(\"Wprowadź pełny wynik\");\r\n      return;\r\n    }\r\n    setValid();\r\n    const startStageInMin = stageStartHour * 60 + stageStartMin;\r\n    const scoreInMilis =\r\n      Number(scoreMin) * 60 * 1000 +\r\n      Number(scoreSec) * 1000 +\r\n      Number(scoreMiliSec) * 10;\r\n\r\n    const data = {\r\n      teamId: teamId,\r\n      stageId: stage,\r\n      stageStartTime: startStageInMin,\r\n      score: scoreInMilis,\r\n      stageScoreId: editMode === mode[1].value ? stageScoreId : null,\r\n    };\r\n    addScore(data);\r\n    resetData();\r\n  };\r\n\r\n  const notValid = () => {\r\n    return (\r\n      scoreMin === undefined ||\r\n      scoreMin === null ||\r\n      scoreMin === \"\" ||\r\n      scoreSec === undefined ||\r\n      scoreSec === null ||\r\n      scoreSec === \"\" ||\r\n      scoreMiliSec === undefined ||\r\n      scoreMiliSec === null ||\r\n      scoreMiliSec === \"\"\r\n    );\r\n  };\r\n\r\n  const checkboxChange = (e) => {\r\n    if (e.target.checked && editMode !== e.target.value) {\r\n      setEditMode(e.target.value);\r\n      resetData();\r\n      setTeamOptions([]);\r\n    }\r\n  };\r\n\r\n  const resetData = () => {\r\n    setDisable(true);\r\n    setScoreMin(\"\");\r\n    setScoreSec(\"\");\r\n    setScoreMiliSec(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"u-text-center\">\r\n      <div className=\"u-box-shadow\">\r\n        <div className=\"col-xl-12\">\r\n          <h5 className=\"pb-1 mb-0 border-bottom\">Dodaj wynik:</h5>\r\n        </div>\r\n\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-lg-4 pb-1 border-bottom\">\r\n            <div className=\"centered-grid form-group \">\r\n              <RadioButton\r\n                label={mode[0].desc}\r\n                value={mode[0].value}\r\n                isConfirmed={editMode === mode[0].value}\r\n                onClick={(e) => checkboxChange(e)}\r\n                name={\"editMode\"}\r\n              />\r\n              <RadioButton\r\n                label={mode[1].desc}\r\n                value={mode[1].value}\r\n                isConfirmed={false}\r\n                onClick={(e) => checkboxChange(e)}\r\n                name={\"editMode\"}\r\n              />\r\n            </div>\r\n            <div className=\"pb-0\" />\r\n            <Selector\r\n              label={\"Odcinek PS\"}\r\n              options={psOptions}\r\n              value={sessionStorage.getItem(\"refereeStageId\")}\r\n              handleChange={(value) => {\r\n                setStage(value);\r\n                sessionStorage.setItem(\"refereeStageId\", value);\r\n              }}\r\n              isValid={true}\r\n            />\r\n            <Selector\r\n              label={\"Załoga\"}\r\n              options={teamOptions}\r\n              value={teamId}\r\n              handleChange={(value) => setTeamId(value)}\r\n              isValid={true}\r\n              isLoading={loadingTeams}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 pb-1 border-bottom\">\r\n            <div className=\"row\">\r\n              <div className=\"col-xl-12\">\r\n                <h5 className=\"mb-0\">Czas</h5>\r\n                <div className=\"inline-flex\">\r\n                  <InputLabeled\r\n                    label=\"Minuty\"\r\n                    inputPlaceholder=\"00\"\r\n                    value={scoreMin}\r\n                    handleChange={(e) => setScoreMin(e.target.value)}\r\n                    disabled={disable}\r\n                    onlyNumber={true}\r\n                    type={\"number\"}\r\n                  />\r\n                  <InputLabeled\r\n                    label=\"Sekundy\"\r\n                    inputPlaceholder=\"00\"\r\n                    value={scoreSec}\r\n                    handleChange={(e) => setScoreSec(e.target.value)}\r\n                    disabled={disable}\r\n                    onlyNumber={true}\r\n                    max={59}\r\n                    type={\"number\"}\r\n                  />\r\n                  <InputLabeled\r\n                    label=\"Setne\"\r\n                    inputPlaceholder=\"00\"\r\n                    value={scoreMiliSec}\r\n                    handleChange={(e) => setScoreMiliSec(e.target.value)}\r\n                    disabled={disable}\r\n                    onlyNumber={true}\r\n                    max={99}\r\n                    type={\"number\"}\r\n                  />\r\n                </div>\r\n                <div className=\"col-xl-12 pt-1 fw-bolder\">{msg}</div>\r\n                <div className=\"col-xl-12 pt-1 fw-bolder\">{valid}</div>\r\n                <div className=\"col-xl-12 pt-2\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-success mx-2 py-1\"\r\n                    onClick={addScoreClick}\r\n                    disabled={disable}\r\n                  >\r\n                    Zapisz wynik\r\n                  </button>\r\n                  {editMode === mode[1].value && (\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn btn-danger mx-2\"\r\n                      onClick={() => setRemovingScore(true)}\r\n                      disabled={disable}\r\n                    >\r\n                      Usuń wynik\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-sm pt-3\"></div>\r\n      <Button\r\n        className={\"mx-2 py-1 px-2\"}\r\n        variant=\"primary\"\r\n        onClick={() =>\r\n          navigate(`/add_penalty`, {\r\n            state: { eventId: eventId },\r\n          })\r\n        }\r\n      >\r\n        Przejdź do dodawania kar\r\n      </Button>\r\n      <Button\r\n        className={\"mx-2 py-1 px-2\"}\r\n        variant=\"success\"\r\n        onClick={() =>\r\n          navigate(`/event`, {\r\n            state: { eventId: eventId },\r\n          })\r\n        }\r\n      >\r\n        Wyniki\r\n      </Button>\r\n      {removingScore && (\r\n        <OkCancelModal\r\n          show={true}\r\n          title={\"Usuwanie załogi\"}\r\n          text={`Czy napewno chcesz usunąć wynik załogi:  ${\r\n            teamOptions.find((x) => x.value === teamId)?.label\r\n          }`}\r\n          handleAccept={() => {\r\n            removeScore();\r\n            setRemovingScore(false);\r\n          }}\r\n          handleClose={() => {\r\n            setRemovingScore(false);\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddScorePage;\r\n"],"names":["OkCancelModal","show","title","text","handleAccept","handleClose","onHide","backdrop","keyboard","closeButton","className","variant","onClick","RadioButton","label","isConfirmed","name","value","defaultChecked","type","AddScorePage","props","location","useLocation","navigate","useNavigate","eventId","state","mode","desc","useState","msg","setMsg","editMode","setEditMode","stageScoreId","setStageScoreId","psOptions","setPsOptions","teamOptions","setTeamOptions","stageStartHour","stageStartMin","scoreMin","setScoreMin","scoreSec","setScoreSec","scoreMiliSec","setScoreMiliSec","teamId","setTeamId","stage","setStage","loadingTeams","setLoadingTeams","disable","setDisable","valid","setValid","removingScore","setRemovingScore","fetchTeamsOptions","axios","backendUrl","headers","authHeader","then","res","data","length","resetData","useEffect","undefined","selectedTeam","find","x","getTeamData","checkboxChange","e","target","checked","Selector","options","sessionStorage","getItem","handleChange","setItem","isValid","isLoading","InputLabeled","inputPlaceholder","disabled","onlyNumber","max","startStageInMin","scoreInMilis","Number","stageId","stageStartTime","score","setTimeout","Button"],"sourceRoot":""}