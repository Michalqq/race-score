"use strict";(self.webpackChunkjavascript=self.webpackChunkjavascript||[]).push([[836],{9661:function(e,t,n){n.d(t,{AK:function(){return l},He:function(){return r},O8:function(){return c},Ur:function(){return a}});var a=function(e){var t=e.team,n=function(e){return null!=e?" ("+e+")":""};return React.createElement("div",{className:"float-left"},React.createElement("div",{className:"d-flex pt-1",style:{flexWrap:"wrap"}},React.createElement("h6",{className:"text-left font14 fw-bolder fst-italic m-0"},t.driver),React.createElement("p",{className:"text-left font12 p-0 div-club align-self-center"},n(t.club))),React.createElement("div",{className:"d-flex",style:{flexWrap:"wrap"}},React.createElement("p",{className:"text-left font13 fw-bolder m-0 p-0"},t.coDriver),React.createElement("p",{className:"text-left font12 p-0 div-club align-self-center"},n(t.coClub))),React.createElement("p",{className:"text-left font13 fw-bolder m-0 p-0"},t.teamName||""))},r=function(e){var t=e.line1,n=e.line2,a=e.carBrand,r=e.driveType,l=null==a?void 0:a.toLowerCase().replace(/ /g,"");"vw"===l&&(l="volkswagen");var c="https://vehapi.com/img/car-logos/".concat(l,".png");return React.createElement("div",{className:"col-12 d-flex"},React.createElement("div",{className:"col-xl-3 col-4 py-2 align-self-center"},React.createElement("img",{className:"img-fluid",style:{height:"23px"},src:c,alt:""})),React.createElement("div",{className:"col-xl-9 col-7"},React.createElement("h6",{className:"font13 fw-bolder m-0"},t),r&&React.createElement("p",{className:"font12 m-0 p-0"},r),React.createElement("p",{className:"font12 m-0 p-0 fw-bolder"},n)))},l=function(e){var t=e.line1,n=e.line2,a=e.line3;return React.createElement("div",{className:"float-left"},React.createElement("h6",{className:"font13 fw-bolder m-0"},t),React.createElement("p",{className:"font12 m-0 p-0"},n),React.createElement("p",{className:"font12 m-0 p-0"},a))},c=function(e){var t=e.line1,n=e.line2;return React.createElement("div",{className:"float-left"},React.createElement("h6",{className:"font13 fw-bolder m-0"},t),"0"===n?React.createElement(React.Fragment,null):React.createElement("p",{className:"font11 m-0 p-0 fw-bolder text-danger"},"+"+n+" s"))}},7091:function(e,t,n){n.d(t,{m:function(){return c}});var a=n(7294),r=n(1881),l=n(5005),c=(n(4039),function(e){var t=e.show,n=e.title,c=e.text,i=e.handleAccept,o=e.handleClose;return a.createElement(r.Z,{show:t,onHide:o,backdrop:"static",keyboard:!1},a.createElement(r.Z.Header,{closeButton:!0},a.createElement(r.Z.Title,null,n)),a.createElement(r.Z.Body,null,a.createElement("p",null,c)),a.createElement(r.Z.Footer,{className:"justify-content-center"},a.createElement(l.Z,{className:"mx-3",variant:"secondary",onClick:o},"Anuluj"),a.createElement(l.Z,{className:"px-4 mx-3",variant:"success",onClick:i},"OK")))})},3992:function(e,t,n){n.d(t,{M:function(){return l}});var a=n(7294),r=n(7977),l=(n(4039),function(e){var t=e.value;return a.createElement(r.Z,{className:"number-badge",bg:"",style:{paddingTop:"5px",justifyContent:"center",display:"grid",width:"22px",height:"22px",borderRadius:"20px",fontSize:"11px"}},t)})},496:function(e,t,n){n.d(t,{Z:function(){return E}});var a=n(7294),r=n(9521),l=n(6157),c=function(){return a.createElement(a.Fragment,null,a.createElement("div",{id:"table-loader",className:"flex justify-content-center align-items-center flex-col-reverse u-padding-top-xxl u-padding-xxl"},a.createElement("div",{className:"loader-text"},"Pobieranie danych ..."),a.createElement("div",{className:"loader-container"},a.createElement("div",null),a.createElement("div",null),a.createElement("div",null))))};function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}n(4039);var o=function(e){var t=e.isHeader,n=e.headerGroups;return t?a.createElement("thead",{className:"thead-dark"},n.map((function(e,t){return a.createElement("tr",i({key:"tableHeader"+t,style:{display:"table-row"}},e.getHeaderGroupProps(),{className:"l-table-row text-white bg-dark"}),e.headers.map((function(e){return a.createElement("th",i({key:"tableHeaderCell"+e.id},e.getHeaderProps(),{className:"px-1 py-0 align-middle",style:{width:e.width,wordBreak:"break-word"}}),a.createElement("div",{className:"flex flex-column"},a.createElement("div",i({},e.getHeaderProps(e.getSortByToggleProps()),{className:"py-1 my-0 flex align-items-end justify-content-center h6 l-row g-brand2-c table-column-header"}),a.createElement("span",{className:"font13 flex"},null!=e.Header&&e.render("Header")),a.createElement("span",{className:"font13 g-gray4-c"},function(e){return e.isSorted?e.isSortedDesc?" ▼":" ▲":""}(e))),a.createElement("div",{className:"flex align-items-end"},e.canFilter?e.render("Filter"):null)))})))}))):a.createElement(a.Fragment,null)};function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}var u=function(e){var t=e.isFooter,n=e.footerGroups;return t?a.createElement("tfoot",null,n.map((function(e,t){return a.createElement("tr",s({},e.getFooterGroupProps(),{key:"footerRow"+t}),e.headers.map((function(e){return a.createElement("td",s({},e.getFooterProps(),{key:"footerRowCell"+e.id,className:"u-padding-top-m knor-table-sum-result"}),e.render("Footer"))})))}))):a.createElement(a.Fragment,null)};function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}var m=function(e){var t=e.headerGroups;return a.createElement("tbody",null,a.createElement("tr",{style:{textDecoration:"none",display:"table-row"},className:"font14 l-table-row u-border u-link"},t[0].headers.map((function(e){return a.createElement("th",d({key:"emptyRowCell"+e.id},e.getHeaderProps(),{className:"l-col u-padding-m u-padding-s u-padding-top-m u-border",style:{width:e.width}}),t[0].headers[0].id===e.id?"Brak danych":"___")}))))};function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f.apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var g=function(e){var t=e.column,n=t.filterValue,r=t.setFilter;return a.createElement("input",{value:n||"",onChange:function(e){r(e.target.value||void 0)},placeholder:""})};function E(e){var t=e.columns,n=e.data,i=e.renderRowSubComponent,s=e.updateMyData,d=e.isLoading,v=e.isFooter,E=e.isHeader,y=void 0===E||E,h=e.pageCount,b=(e.expandOn,e.manualPagination),w=void 0!==b&&b,N=e.manualFilters,C=void 0!==N&&N,x=e.hiddenColumns,k=void 0===x?[]:x,j=e.sortBy,I=void 0===j?[]:j,z=e.cursor,O=void 0===z?"text":z,S=e.fetchData,Z=void 0===S?function(){}:S,D=e.onPageIndexChange,P=void 0===D?function(){}:D,A=e.onFilterChange,F=void 0===A?function(){}:A,R=e.onRowClick,T=void 0===R?function(){}:R,H=e.highlightRow,K=void 0===H?function(){return""}:H,B=e.textDecoration,L=void 0===B?"none":B,M=e.fontWeight,G=void 0===M?"350":M,U=p((0,a.useState)(0),2),Y=(U[0],U[1],a.useMemo((function(){return{text:function(e,t,n){return e.filter((function(e){var a=e.values[t];return void 0===a||String(a).toLowerCase().startsWith(String(n).toLowerCase())}))}}}),[])),W=a.useMemo((function(){return{Filter:g}}),[]),q=(0,r.useTable)({columns:t,data:n,defaultColumn:W,filterTypes:Y,initialState:{pageIndex:0,hiddenColumns:k,sortBy:I},updateMyData:s,autoResetPage:!1,autoResetFilters:!1,isLoading:d,isFooter:v,isHeader:y,manualPagination:w,pageCount:h,manualFilters:C},r.useFilters,r.useGlobalFilter,r.useSortBy,r.useExpanded,r.usePagination),$=q.getTableProps,_=q.getTableBodyProps,Q=q.headerGroups,V=q.prepareRow,J=q.page,X=(q.canPreviousPage,q.canNextPage,q.pageOptions,q.pageCount,q.gotoPage),ee=(q.nextPage,q.previousPage,q.visibleColumns),te=q.footerGroups,ne=q.state,ae=ne.pageIndex,re=ne.filters;(0,a.useEffect)((function(){X(0)}),[re]);var le=p((0,l.Z)(re,900),1)[0];return(0,a.useEffect)((function(){le&&(X(0),F(le))}),[le]),(0,a.useEffect)((function(){P(ae)}),[ae]),(0,a.useEffect)((function(){le&&Z({pageIndex:ae,filters:le})}),[ae,le]),d?a.createElement(a.Fragment,null,a.createElement("table",f({id:"traffic-simulator-table"},$()),a.createElement(o,{isHeader:y,headerGroups:Q})),a.createElement(c,{isLoading:d})):n.length?a.createElement(a.Fragment,null,a.createElement("table",f({className:"table table-striped",id:"traffic-simulator-table"},$()),a.createElement(o,{isHeader:y,headerGroups:Q}),a.createElement("tbody",_(),J.map((function(e,t){return V(e),a.createElement(a.Fragment,{key:"row"+t},a.createElement("tr",f({},e.getRowProps({style:{cursor:O,textDecoration:L,fontWeight:G,display:"table-row",background:K(e)}}),{className:"align-middle"}),e.cells.map((function(t,n){return a.createElement("td",f({key:n,style:{maxWidth:"0px",width:"unset"}},t.getCellProps({onClick:t.column.disableRowClick?function(){}:function(){return T(e,t)}}),{className:"p-0 m-0"}),a.createElement("div",{title:t.value,className:"truncate-text truncate-inline nkor-text-align-right"},t.render("Cell")))}))),(e.isExpanded||"true"===e.values.expand)&&a.createElement("tr",null,a.createElement("td",{colSpan:ee.length},i({row:e}))))}))),a.createElement(u,{isFooter:v,footerGroups:te}))):a.createElement(a.Fragment,null,a.createElement("table",f({id:"traffic-simulator-table"},$()),a.createElement(o,{isHeader:y,headerGroups:Q}),a.createElement(m,{headerGroups:Q})))}},836:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ee}});var a=n(7294),r=n(9669),l=n.n(r),c=n(6974),i=n(9942),o=n(5005),s=n(1881),u=n(5147),d=n(6025),m=(n(4039),n(7577)),f=n(2514),p=n(9198),v=n(9546),g=n(7625),E=n(1436),y=n(5117),h=n(9952),b=n(7091),w=n(7648);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw r}}return l}}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var z=function(e){var t=e.show,n=e.handleClose,r=e.event,c=k((0,a.useState)({name:"",description:"",date:new Date,signDeadline:new Date,admin:1,stages:[],organizer:"",logoPath:"",awdClassification:!1,rwdClassification:!1,fwdClassification:!1}),2),N=c[0],z=c[1],O=k((0,a.useState)({index:0,name:"",distance:1.5,startTime:new Date,startFrequency:1}),2),S=O[0],Z=O[1],D=k((0,a.useState)({carClassId:0,carClassName:null,maxEngineCapacity:null,eventId:null==r?void 0:r.eventId,awd:!1}),2),P=D[0],A=D[1],F=k((0,a.useState)([]),2),R=F[0],T=F[1],H=k((0,a.useState)({eventId:null==r?void 0:r.eventId,path:"",description:""}),2),K=H[0],B=H[1],L=k((0,a.useState)([]),2),M=L[0],G=L[1],U=k((0,a.useState)({eventId:null==r?void 0:r.eventId,file:"",fileName:"",description:""}),2),Y=U[0],W=U[1],q=k((0,a.useState)(),2),$=q[0],_=q[1],Q=k((0,a.useState)([]),2),V=Q[0],J=Q[1],X=k((0,a.useState)([]),2),ee=X[0],te=X[1],ne=k((0,a.useState)([]),2),ae=ne[0],re=ne[1],le=k((0,a.useState)([]),2),ce=le[0],ie=le[1],oe=k((0,a.useState)([]),2),se=oe[0],ue=oe[1],de=k((0,a.useState)(!1),2),me=de[0],fe=de[1];(0,a.useEffect)((function(){t&&(l().get("".concat((0,i.AC)(),"/event/getRefereeOptions"),{headers:(0,h.Z)()}).then((function(e){re(e.data)})),l().get("".concat((0,i.AC)(),"/event/getEventClassesOptions"),{headers:(0,h.Z)()}).then((function(e){ue(e.data)})),ie([]),te([]),J([]),void 0!==r&&ge())}),[t]);var pe=function(e){z(C(C({},N),{},x({},e.target.name,e.target.value)))},ve=function(e){Z(C(C({},S),{},x({},e.target.name,e.target.value)))},ge=function(){l().get("".concat((0,i.AC)(),"/event/getEvent?eventId=").concat(r.eventId)).then((function(e){z(C(C({},e.data),{},{date:e.data.date?new Date(e.data.date):new Date,signDeadline:e.data.signDeadline?new Date(e.data.signDeadline):new Date})),J(e.data.stages.map((function(e){return C(C({},e),{},{startTime:new Date(e.startTime)})}))),te(e.data.referee),ie(e.data.eventClasses.map((function(e){return C(C({},e),{},{carClassName:e.carClass.name})}))),T(e.data.eventPaths),G(e.data.eventFiles)}))},Ee=function(e){var t=e.className,n=e.children;return a.createElement(a.Fragment,null,a.createElement(p.CalendarContainer,{className:t},a.createElement("div",{style:{display:"flex"}},n)))};return a.createElement(s.Z,{show:t,onHide:n,backdrop:"static",keyboard:!1,size:"xl"},a.createElement(s.Z.Header,{className:"bg-dark text-white",closeButton:!0},a.createElement(s.Z.Title,null,"Dodawanie nowego wydarzenia")),a.createElement(s.Z.Body,null,a.createElement("div",{className:"row u-text-center justify-content-center"},a.createElement(d.Z.Body,{className:"py-0"},a.createElement("div",{className:"row d-flex"},a.createElement("div",{className:"col-lg-4 px-1"},a.createElement(m.K,{label:"Nazwa",name:"name",handleChange:pe,big:!0,value:N.name,multiline:2})),a.createElement("div",{className:"col-lg-8 px-1"},a.createElement(m.K,{label:"Opis",name:"description",handleChange:pe,big:!0,value:N.description,multiline:2}))),a.createElement("div",{className:"row d-flex"},a.createElement("div",{className:"col-lg-3 px-1"},a.createElement(m.K,{label:"Nazwa organizatora",name:"organizer",handleChange:pe,big:!0,value:N.organizer})),a.createElement("div",{className:"col-lg-3 px-1"},a.createElement(m.K,{label:"Ścieżka do logo wydarzenia",inputPlaceholder:"http://www.akteam.pl/logo.jpg",name:"logoPath",handleChange:pe,big:!0,value:N.logoPath})),a.createElement("div",{className:"col-lg-3 px-1"},a.createElement(f.z4,{label:"Data wydarzenia",onChange:function(e){return z(C(C({},N),{},{date:e}))},selected:N.date,calendarContainer:Ee,minDate:null,maxDate:null})),a.createElement("div",{className:"col-lg-3 px-1"},a.createElement(f.z4,{label:"Koniec zapisów",onChange:function(e){return z(C(C({},N),{},{signDeadline:e}))},selected:N.signDeadline,calendarContainer:Ee,minDate:new Date,maxDate:null})))),a.createElement("div",{className:"col-lg-4 py-2  border-right shadow bg-white rounded"},a.createElement("div",{className:"col-lg-12 border-right rounded"},a.createElement(d.Z,{className:"text-center"},a.createElement(d.Z.Body,{className:"p-0"},a.createElement(y.Q,{label:"Sędziowie",options:ae,handleChange:function(e){return n=e,a=ae.find((function(e){return e.value===n})),r={userId:Number(a.value),username:a.label},void te([].concat((t=ee,function(e){if(Array.isArray(e))return I(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||j(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[r]));var t,n,a,r},isValid:!0,skipDefault:!0}),a.createElement(u.Z,{responsive:!0},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Login"),a.createElement("th",{className:"text-end"},"Usuń"))),a.createElement("tbody",null,ee.map((function(e,t){return a.createElement("tr",{key:e.userId+t},a.createElement("td",null,e.username),a.createElement("td",{className:"text-end"},a.createElement(g.G,{icon:E.nYk,onClick:function(){return t=e.userId,n=ee.filter((function(e){return e.userId!==t})),void te(n);var t,n},title:"Usuń załoge",cursor:"pointer"})))})))))),a.createElement(d.Z,{className:"text-center"},a.createElement(d.Z.Header,{className:"bg-dark text-white"},"Podział na klasy"),a.createElement(d.Z.Body,{className:"p-0"},a.createElement(u.Z,{responsive:!0},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Klasa"),a.createElement("th",null,"Max silnik [cm3]"),a.createElement("th",{className:"text-end"},"Usuń"))),a.createElement("tbody",null,ce.map((function(e,t){return a.createElement("tr",{key:e.carClassId+t},a.createElement("td",null,e.carClassName),a.createElement("td",null,e.maxEngineCapacity),a.createElement("td",{className:"text-end"},a.createElement(g.G,{icon:E.nYk,onClick:function(){return t=e.carClassId,n=ce.filter((function(e){return e.carClassId!==t})),void ie(n);var t,n},title:"Usuń klase",cursor:"pointer"})))})))),a.createElement("div",{className:"d-grid"},a.createElement(y.Q,{className:"w-50",label:"Klasa",options:se,handleChange:function(e){return t=e,n=se.find((function(e){return e.value===t})),void A(C(C({},P),{},{carClassId:t,carClassName:n.label}));var t,n},isValid:!0,value:P.carClassId,skipDefault:!0}),a.createElement(m.K,{label:"Max silnik [cm3]",name:"name",handleChange:function(e){return A(C(C({},P),{},{maxEngineCapacity:e.target.value}))},big:!0,value:P.maxEngineCapacity})),a.createElement(o.Z,{className:"px-4 my-3",variant:"success",onClick:function(){ce.push(P),A({carClassId:0,carClassName:null,maxEngineCapacity:"",eventId:null==r?void 0:r.eventId,awd:!1})}},"Dodaj klase"),a.createElement(w.Z.Check,{inline:!0,label:"Dodatkowa klasyfikacja AWD",name:"turbo",type:"checkbox",checked:N.awdClassification,onClick:function(e){return z(C(C({},N),{},{awdClassification:e.target.checked}))}}),a.createElement(w.Z.Check,{inline:!0,label:"Dodatkowa klasyfikacja RWD",name:"turbo",type:"checkbox",checked:N.rwdClassification,onClick:function(e){return z(C(C({},N),{},{rwdClassification:e.target.checked}))}}),a.createElement(w.Z.Check,{inline:!0,label:"Dodatkowa klasyfikacja FWD",name:"turbo",type:"checkbox",checked:N.fwdClassification,onClick:function(e){return z(C(C({},N),{},{fwdClassification:e.target.checked}))}}))),a.createElement(d.Z,{className:"text-center"},a.createElement(d.Z.Header,{className:"bg-dark text-white"},"Plik z logo wydarzenia"),a.createElement(d.Z.Body,{className:"p-1"},a.createElement("input",{type:"file",name:"logoPathFile",accept:"image/jpg",onChange:function(e){return function(e){var t=e.target.files[0],n=new FormData;n.append("file",t),_(n)}(e)}}))))),a.createElement("div",{className:"col-lg-8 py-2 shadow mb-1 bg-white rounded"},a.createElement(d.Z,null,a.createElement(d.Z.Header,{className:"bg-dark text-white"},"Odcinki PS/OS (w kolejności)"),a.createElement(d.Z.Body,{className:"p-0"},V.length>0&&a.createElement(u.Z,{responsive:!0},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"#"),a.createElement("th",null,"Nazwa"),a.createElement("th",null,"Czas startu"),a.createElement("th",null,"Częstotliwość"),a.createElement("th",{className:"text-end"},"Usuń"))),a.createElement("tbody",null,V.map((function(e,t){return a.createElement("tr",{key:t},a.createElement("td",null,t),a.createElement("td",null,e.name),a.createElement("td",null,null===e.startTime?"":(0,v.default)(e.startTime,"HH:mm")),a.createElement("td",null,e.startFrequency+" min"),a.createElement("td",{className:"text-end"},a.createElement(g.G,{icon:E.nYk,onClick:function(){return t=e.index,n=V.filter((function(e){return e.index!==t})),void J(n);var t,n},title:"Usuń załoge",cursor:"pointer"})))})))),a.createElement("div",{className:"d-block"},a.createElement(m.K,{label:"Nazwa",name:"name",handleChange:ve,big:!0,value:S.name})),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-lg-3"},a.createElement(m.K,{label:"Długość [m]",name:"distance",handleChange:ve,big:!0,onlyNumber:!0,value:S.distance})),a.createElement("div",{className:"col-lg-4"},a.createElement(f.jI,{label:"Czas startu odcinka",onChange:function(e){Z(C(C({},S),{},{startTime:e}))},calendarContainer:Ee,minDate:new Date,maxDate:null})),a.createElement("div",{className:"col-lg-5"},a.createElement(m.K,{label:"Częstotliwość startów [min]",name:"startFrequency",handleChange:ve,big:!0,value:S.startFrequency}))),a.createElement("div",{className:"text-center py-3"},a.createElement(o.Z,{className:"px-4 mx-3",variant:"success",onClick:function(){V.push(S),J(V),Z({index:S.index+1,name:"",distance:"",startTime:new Date,startFrequency:1})}},"Dodaj odcinek")))),a.createElement(d.Z,{className:"text-center"},a.createElement(d.Z.Header,{className:"bg-dark text-white"},"Linki do regulaminow, informacji itd."),a.createElement(d.Z.Body,{className:"p-0"},a.createElement(u.Z,{responsive:!0},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Link"),a.createElement("th",null,"Opis"),a.createElement("th",{className:"text-end"},"Usuń"))),a.createElement("tbody",null,R.map((function(e,t){return a.createElement("tr",{key:t},a.createElement("td",null,e.path),a.createElement("td",null,e.description),a.createElement("td",{className:"text-end"},a.createElement(g.G,{icon:E.nYk,onClick:function(){return T(R.filter((function(t){return t.path!==e.path})))},title:"Usuń link",cursor:"pointer"})))})))),a.createElement("div",{className:"d-grid"},a.createElement(m.K,{label:"Link/ścieżka",name:"path",handleChange:function(e){return B(C(C({},K),{},{path:e.target.value}))},big:!0,value:K.path}),a.createElement(m.K,{label:"Opis",name:"description",handleChange:function(e){return B(C(C({},K),{},{description:e.target.value}))},big:!0,value:K.description})),a.createElement(o.Z,{className:"px-4 my-3",variant:"success",onClick:function(){R.push(K),B({eventId:null==r?void 0:r.eventId,path:"",description:""})},disabled:""===K.description||""===K.link},"Dodaj link"))),a.createElement(d.Z,{className:"text-center"},a.createElement(d.Z.Header,{className:"bg-dark text-white"},"Pliki"),a.createElement(d.Z.Body,{className:"p-0"},a.createElement(u.Z,{responsive:!0},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Plik"),a.createElement("th",null,"Opis"),a.createElement("th",{className:"text-end"},"Usuń"))),a.createElement("tbody",null,M.map((function(e,t){return a.createElement("tr",{key:t},a.createElement("td",null,e.fileName),a.createElement("td",null,e.description),a.createElement("td",{className:"text-end"},a.createElement(g.G,{icon:E.nYk,onClick:function(){var t;(t=e.id)&&l().post("".concat((0,i.AC)(),"/event/removeFileFromEvent?fileId=").concat(t,"&eventId=").concat(N.eventId),{headers:(0,h.Z)()}),G(M.filter((function(t){return t.fileName!==e.fileName})))},title:"Usuń plik",cursor:"pointer"})))})))),a.createElement("div",{className:"d-grid"},a.createElement("input",{type:"file",name:"file",accept:"application/pdf,application/vnd.ms-excel",onChange:function(e){return function(e){var t=e.target.files[0],n=new FormData;n.append("file",t),W(C(C({},Y),{},{file:n,fileName:t.name}))}(e)}}),a.createElement(m.K,{label:"Opis",name:"description",handleChange:function(e){return W(C(C({},Y),{},{description:e.target.value}))},big:!0,value:Y.description})),a.createElement(o.Z,{className:"px-4 my-3",variant:"success",onClick:function(){M.push(Y),W({eventId:null==r?void 0:r.eventId,file:"",fileName:"",description:""})},disabled:""===Y.description||""===Y.fileName},"Dodaj plik"))))),me&&a.createElement(b.m,{show:!0,title:"Usuwanie wydarzenia",text:"Czy napewno chcesz usunąć wydarzenie? Operacja nieodwracalna",handleAccept:function(){l().get("".concat((0,i.AC)(),"/event/deleteEvent?eventId=").concat(r.eventId),{headers:(0,h.Z)()}).then((function(e){n()})),fe(!1)},handleClose:function(){return fe(!1)}})),a.createElement(s.Z.Footer,{className:"justify-content-center"},r&&a.createElement(o.Z,{className:"mx-3",variant:"secondary",onClick:function(){return fe(!0)}},"Usuń wydarzenie"),a.createElement(o.Z,{className:"mx-3",variant:"secondary",onClick:n},"Anuluj"),a.createElement(o.Z,{className:"px-4 mx-3",variant:"success",onClick:function(){var e=C(C({},N),{},{stages:V,referee:ee,eventClasses:ce,eventPaths:R,eventFiles:[]});l().put("".concat((0,i.AC)(),"/event/createNew"),e).then((function(e){M.forEach((function(t){return l().post("".concat((0,i.AC)(),"/event/addFileToEvent?fileName=").concat(t.fileName,"&desc=").concat(t.description,"&eventId=").concat(e.data),t.file,{headers:(0,h.Z)()})})),console.log($),$&&l().post("".concat((0,i.AC)(),"/event/addLogoFile?eventId=").concat(e.data),$,{headers:(0,h.Z)()})})),n()},disabled:0===V.length},"OK")))},O=n(381),S=n.n(O),Z=function(e){var t=e.event,n=e.onJoin,a=e.onTeamList,r=e.onScore,l=e.onEdit,c=e.mainAdmin,i=(new Date).getTime()>new Date(t.signDeadline).getTime();return React.createElement("div",{className:"col-lg-6 pb-3 u-box-shadow"},React.createElement(d.Z,{className:""},React.createElement(d.Z.Header,{className:"bg-secondary text-white text-start fw-bold py-1"},React.createElement("div",{className:"row px-1"},React.createElement("div",{className:"col-11 px-0"},null==t?void 0:t.name),React.createElement("div",{className:"col-1 px-0 text-end"},void 0!==l&&c&&React.createElement(g.G,{className:"text-white fa-lg",icon:E.Xcf,onClick:l,cursor:"pointer"})))),React.createElement(d.Z.Body,{className:"p-1"},React.createElement("div",{className:"position-absolute end-0 mx-3 text-end badge bg-primary text-wrap fst-italic"},S()(null==t?void 0:t.date).format("dddd, DD MMM YYYY, HH:mm")),React.createElement("div",{className:"container d-flex"},React.createElement("div",{className:"col-lg-2 px-0 align-self-center",style:{width:"90px"}},t.logoPathFile?React.createElement("img",{id:"eventImage"+t.eventId,className:"img-fluid rounded float-left",src:"data:image/jpg;base64,"+t.logoPathFile,alt:"Logo"}):void 0!==t.logoPath&&null!==t.logoPath?React.createElement("img",{className:"img-fluid rounded float-left",src:t.logoPath,alt:"Logo"}):React.createElement("img",{src:"/akbpLogo.png",className:"img-fluid rounded float-left",alt:"..."})),React.createElement("div",{className:"col-lg-10 mt-3"},void 0!==t.organizer&&null!==t.organizer&&React.createElement("p",{className:"m-3"},"Organizator: ".concat(t.organizer)),React.createElement("p",{className:"fw-bold fst-italic mt-2"},"Koniec zapisów:  ".concat(S()(null==t?void 0:t.signDeadline).format("dddd, DD MMM YYYY, HH:mm"))),new Date(null==t?void 0:t.signDeadline)<new Date&&new Date(null==t?void 0:t.date)>new Date&&React.createElement("p",{className:""},"Zapisy zamknięte"),t.joined&&React.createElement("div",{className:"d-inline-flex"},React.createElement(g.G,{className:"text-success fa-lg",icon:E.Tab}),React.createElement("h6",null,"Jesteś zapisany"))))),React.createElement(d.Z.Footer,{className:"text-start py-0"},React.createElement("div",{className:"row my-2"},React.createElement("div",{className:"col-6 px-0"},React.createElement(o.Z,{className:"start-0 py-1 px-1",variant:"success",onClick:n},i?"Informacje":t.joined?"Moje zgłoszenie":"Info / Zgłoszenia")),React.createElement("div",{className:"col-6 px-0 d-flex justify-content-end"},React.createElement(o.Z,{className:"py-1 px-1",variant:"dark",onClick:a},"Lista"),React.createElement(o.Z,{className:"py-1 px-1 mx-1",variant:"warning",onClick:r},"Wyniki"))))))},D=n(6968),P=n(496),A=n(3992),F=n(9661);function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var H=function(e){var t=e.show,n=e.handleClose,r=e.eventId,c=(e.started,R((0,a.useState)([]),2)),u=c[0],d=c[1],m=R((0,a.useState)(!1),2),f=(m[0],m[1],R((0,a.useState)(!0),2)),p=f[0],v=f[1],y=R((0,a.useState)(!1),2),h=y[0],b=(y[1],function(){void 0!==r&&l().get("".concat((0,i.AC)(),"/event/getTeams?eventId=").concat(r)).then((function(e){d(e.data),v(!1)}))});(0,a.useEffect)((function(){t&&(v(!0),d([])),b()}),[t]),(0,a.useEffect)((function(){d([]),b()}),[h]);var w=(0,a.useMemo)((function(){return[{width:"8%",id:"index",Header:"L.p",accessor:function(e){return e.number},disableFilters:!0,Cell:function(e){return a.createElement("div",{className:"ps-2"}," ",e.row.index+1)}},{width:"9%",id:"#",Header:"#Nr",accessor:function(e){return e.number},disableFilters:!0,Cell:function(e){return a.createElement(A.M,{value:e.value})}},{width:"30%",id:"team",Header:"Załoga",accessor:function(e){return e.team},disableFilters:!0,Cell:function(e){return a.createElement(F.Ur,{team:e.value})}},{width:"30%",id:"car",Header:"Samochód",accessor:function(e){return e.team.currentCar},disableFilters:!0,Cell:function(e){var t,n,r,l;return a.createElement(F.He,{line1:((null===(t=e.value)||void 0===t?void 0:t.brand)||"")+" "+((null===(n=e.value)||void 0===n?void 0:n.model)||""),line2:e.row.original.carClass.name,carBrand:null===(r=e.value)||void 0===r?void 0:r.brand,driveType:null===(l=e.value)||void 0===l?void 0:l.driveTypeEnum})}},{width:"11%",id:"engine",Header:"Silnik",accessor:function(e){var t;return(null===(t=e.team.currentCar)||void 0===t?void 0:t.engineCapacity)+" cm3"},disableFilters:!0},{width:"11%",id:"entryFee",Header:"Potwierdz.",accessor:function(e){return e.entryFeePaid},disableFilters:!0,Cell:function(e){return a.createElement(g.G,{icon:e.value?E.LEp:E.Psp,style:{color:e.value?"green":"black"},title:e.value?"Potwierdzony":"Dodaj potwierdzenie przelewu",cursor:"pointer"})}}]}),[]);return a.createElement(s.Z,{show:t,onHide:n,backdrop:"static",keyboard:!1,size:"xl"},a.createElement(s.Z.Header,{className:"bg-dark text-white",closeButton:!0},a.createElement(s.Z.Title,null,"Lista zapisanych")),a.createElement(s.Z.Body,{className:"px-0"},a.createElement("p",{style:{fontSize:"11px"},className:"text-center my-0 py-0"},"Aplikacja w fazie testów"),p&&a.createElement("div",{className:"text-center"},a.createElement(D.Z,{animation:"border",variant:"secondary",size:"lg"})),!p&&0===u.length&&a.createElement("h1",{className:"text-center"},"Brak zgłoszeń - bądź pierwszy!"),!p&&(null==u?void 0:u.length)>0&&a.createElement(P.Z,{columns:w,data:u,isLoading:!1,isFooter:!1,isHeader:!0,manualPagination:!0})),a.createElement(s.Z.Footer,{className:"justify-content-center"},a.createElement("div",{className:"d-grid"},a.createElement(o.Z,{className:"m-1",variant:"secondary",onClick:n},"Anuluj"))))},K=n(5509),B=n(7905);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var W=function(e){var t=e.show,n=e.handleClose,r=e.eventId,c=U((0,a.useState)(),2),u=c[0],d=c[1],f=U((0,a.useState)(!1),2),p=f[0],v=f[1],g=U((0,a.useState)(),2),b=g[0],N=g[1],C=U((0,a.useState)({coSportLicense:!1,sportLicense:!1,birthDate:new Date,currentCar:{carId:null,brand:"",model:"",year:"",licensePlate:"",vin:"",engineCapacity:"",turbo:!1,driveType:"1",petrol:"BENZYNA",insurance:"",insuranceExpiryDate:new Date,carInspectionExpiryDate:new Date}}),2),x=C[0],k=C[1];return(0,a.useEffect)((function(){t&&(l().get("".concat((0,i.AC)(),"/team/getTeamOptionList")).then((function(e){N(e.data)})),k({coSportLicense:!1,sportLicense:!1,birthDate:new Date,currentCar:{carId:null,brand:"",model:"",year:"",licensePlate:"",vin:"",engineCapacity:"",turbo:!1,driveType:"1",petrol:"BENZYNA",insurance:"",insuranceExpiryDate:new Date,carInspectionExpiryDate:new Date}}),d(),v(!1))}),[t]),a.createElement(s.Z,{show:t,onHide:n,backdrop:"static",keyboard:!1,size:"l"},a.createElement(s.Z.Header,{className:"bg-dark text-white",closeButton:!0},a.createElement(s.Z.Title,null,"Szybkie dodawanie zawodnika")),a.createElement(s.Z.Body,null,a.createElement("div",{className:"d-flex justify-content-center text-center"},a.createElement("form",{onSubmit:function(e){e.preventDefault(),v(!0),l().post("".concat((0,i.AC)(),"/team/addTeam?eventId=").concat(r),x,{headers:(0,h.Z)()}).then((function(e){d(e.data),v(!1)}))}},a.createElement("div",{className:"row d-flex"},a.createElement("div",{className:"col-lg-6"},a.createElement(m.K,{label:"Imie i nazwisko kierowcy",name:"driver",handleChange:function(e){return k(M(M({},x),{},{driver:e.target.value}))},value:x.driver,big:!0,required:!0,icon:E.KCX})),a.createElement("div",{className:"col-lg-6"},a.createElement(m.K,{label:"Imie i nazwisko pilota",name:"coDriver",handleChange:function(e){return k(M(M({},x),{},{coDriver:e.target.value}))},value:x.coDriver,big:!0,icon:E.hnx}))),a.createElement("div",{className:"row d-flex"},a.createElement("div",{className:"col-lg-6"},a.createElement(m.K,{label:"Automobilklub kierowcy",name:"club",handleChange:function(e){return k(M(M({},x),{},{club:e.target.value}))},value:x.club,big:!0,icon:E.P88})),a.createElement("div",{className:"col-lg-6"},a.createElement(m.K,{label:"Automobilklub pilota",name:"coClub",handleChange:function(e){return k(M(M({},x),{},{coClub:e.target.value}))},value:x.coClub,big:!0,icon:E.P88}))),a.createElement("div",{className:"row d-flex"},a.createElement("div",{className:"col-lg-6"},a.createElement(m.K,{label:"Marka samochodu",name:"carBrand",handleChange:function(e){return k(M(M({},x),{},{currentCar:M(M({},x.currentCar),{},{brand:e.target.value})}))},value:x.currentCar.brand,big:!0,required:!0,icon:E.yn$})),a.createElement("div",{className:"col-lg-6"},a.createElement(m.K,{label:"Model samochodu",name:"carModel",handleChange:function(e){return k(M(M({},x),{},{currentCar:M(M({},x.currentCar),{},{model:e.target.value})}))},value:x.currentCar.model,big:!0,required:!0,icon:E.kQy}))),a.createElement("div",{className:"row d-flex"},a.createElement("div",{className:"col-lg-6"},a.createElement(m.K,{label:"Pojemność silnika [cm3]",name:"engineCapacity",handleChange:function(e){return k(M(M({},x),{},{currentCar:M(M({},x.currentCar),{},{engineCapacity:e.target.value})}))},value:x.currentCar.engineCapacity,big:!0,required:!0,onlyNumber:!0})),a.createElement("div",{className:"col-lg-6"},a.createElement(y.Q,{label:"Rodzaj napędu",options:null==b?void 0:b.driveTypeOption,handleChange:function(e){return k(M(M({},x),{},{currentCar:M(M({},x.currentCar),{},{driveType:e})}))},isValid:!0}))),a.createElement("div",{className:"d-flex justify-content-center"},a.createElement(w.Z,null,a.createElement("span",{className:"py-0 mb-2 mt-1 mx-1 input-group-text"},"Turbo"),a.createElement(w.Z.Check,{inline:!0,label:"TAK",name:"turbo",type:"radio",id:"inline-1",checked:x.currentCar.turbo,onClick:function(){return k(M(M({},x),{},{currentCar:M(M({},x.currentCar),{},{turbo:!0})}))}}),a.createElement(w.Z.Check,{inline:!0,label:"NIE",name:"turbo",type:"radio",id:"inline-2",checked:!x.currentCar.turbo,onClick:function(){return k(M(M({},x),{},{currentCar:M(M({},x.currentCar),{},{turbo:!1})}))}}))),a.createElement("div",{className:"text-center",style:{height:"50px"}},a.createElement("h4",{className:"text-success fw-bold"},u),p&&a.createElement(D.Z,{animation:"border",variant:"secondary",size:"lg"})),a.createElement(o.Z,{className:"m-1",variant:"success",type:"submit",disabled:u},"Dołącz do wydarzenia"),a.createElement(o.Z,{className:"m-1",variant:"secondary",onClick:function(){return n()}},u?"Ok":"Wyjdź")))))},q=n(3094),$=n(4010);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var ee=function(e){var t,n,r=e.show,u=e.handleClose,m=e.event,f=(0,c.s0)(),p=J((0,a.useState)(void 0),2),v=p[0],y=p[1],b=J((0,a.useState)(),2),w=b[0],N=b[1],C=J((0,a.useState)(!1),2),x=C[0],k=C[1],j=J((0,a.useState)(),2),I=j[0],z=j[1],O=J((0,a.useState)(!1),2),Z=O[0],P=O[1],A=J((0,a.useState)(),2),F=A[0],R=A[1],T=J((0,a.useState)(),2),H=T[0],L=T[1],M=J((0,a.useState)(1),2),G=M[0],U=M[1],Y=J((0,a.useState)(),2),_=Y[0],V=Y[1],X=null!==sessionStorage.getItem("username");(0,a.useEffect)((function(){r&&(te(),k(!1),z(),P(!1),R(m))}),[r]);var ee=!!m&&(new Date).getTime()>new Date(m.signDeadline).getTime(),te=function(){l().get("".concat((0,i.AC)(),"/team/getTeam"),{headers:(0,h.Z)()}).then((function(e){P(""===e.data),""!==e.data&&y(e.data)}))};return(0,a.useEffect)((function(){void 0!==(null==m?void 0:m.eventId)&&void 0!==(null==v?void 0:v.teamId)&&l().get("".concat((0,i.AC)(),"/event/getEntryFeeFile?eventId=").concat(m.eventId,"&teamId=").concat(v.teamId)).then((function(e){204===e.status?P(!0):z("Mamy już Twoje potwierdzenie")})).catch((function(e){z()}))}),[v]),a.createElement("div",null,a.createElement(s.Z,{style:{zIndex:H||_?1e3:1055},show:r,onHide:u,backdrop:"static",keyboard:!1,size:"xl"},a.createElement(s.Z.Header,{className:"bg-dark text-white",closeButton:!0},a.createElement(s.Z.Title,{className:"w-100 row"},a.createElement("div",{className:"col-lg-8"},"Informacje o wydarzeniu"),(null==F?void 0:F.joined)&&a.createElement("div",{className:"col-lg-4"},a.createElement(g.G,{className:"text-success fa-lg",icon:E.Tab}),"Jesteś zapisany"))),a.createElement("p",{style:{fontSize:"11px"},className:"text-center my-0 py-0"},"Aplikacja w fazie testów"),a.createElement(K.Z,{activeKey:G,onSelect:function(e){return U(e)},className:"m-0 fw-bold"},a.createElement(B.Z,{eventKey:1,title:"Informacje"},a.createElement("div",{className:"row text-center col-lg-12"},a.createElement("div",{className:"col-lg-4"},null!=m&&m.logoPathFile?a.createElement("img",{id:"eventImage"+m.eventId,style:{height:"140px"},className:"img-fluid rounded float-left",src:"data:image/jpg;base64,"+m.logoPathFile,alt:"Logo"}):void 0!==(null==m?void 0:m.logoPath)&&null!==(null==m?void 0:m.logoPath)&&a.createElement("div",{className:""},a.createElement("img",{style:{height:"140px"},className:"img-fluid rounded float-left",src:m.logoPath,alt:"Logo"}))),a.createElement("div",{className:"col-lg-8"},a.createElement("h3",null,(null==m?void 0:m.name)||""),a.createElement("h5",null,"Data wydarzenia:  "),a.createElement("h5",{className:"fw-bold"},S()(null==m?void 0:m.date).format(" dddd, DD MMM YYYY, HH:mm")),a.createElement("div",{className:"col-lg-10"},a.createElement("p",{className:"fw-bold fst-italic m-4"},"Koniec zapisów:  ".concat(S()(null==m?void 0:m.signDeadline).format("dddd, DD MMM YYYY, HH:mm"))))),a.createElement("p",{style:{whiteSpace:"pre-line"},className:"m-3"},(null==m?void 0:m.description)||"")),a.createElement(d.Z,{className:"text-center"},a.createElement(d.Z.Header,{className:"bg-dark text-white"},"Do pobrania:"),a.createElement(d.Z.Body,null,a.createElement("div",{className:"row "},a.createElement("div",{className:"col-lg-12 px-0"},null==m||null===(t=m.eventPaths)||void 0===t?void 0:t.map((function(e,t){return a.createElement("h6",{key:t,className:"my-1"},a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.path},e.description))})),null==m||null===(n=m.eventFiles)||void 0===n?void 0:n.map((function(e,t){return a.createElement("h6",{key:t,className:"my-1"},a.createElement("a",{href:"www",onClick:function(t){return function(e,t){e.preventDefault(),(0,$.L)("".concat((0,i.AC)(),"/event/getEventFile?id=").concat(t.id),t.fileName)}(t,e)}},e.description))}))))))),X?a.createElement(B.Z,{eventKey:2,title:"Wpisowe"},a.createElement("div",{className:"row mx-2 justify-content-center"},a.createElement("div",{className:"col-lg-6 pb-3 px-1"},a.createElement("h5",{className:"text-center py-4"},"Tutaj możesz dodać plik z potwierdzeniem wpisowego, przyspieszy to proces odbioru administracyjnego"),a.createElement(d.Z,{className:"text-center "},a.createElement(d.Z.Header,{className:"bg-dark text-white"},"Wpisowe"),a.createElement(d.Z.Body,null,Z?a.createElement("p",null,"Zapisz się a następnie będziesz miał możliwość przesłania pliku"):a.createElement("p",null,"Dodaj plik z potwierdzeniem opłacenia wpisowego"),a.createElement("input",{disabled:Z,type:"file",name:"file",accept:"application/pdf,application/vnd.ms-excel",onChange:function(e){return N(e.target.files[0])}}),I&&a.createElement("p",{className:"fw-bold m-2"},I),a.createElement("div",null,x?a.createElement(D.Z,{animation:"border",variant:"secondary"}):a.createElement(o.Z,{className:"mt-2 mb-0",variant:"secondary",onClick:function(){return function(e,t){if(w.size>2097152)z("Plik jest zbyt duży (maksymalnie 2mb)");else{k(!0);var n=new FormData;n.append("file",w),l().post("".concat((0,i.AC)(),"/event/addEntryFeeFile?eventId=").concat(e,"&teamId=").concat(t),n,{headers:(0,h.Z)()}).then((function(e){k(!1),e.data?z("Plik został dodany"):z("Plik NIE został dodany - błąd")}))}}(m.eventId,v.teamId)},disabled:void 0===w},"Wyślij plik"))))))):a.createElement(a.Fragment,null)),a.createElement(s.Z.Footer,null,a.createElement("div",{className:"row justify-content-center"},a.createElement("div",{className:"col-xl-12 d-flex"},a.createElement("div",{className:""},a.createElement(o.Z,{className:"m-1",variant:"success",form:"teamForm",onClick:function(){X?V(!0):f("login?".concat(m.eventId))},disabled:ee&&Z},Z?"Zapisz się":"Edytuj dane")),a.createElement("div",{className:""},a.createElement(o.Z,{className:"m-1",variant:"secondary",onClick:u},"Zamknij okno"),(null==F?void 0:F.joined)&&a.createElement(o.Z,{className:"mx-3",variant:"danger",onClick:function(){(0,i.yd)(m.eventId,null==v?void 0:v.teamId,(function(){R(Q(Q({},F),{},{joined:!1})),P(!0)}))},disabled:ee},"Wypisz się")))))),a.createElement(W,{show:H,handleClose:function(){return L()},eventId:null==m?void 0:m.eventId}),a.createElement(q.o,{show:_,handleClose:function(){return V()},handleOk:function(){return u()},myEvent:m}))},te=n(8261);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var ie=function(e){var t,n,r,c,u,d,f=e.show,p=e.myTeam,v=(e.eventId,e.onSave),g=e.okBtnLabel,h=e.handleClose,b=e.title,N=le((0,a.useState)(!1),2),C=N[0],x=N[1],k=le((0,a.useState)(),2),j=k[0],I=k[1],z=le((0,a.useState)(p),2),O=z[0],S=z[1];return(0,a.useEffect)((function(){f&&(l().get("".concat((0,i.AC)(),"/team/getTeamOptionList")).then((function(e){I(e.data)})),x(!1))}),[f]),a.createElement(s.Z,{show:f,onHide:h,backdrop:"static",keyboard:!1,size:"l"},a.createElement(s.Z.Header,{closeButton:!0,className:"bg-dark text-white"},a.createElement(s.Z.Title,{className:"text-white"},b)),a.createElement(s.Z.Body,null,a.createElement("div",{className:"d-flex justify-content-center text-center"},a.createElement("form",{onSubmit:function(e){x(!0),e.preventDefault(),v(O)}},a.createElement("div",{className:"row d-flex"},a.createElement("div",{className:"col-lg-6"},a.createElement(m.K,{label:"Imie i nazwisko kierowcy",name:"driver",handleChange:function(e){return S(ae(ae({},O),{},{driver:e.target.value}))},value:O.driver,big:!0,required:!0,icon:E.KCX})),a.createElement("div",{className:"col-lg-6"},a.createElement(m.K,{label:"Imie i nazwisko pilota",name:"coDriver",handleChange:function(e){return S(ae(ae({},O),{},{coDriver:e.target.value}))},value:O.coDriver,big:!0,icon:E.hnx}))),a.createElement("div",{className:"row d-flex"},a.createElement("div",{className:"col-lg-6"},a.createElement(m.K,{label:"Automobilklub kierowcy",name:"club",handleChange:function(e){return S(ae(ae({},O),{},{club:e.target.value}))},value:O.club,big:!0,icon:E.P88})),a.createElement("div",{className:"col-lg-6"},a.createElement(m.K,{label:"Automobilklub pilota",name:"coClub",handleChange:function(e){return S(ae(ae({},O),{},{coClub:e.target.value}))},value:O.coClub,big:!0,icon:E.P88}))),a.createElement("div",{className:"row d-flex"},a.createElement("div",{className:"col-lg-12"},a.createElement(m.K,{label:"Nazwa Teamu",name:"teamName",handleChange:function(e){return S(ae(ae({},O),{},{teamName:e.target.value}))},value:O.teamName,big:!0,icon:E.r$M}))),a.createElement("div",{className:"row d-flex"},a.createElement("div",{className:"col-lg-6"},a.createElement(m.K,{label:"Marka samochodu",name:"carBrand",handleChange:function(e){return S(ae(ae({},O),{},{currentCar:ae(ae({},O.currentCar),{},{brand:e.target.value})}))},value:null===(t=O.currentCar)||void 0===t?void 0:t.brand,big:!0,required:!0,icon:E.yn$})),a.createElement("div",{className:"col-lg-6"},a.createElement(m.K,{label:"Model samochodu",name:"carModel",handleChange:function(e){return S(ae(ae({},O),{},{currentCar:ae(ae({},O.currentCar),{},{model:e.target.value})}))},value:null===(n=O.currentCar)||void 0===n?void 0:n.model,big:!0,required:!0,icon:E.kQy}))),a.createElement("div",{className:"row d-flex"},a.createElement("div",{className:"col-lg-6"},a.createElement(m.K,{label:"Pojemność silnika [cm3]",name:"engineCapacity",handleChange:function(e){return S(ae(ae({},O),{},{currentCar:ae(ae({},O.currentCar),{},{engineCapacity:e.target.value})}))},value:null===(r=O.currentCar)||void 0===r?void 0:r.engineCapacity,big:!0,required:!0,onlyNumber:!0})),a.createElement("div",{className:"col-lg-6"},a.createElement(y.Q,{label:"Rodzaj napędu",options:null==j?void 0:j.driveTypeOption,handleChange:function(e){return S(ae(ae({},O),{},{currentCar:ae(ae({},O.currentCar),{},{driveType:e})}))},value:null===(c=O.currentCar)||void 0===c?void 0:c.driveType,isValid:!0}))),a.createElement("div",{className:"d-flex justify-content-center"},a.createElement(w.Z,null,a.createElement("span",{className:"py-0 mb-2 mt-1 mx-1 input-group-text"},"Turbo"),a.createElement(w.Z.Check,{inline:!0,label:"TAK",name:"turbo",type:"radio",id:"inline-1",checked:null===(u=O.currentCar)||void 0===u?void 0:u.turbo,onClick:function(){return S(ae(ae({},O),{},{currentCar:ae(ae({},O.currentCar),{},{turbo:!0})}))}}),a.createElement(w.Z.Check,{inline:!0,label:"NIE",name:"turbo",type:"radio",id:"inline-2",checked:!(null!==(d=O.currentCar)&&void 0!==d&&d.turbo),onClick:function(){return S(ae(ae({},O),{},{currentCar:ae(ae({},O.currentCar),{},{turbo:!1})}))}}))),a.createElement("div",{className:"text-center",style:{height:"50px"}},C&&a.createElement(D.Z,{animation:"border",variant:"secondary",size:"lg"})),a.createElement(o.Z,{className:"m-1",variant:"success",type:"submit"},g),a.createElement(o.Z,{className:"m-1",variant:"secondary",onClick:function(){return h()}},"Anuluj")))))};function oe(){return oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oe.apply(this,arguments)}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var pe=function(e){var t=e.show,n=e.handleClose,r=e.eventId,c=e.eventName,u=(e.started,me((0,a.useState)([]),2)),m=u[0],f=u[1],p=me((0,a.useState)(!1),2),v=p[0],w=p[1],N=me((0,a.useState)(!0),2),C=N[0],x=N[1],k=me((0,a.useState)(!1),2),j=k[0],I=k[1],z=me((0,a.useState)(!1),2),O=z[0],S=z[1],Z=me((0,a.useState)({driver:null,teamId:null}),2),P=Z[0],A=Z[1],F=me((0,a.useState)({driver:null,teamId:null}),2),R=F[0],T=F[1],H=me((0,a.useState)(),2),K=H[0],B=H[1],L=me((0,a.useState)([]),2),M=L[0],G=L[1],U=me((0,a.useState)(),2),Y=U[0],_=U[1],Q=me((0,a.useState)(),2),V=Q[0],J=Q[1],X=me((0,a.useState)(),2),ee=X[0],ne=X[1],ae=me((0,a.useState)(!1),2),re=ae[0],le=ae[1];(0,a.useEffect)((function(){t&&(ve(),x(!0),f([]),pe()),fe()}),[t]);var ce=function(){A({driver:null,teamId:null})},se=function(){T({driver:null,teamId:null})},de=function(e){return{teamId:e.teamId,driver:e.driver+" / "+e.coDriver}},fe=function(){void 0!==r&&l().get("".concat((0,i.AC)(),"/event/getTeams?eventId=").concat(r)).then((function(e){f(e.data.sort((function(e,t){return e.order-t.order}))),x(!1)}))},pe=function(){l().get("".concat((0,i.AC)(),"/event/getEvent?eventId=").concat(r)).then((function(e){G(e.data.eventClasses.map((function(e){return ue(ue({},e),{},{value:e.carClassId,label:e.carClass.name})})))}))},ve=function(){l().get("".concat((0,i.AC)(),"/event/checkReferee?eventId=").concat(r),{headers:(0,h.Z)()}).then((function(e){I(e.data)}))},ge=function(e,t){var n=m.findIndex((function(t){return t.id===e}));m[n].carClassId!==t&&(m[n].carClassId=t,f(m))},Ee=function(e,t){var n=m.filter((function(t){return t.id!==e.id}));e.number=t,e.forcedNumber=""!==t,n.push(e),n.sort((function(e,t){return e.order-t.order})),f(ye(n))},ye=function(e){var t=[],n=m.filter((function(e){return e.forcedNumber})).map((function(e){return e.number})),a=1;for(var r in e){var l=e[r];if(l.forcedNumber)t.push(l);else{if(l.forcedNumber||n.includes(a)){for(;n.includes(a);)a++;l.number=a++}else l.number=a++;t.push(l)}}return t};return a.createElement(s.Z,{style:{zIndex:Y||V||ee?1e3:1055},show:t,onHide:n,backdrop:"static",keyboard:!1,size:"xl"},a.createElement(s.Z.Header,{className:"bg-dark text-white",closeButton:!0},a.createElement(s.Z.Title,null,"Lista zapisanych")),a.createElement(s.Z.Body,null,C&&a.createElement("div",{className:"text-center"},a.createElement(D.Z,{animation:"border",variant:"secondary",size:"lg"})),!C&&0===m.length&&a.createElement("h1",{className:"text-center"},"Brak zgłoszeń"),!C&&(null==m?void 0:m.length)>0&&a.createElement(a.Fragment,null,a.createElement("table",null,a.createElement("th",{className:""},a.createElement("td",{style:{width:"70px"}},"Edycja"),a.createElement("td",{style:{width:"60px"}},"Nr"),a.createElement("td",{style:{width:"350px"}},"Kierowca"),a.createElement("td",{style:{width:"350px"}},"Samochód"),a.createElement("td",{style:{width:"100px"}},"Klasa"),a.createElement("td",{style:{width:"100px"}},"Zapłacone"),a.createElement("td",{style:{width:"110px"}},"Potwierdź wpisowe"),a.createElement("td",{style:{width:"100px"}},"Plik"),a.createElement("td",{style:{width:"80px"}},"OA"),a.createElement("td",{style:{width:"80px"}},"Usuń załogę"))),a.createElement("div",{style:{overflowX:"scroll"}},a.createElement(te.Z5,{onDragStart:function(){return S(!0)},onDragEnd:function(e){if(e.destination){var t=Array.from(m),n=me(t.splice(e.source.index,1),1)[0];t.splice(e.destination.index,0,n);var a=1;t.map((function(e){return e.order=a++})),f(ye(t)),S(!1)}}},a.createElement(te.bK,{droppableId:"selectedCases"},(function(e){return a.createElement("ol",oe({className:"selectedCases fw-bold",style:{minWidth:"600px"}},e.droppableProps,{ref:e.innerRef}),null==m?void 0:m.map((function(e,t){return a.createElement(te._l,{key:e.order,draggableId:e.order.toString(),index:t,draggable:!0},(function(t){var n,l,c,o;return a.createElement("li",oe({ref:t.innerRef},t.draggableProps,t.dragHandleProps),a.createElement(d.Z,{className:"my-1"},a.createElement(d.Z.Body,{className:"p-0"},a.createElement("table",{className:"m-0"},a.createElement("th",{className:"d-table-row fw-normal align-middle"},a.createElement("td",{className:e.teamChecked&&e.entryFeePaid?"bg-success":"",style:{width:"20px"}},a.createElement(g.G,{icon:E.yXf,onClick:function(){return _(e.team)},title:"Edytuj dane",cursor:"pointer"})),a.createElement("td",{style:{width:"55px"}},a.createElement("input",{style:{width:"90%",backgroundColor:"#ffad4f",fontWeight:e.forcedNumber?"700":"100",borderRadius:"20px",textAlign:"center"},type:"number",value:e.number,onChange:function(t){return function(e,t){Ee(t,""!==e?Number(e):" ")}(t.target.value,e)},onBlur:function(t){return function(e,t){var n=Number(e);m.find((function(e){return e.id!==t.id&&e.forcedNumber&&e.number===n}))&&Ee(t,"")}(t.target.value,e)}})),a.createElement("td",{style:{width:"270px"}},e.team.driver+(null===(null===(n=e.team)||void 0===n?void 0:n.coDriver)||""===e.team.coDriver?"":" / "+(null===(l=e.team)||void 0===l?void 0:l.coDriver))),a.createElement("td",{style:{width:"270px"}},((null===(c=e.team.currentCar)||void 0===c?void 0:c.brand)||"")+" "+((null===(o=e.team.currentCar)||void 0===o?void 0:o.model)||"")),a.createElement("td",{style:{width:"100px",display:"flex"}},e.carClassId,!O&&a.createElement(y.Q,{className:"m-0 p-0",options:M,handleChange:function(t){ge(e.id,t)},isValid:!0,value:e.carClassId}),O&&a.createElement(y.Q,{className:"m-0 p-0",options:M,handleChange:function(t){ge(e.id,t)},isValid:!0,skipDefault:!0})),a.createElement("td",{style:{width:"90px",textAlign:"center"}},e.entryFeePaid?a.createElement(g.G,{className:"text-success",icon:E.egO}):a.createElement(g.G,{className:"text-danger",icon:E.WV2})),a.createElement("td",{style:{width:"90px"}},a.createElement(g.G,{icon:E.owJ,onClick:function(){return T(de(e.team))},title:"Potwierdź wpisowe",cursor:"pointer"})),a.createElement("td",{style:{width:"90px"}},null!==e.entryFeeFile?a.createElement(g.G,{icon:E.q7m,onClick:function(){return t=e.team.teamId,n=e.team.driver,void(0,$.L)("".concat((0,i.AC)(),"/event/getEntryFeeFile?eventId=").concat(r,"&teamId=").concat(t),"potwierdzenie_wplaty_"+n+".pdf");var t,n},title:"Pobierz plik",cursor:"pointer"}):a.createElement(a.Fragment,null)),a.createElement("td",{style:{width:"80px"}},e.teamChecked?a.createElement(g.G,{className:"text-success",icon:E.Yjj,onClick:function(){return J(e.team.teamId)},title:"Podgląd danych",cursor:"pointer"}):a.createElement(g.G,{icon:E.Yjj,onClick:function(){return J(e.team.teamId)},title:"Podgląd danych",cursor:"pointer"})),a.createElement("td",{style:{width:"60px",color:"red"}},a.createElement(g.G,{icon:E.nYk,onClick:function(){return A(de(e.team))},title:"Usuń załoge",cursor:"pointer"})))))))}))})),e.placeholder)}))))),null!==P.teamId&&a.createElement(b.m,{show:!0,title:"Usuwanie załogi",text:"Czy napewno chcesz usunąć załoge: ".concat(P.driver),handleAccept:function(){(0,i.yd)(r,P.teamId,(function(){return fe()})),ce()},handleClose:function(){ce()}}),null!==R.teamId&&a.createElement(b.m,{show:!0,title:"Potwierdzanie wpisowego",text:"Czy napewno chcesz potwierdzić wpłatę wpisowego przez załoge: ".concat(R.driver),handleAccept:function(){(0,i.a$)(r,R.teamId,(function(){return fe()})),se()},handleClose:function(){se()}}),v&&a.createElement(b.m,{show:!0,title:"Zamykanie listy / Rozpoczynanie wydarzenia",text:"Czy napewno chcesz zamknąć listę i rozpocząć wydarzenie? Operacja nieodwracalna",handleAccept:function(){l().post("".concat((0,i.AC)(),"/event/startEvent?eventId=").concat(r),{headers:(0,h.Z)()}).then((function(){})),w(!1)},handleClose:function(){return w(!1)}}),Y&&a.createElement(ie,{show:!0,myTeam:Y,eventId:r,onSave:function(e){return function(e){x(!0),(0,i.lN)(e,(function(){fe(),_()}))}(e)},okBtnLabel:"Zapisz zmiany",handleClose:function(){return _()},title:"Edycja danych załogi"}),re&&a.createElement(b.m,{show:!0,title:"Sortowanie",text:"Czy chcesz posortować zawodników? Pamiętaj, że zresetuje to numery które nie zostały wpisane ręcznie (nie-pogrubione). Jeśli chcesz nadać komuś numer na stałe edytuj wartość na liście.",handleAccept:function(){S(!0),l().post("".concat((0,i.AC)(),"/event/sortByClass"),m,{headers:(0,h.Z)()}).then((function(e){f(e.data),S(!1)})),le(!1)},handleClose:function(){return le(!1)}}),V&&a.createElement(q.o,{show:!0,handleClose:function(){fe(),J()},myEvent:{eventId:r,started:!1,teamId:V},mode:"preview"}),a.createElement(W,{show:ee,handleClose:function(){fe(),ne()},eventId:r}),a.createElement("div",{className:"text-center"},a.createElement(o.Z,{className:"m-1",variant:"primary",onClick:function(){return le(!0)}},"Sortuj wstępnie wg. klas"),a.createElement(o.Z,{className:"m-1",variant:"primary",onClick:function(){(0,$.L)("".concat((0,i.AC)(),"/file/getEventTeamsData?eventId=").concat(r),"dokumenty_oa_"+c+".pdf")}},"Pobierz dokumenty OA")," ",a.createElement(o.Z,{className:"m-1",variant:"primary",onClick:function(){(0,$.L)("".concat((0,i.AC)(),"/file/getBkFiles?eventId=").concat(r),"dokumenty_bk_"+c+".pdf")}},"Pobierz dokumenty BK"),a.createElement("p",null,K))),a.createElement(s.Z.Footer,{className:"justify-content-center"},a.createElement("div",{className:"d-flex"},j&&a.createElement(o.Z,{className:"m-2",variant:"success",onClick:function(){return ne(!0)}},"Dodaj zawodnika"),a.createElement(o.Z,{className:"m-2",variant:"success",onClick:function(){l().post("".concat((0,i.AC)(),"/event/saveNumbersAndClasses?eventId=").concat(r),m,{headers:(0,h.Z)()}).then((function(e){e.data?B("Kolejność i klasy zostały zapisane"):B("Coś poszło nie tak"),setTimeout((function(){return B()}),5e3)}))}},"Zapisz klasy i kolejność załóg"),a.createElement(o.Z,{className:"m-2",variant:"secondary",onClick:n},"Wyjdź"))))};function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ge(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Ee=function(e){var t=ve((0,a.useState)([]),2),n=t[0],r=t[1],s=ve((0,a.useState)([]),2),u=s[0],m=s[1],f=ve((0,a.useState)(),2),p=f[0],v=f[1],g=ve((0,a.useState)(),2),E=g[0],y=g[1],b=ve((0,a.useState)(),2),w=b[0],N=b[1],C=ve((0,a.useState)(!0),2),x=C[0],k=C[1],j=ve((0,a.useState)(!1),2),I=j[0],O=j[1],S=ve((0,a.useState)(!1),2),P=S[0],A=S[1],F=(0,c.TH)().search,R=(0,c.s0)(),T=function(){k(!0);var e=new Date;e.setHours(23,59,59,999),e.setDate((new Date).getDate()-1),l().get("".concat((0,i.AC)(),"/event/getAll"),{headers:(0,h.Z)()}).then((function(t){if(r(t.data.filter((function(t){return e.getTime()<=new Date(t.date).getTime()})).sort((function(e,t){return e.date<t.date?-1:1}))),m(t.data.filter((function(t){return e.getTime()>new Date(t.date).getTime()})).sort((function(e,t){return e.date>t.date?-1:1}))),void 0!==F&&!P){var n=t.data.find((function(e){return e.eventId===Number(F.replace("?",""))}));N(n),F=null,A(!0)}k(!1)}))};return(0,a.useEffect)((function(){T(),null!==sessionStorage.getItem("username")&&l().get("".concat((0,i.AC)(),"/auth/isMainAdmin?login=").concat(sessionStorage.getItem("username")),{headers:(0,h.Z)()}).then((function(e){O(e.data)}))}),[]),a.createElement(a.Fragment,null,a.createElement("p",{style:{fontSize:"11px"},className:"my-0 py-0"},"Aplikacja w fazie testów"),a.createElement(d.Z,{className:" my-1 bg-dark text-white"},a.createElement("h3",null,"Najbliższe wydarzenia")),a.createElement("div",{className:"row justify-content-center"},x&&a.createElement("div",{className:"text-center"},a.createElement(D.Z,{animation:"border",variant:"secondary",size:"lg"})),n.map((function(e){return a.createElement(Z,{key:e.eventId,event:e,onJoin:function(){return N(e)},onScore:function(){localStorage.setItem("eventId",e.eventId),R("event",{state:{eventId:e.eventId}})},onTeamList:function(){(0,i.Ot)(e.eventId,O),y(e)},onEdit:function(){return v(e)},mainAdmin:I})}))),a.createElement(d.Z,{className:"my-1 bg-dark text-white"},a.createElement("h3",null,"Archiwalne wydarzenia")),a.createElement("div",{className:"row justify-content-center"},x&&a.createElement("div",{className:"text-center"},a.createElement(D.Z,{animation:"border",variant:"secondary",size:"lg"})),u.map((function(e){return a.createElement(Z,{key:e.eventId,event:e,onJoin:function(){return N(e)},onScore:function(){localStorage.setItem("eventId",e.eventId),R("event",{state:{eventId:e.eventId}})},onTeamList:function(){return y(e)},onEdit:function(){return v(e)},mainAdmin:I})}))),a.createElement("div",{className:"p-3 border-top"},I&&a.createElement(o.Z,{className:"border-top mx-3",variant:"primary",onClick:function(){return v(!0)}},"Dodaj wydarzenie")),a.createElement(z,{show:void 0!==p,handleClose:function(){v(),T()},event:p}),I&&a.createElement(pe,{show:void 0!==E,handleClose:function(){y(),T()},eventId:null==E?void 0:E.eventId,eventName:null==E?void 0:E.name,started:null==E?void 0:E.started}),!I&&a.createElement(H,{show:void 0!==E,handleClose:function(){y(),T()},eventId:null==E?void 0:E.eventId,started:null==E?void 0:E.started}),a.createElement(ee,{show:void 0!==w,handleClose:function(){N(),T()},event:w}))}},4010:function(e,t,n){n.d(t,{L:function(){return r}});var a=n(9952);function r(e,t){fetch(e,{headers:(0,a.Z)()}).then((function(e){return e.blob().then((function(e){var n=document.createElement("a");n.href=URL.createObjectURL(e),n.setAttribute("download",t),n.click()}))}))}}}]);
//# sourceMappingURL=836.js.map