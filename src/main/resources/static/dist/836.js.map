{"version":3,"file":"836.js","mappings":"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","sources":["webpack://javascript/./src/components/common/Div.jsx","webpack://javascript/./src/components/common/Modal.jsx","webpack://javascript/./src/components/common/NrBadge.jsx","webpack://javascript/./src/components/common/table/LoadingTable.jsx","webpack://javascript/./src/components/common/table/TableHeader.jsx","webpack://javascript/./src/components/common/table/TableFooter.jsx","webpack://javascript/./src/components/common/table/EmptyDataRow.jsx","webpack://javascript/./src/components/common/table/ResultTable.jsx","webpack://javascript/./src/components/event/NewEventForm.jsx","webpack://javascript/./src/components/common/EventCard.jsx","webpack://javascript/./src/components/team/TeamListModal.jsx","webpack://javascript/./src/components/join/QuickJoinPanel.jsx","webpack://javascript/./src/components/event/EventModal.jsx","webpack://javascript/./src/components/team/BasicTeamDataForm.jsx","webpack://javascript/./src/components/team/AdminTeamList.jsx","webpack://javascript/./src/components/page/HomePage.jsx","webpack://javascript/./src/components/utils/fileUtils.js"],"sourcesContent":["export const TeamDiv = ({ team }) => {\r\n  const getWithBracketIfNotEmpty = (value) => {\r\n    if (value !== undefined && value !== null) return \" (\" + value + \")\";\r\n\r\n    return \"\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"float-left\">\r\n      <div className=\"d-flex pt-1\" style={{ flexWrap: \"wrap\" }}>\r\n        <h6 className=\"text-left font14 fw-bolder fst-italic m-0\">\r\n          {team.driver}\r\n        </h6>\r\n        <p className=\"text-left font12 p-0 div-club align-self-center\">\r\n          {getWithBracketIfNotEmpty(team.club)}\r\n        </p>\r\n      </div>\r\n      <div className=\"d-flex\" style={{ flexWrap: \"wrap\" }}>\r\n        <p className=\"text-left font13 fw-bolder m-0 p-0\">{team.coDriver}</p>\r\n        <p className=\"text-left font12 p-0 div-club align-self-center\">\r\n          {getWithBracketIfNotEmpty(team.coClub)}\r\n        </p>\r\n      </div>\r\n      <p className=\"text-left font13 fw-bolder m-0 p-0\">\r\n        {team.teamName || \"\"}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\nexport const CarDiv = ({ line1, line2, carBrand, driveType }) => {\r\n  let brand = carBrand?.toLowerCase().replace(/ /g, \"\");\r\n\r\n  if (brand === \"vw\") brand = \"volkswagen\";\r\n\r\n  const path = `https://vehapi.com/img/car-logos/${brand}.png`;\r\n\r\n  return (\r\n    <div className=\"col-12 d-flex\">\r\n      <div className=\"col-xl-3 col-4 py-2 align-self-center\">\r\n        <img\r\n          className=\"img-fluid\"\r\n          style={{ height: \"23px\" }}\r\n          src={path}\r\n          alt=\"\"\r\n        ></img>\r\n      </div>\r\n      <div className=\"col-xl-9 col-7\">\r\n        <h6 className=\"font13 fw-bolder m-0\">{line1}</h6>\r\n        {driveType && <p className=\"font12 m-0 p-0\">{driveType}</p>}\r\n        <p className=\"font12 m-0 p-0 fw-bolder\">{line2}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const ScoreDiv = ({ line1, line2, line3 }) => {\r\n  return (\r\n    <div className=\"float-left\">\r\n      <h6 className=\"font13 fw-bolder m-0\">{line1}</h6>\r\n      <p className=\"font12 m-0 p-0\">{line2}</p>\r\n      <p className=\"font12 m-0 p-0\">{line3}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const ScoreDivPenalty = ({ line1, line2 }) => {\r\n  return (\r\n    <div className=\"float-left\">\r\n      <h6 className=\"font13 fw-bolder m-0\">{line1}</h6>\r\n      {line2 === \"0\" ? (\r\n        <></>\r\n      ) : (\r\n        <p className=\"font11 m-0 p-0 fw-bolder text-danger\">\r\n          {\"+\" + line2 + \" s\"}\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nexport const OkCancelModal = ({\r\n  show,\r\n  title,\r\n  text,\r\n  handleAccept,\r\n  handleClose,\r\n}) => {\r\n  return (\r\n    <Modal show={show} onHide={handleClose} backdrop=\"static\" keyboard={false}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>{title}</Modal.Title>\r\n      </Modal.Header>\r\n\r\n      <Modal.Body>\r\n        <p>{text}</p>\r\n      </Modal.Body>\r\n\r\n      <Modal.Footer className={\"justify-content-center\"}>\r\n        <Button className={\"mx-3\"} variant=\"secondary\" onClick={handleClose}>\r\n          Anuluj\r\n        </Button>\r\n        <Button\r\n          className={\"px-4 mx-3\"}\r\n          variant=\"success\"\r\n          onClick={handleAccept}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport const OkModal = ({ show, title, text, handleAccept }) => {\r\n  return (\r\n    <Modal show={show} onHide={handleAccept} backdrop=\"static\" keyboard={false}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>{title}</Modal.Title>\r\n      </Modal.Header>\r\n\r\n      <Modal.Body>\r\n        <p>{text}</p>\r\n      </Modal.Body>\r\n\r\n      <Modal.Footer className={\"justify-content-center\"}>\r\n        <Button\r\n          className={\"px-4 mx-3\"}\r\n          variant=\"success\"\r\n          onClick={handleAccept}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nimport Badge from \"react-bootstrap/Badge\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nexport const NrBadge = ({ value }) => {\r\n  return (\r\n    <Badge\r\n      className=\"number-badge\"\r\n      bg=\"\"\r\n      style={{\r\n        paddingTop: \"5px\",\r\n        justifyContent: \"center\",\r\n        display: \"grid\",\r\n        width: \"22px\",\r\n        height: \"22px\",\r\n        borderRadius: \"20px\",\r\n        fontSize: \"11px\",\r\n      }}\r\n    >\r\n      {value}\r\n    </Badge>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nexport const LoadingTable = () => {\r\n  return (\r\n    <>\r\n      <div\r\n        id='table-loader'\r\n        className='flex justify-content-center align-items-center flex-col-reverse u-padding-top-xxl u-padding-xxl'\r\n      >\r\n        <div className='loader-text'>Pobieranie danych ...</div>\r\n        <div className='loader-container'>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nconst TableHeader = ({ isHeader, headerGroups }) => {\r\n  const getSortIcon = (column) => {\r\n    if (column.isSorted) {\r\n      return column.isSortedDesc ? \" ▼\" : \" ▲\";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  };\r\n  if (isHeader) {\r\n    return (\r\n      <thead className=\"thead-dark\">\r\n        {headerGroups.map((headerGroup, index) => (\r\n          <tr\r\n            key={\"tableHeader\" + index}\r\n            style={{ display: \"table-row\" }}\r\n            {...headerGroup.getHeaderGroupProps()}\r\n            className=\"l-table-row text-white bg-dark\"\r\n          >\r\n            {headerGroup.headers.map((column) => (\r\n              <th\r\n                key={\"tableHeaderCell\" + column.id}\r\n                {...column.getHeaderProps()}\r\n                className=\"px-1 py-0 align-middle\"\r\n                style={{\r\n                  width: column.width,\r\n                  wordBreak: \"break-word\",\r\n                }}\r\n              >\r\n                <div className=\"flex flex-column\">\r\n                  <div\r\n                    {...column.getHeaderProps(column.getSortByToggleProps())}\r\n                    className=\"py-1 my-0 flex align-items-end justify-content-center h6 l-row g-brand2-c table-column-header\"\r\n                  >\r\n                    <span className=\"font13 flex\">\r\n                      {column.Header != null && column.render(\"Header\")}\r\n                    </span>\r\n                    <span className=\"font13 g-gray4-c\">\r\n                      {getSortIcon(column)}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex align-items-end\">\r\n                    {column.canFilter ? column.render(\"Filter\") : null}\r\n                  </div>\r\n                </div>\r\n              </th>\r\n            ))}\r\n          </tr>\r\n        ))}\r\n      </thead>\r\n    );\r\n  } else {\r\n    return <></>;\r\n  }\r\n};\r\nexport default TableHeader;\r\n","import React from 'react';\r\nconst TableFooter = ({ isFooter, footerGroups }) => {\r\n  if (isFooter) {\r\n    return (\r\n      <tfoot>\r\n        {footerGroups.map((group, index) => (\r\n          <tr {...group.getFooterGroupProps()} key={'footerRow' + index}>\r\n            {group.headers.map((column) => (\r\n              <td\r\n                {...column.getFooterProps()}\r\n                key={'footerRowCell' + column.id}\r\n                className={'u-padding-top-m knor-table-sum-result'}\r\n              >\r\n                {column.render('Footer')}\r\n              </td>\r\n            ))}\r\n          </tr>\r\n        ))}\r\n      </tfoot>\r\n    );\r\n  } else {\r\n    return <></>;\r\n  }\r\n};\r\nexport default TableFooter;\r\n","import React from \"react\";\r\nconst EmptyDataRow = ({ headerGroups }) => {\r\n  return (\r\n    <tbody>\r\n      <tr\r\n        style={{\r\n          textDecoration: \"none\",\r\n          display: \"table-row\",\r\n        }}\r\n        className=\"font14 l-table-row u-border u-link\"\r\n      >\r\n        {headerGroups[0].headers.map((column) => (\r\n          <th\r\n            key={\"emptyRowCell\" + column.id}\r\n            {...column.getHeaderProps()}\r\n            className=\"l-col u-padding-m u-padding-s u-padding-top-m u-border\"\r\n            style={{\r\n              width: column.width,\r\n            }}\r\n          >\r\n            {headerGroups[0].headers[0].id === column.id\r\n              ? \"Brak danych\"\r\n              : \"___\"}\r\n          </th>\r\n        ))}\r\n      </tr>\r\n    </tbody>\r\n  );\r\n};\r\nexport default EmptyDataRow;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  useTable,\r\n  useSortBy,\r\n  useGlobalFilter,\r\n  useFilters,\r\n  usePagination,\r\n  useExpanded,\r\n} from \"react-table\";\r\nimport { useDebounce } from \"use-debounce\";\r\nimport { LoadingTable } from \"./LoadingTable\";\r\nimport TableHeader from \"./TableHeader\";\r\nimport TableFooter from \"./TableFooter\";\r\nimport EmptyDataRow from \"./EmptyDataRow\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nconst DefaultColumnFilter = ({ column: { filterValue, setFilter } }) => {\r\n  /* eslint-disable no-unused-vars */\r\n  return (\r\n    <input\r\n      value={filterValue || \"\"}\r\n      onChange={(e) => {\r\n        setFilter(e.target.value || undefined);\r\n      }}\r\n      placeholder={\"\"}\r\n    />\r\n  );\r\n};\r\n\r\nexport default function Table({\r\n  columns,\r\n  data,\r\n  renderRowSubComponent,\r\n  updateMyData,\r\n  isLoading,\r\n  isFooter,\r\n  isHeader = true,\r\n  pageCount: controlledPageCount,\r\n  expandOn = false,\r\n  manualPagination = false,\r\n  manualFilters = false,\r\n  hiddenColumns = [],\r\n  sortBy = [],\r\n  cursor = \"text\",\r\n  fetchData = () => undefined,\r\n  onPageIndexChange = () => undefined,\r\n  onFilterChange = () => undefined,\r\n  onRowClick = () => undefined,\r\n  highlightRow = () => \"\",\r\n  textDecoration = \"none\",\r\n  fontWeight = \"350\",\r\n}) {\r\n  const [prevLength, setPrevLength] = useState(0);\r\n  const filterTypes = React.useMemo(\r\n    () => ({\r\n      text: (rows, id, filterValue) => {\r\n        return rows.filter((row) => {\r\n          const rowValue = row.values[id];\r\n          return rowValue !== undefined\r\n            ? String(rowValue)\r\n                .toLowerCase()\r\n                .startsWith(String(filterValue).toLowerCase())\r\n            : true;\r\n        });\r\n      },\r\n    }),\r\n    []\r\n  );\r\n  const defaultColumn = React.useMemo(\r\n    () => ({ Filter: DefaultColumnFilter }),\r\n    []\r\n  );\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    prepareRow,\r\n    page,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    visibleColumns,\r\n    footerGroups,\r\n    state: { pageIndex, filters },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn,\r\n      filterTypes,\r\n      initialState: {\r\n        pageIndex: 0,\r\n        hiddenColumns: hiddenColumns,\r\n        sortBy: sortBy,\r\n      },\r\n      updateMyData,\r\n      autoResetPage: false,\r\n      autoResetFilters: false,\r\n      isLoading: isLoading,\r\n      isFooter: isFooter,\r\n      isHeader: isHeader,\r\n      manualPagination: manualPagination,\r\n      pageCount: controlledPageCount,\r\n      manualFilters: manualFilters,\r\n    },\r\n    useFilters,\r\n    useGlobalFilter,\r\n    useSortBy,\r\n    useExpanded,\r\n    usePagination\r\n  );\r\n  useEffect(() => {\r\n    gotoPage(0);\r\n  }, [filters]);\r\n\r\n  const [debounceFilters] = useDebounce(filters, 900);\r\n\r\n  useEffect(() => {\r\n    if (debounceFilters) {\r\n      gotoPage(0);\r\n      onFilterChange(debounceFilters);\r\n    }\r\n  }, [debounceFilters]);\r\n\r\n  useEffect(() => {\r\n    onPageIndexChange(pageIndex);\r\n  }, [pageIndex]);\r\n\r\n  useEffect(() => {\r\n    if (debounceFilters) {\r\n      fetchData({ pageIndex, filters: debounceFilters });\r\n    }\r\n  }, [pageIndex, debounceFilters]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <>\r\n        <table id=\"traffic-simulator-table\" {...getTableProps()}>\r\n          <TableHeader isHeader={isHeader} headerGroups={headerGroups} />\r\n        </table>\r\n        <LoadingTable isLoading={isLoading} />\r\n      </>\r\n    );\r\n  } else if (!data.length) {\r\n    return (\r\n      <>\r\n        <table id=\"traffic-simulator-table\" {...getTableProps()}>\r\n          <TableHeader isHeader={isHeader} headerGroups={headerGroups} />\r\n          <EmptyDataRow headerGroups={headerGroups} />\r\n        </table>\r\n      </>\r\n    );\r\n  } else {\r\n    return (\r\n      <>\r\n        <table\r\n          className=\"table table-striped\"\r\n          id=\"traffic-simulator-table\"\r\n          {...getTableProps()}\r\n        >\r\n          <TableHeader isHeader={isHeader} headerGroups={headerGroups} />\r\n          <tbody {...getTableBodyProps()}>\r\n            {page.map((row, rowIndex) => {\r\n              prepareRow(row);\r\n              return (\r\n                <React.Fragment key={\"row\" + rowIndex}>\r\n                  <tr\r\n                    {...row.getRowProps({\r\n                      style: {\r\n                        cursor: cursor,\r\n                        textDecoration: textDecoration,\r\n                        fontWeight: fontWeight,\r\n                        display: \"table-row\",\r\n                        background: highlightRow(row),\r\n                      },\r\n                    })}\r\n                    className=\"align-middle\"\r\n                  >\r\n                    {row.cells.map((cell, cellIndex) => {\r\n                      return (\r\n                        <td\r\n                          key={cellIndex}\r\n                          style={{\r\n                            maxWidth: \"0px\",\r\n                            width: \"unset\",\r\n                          }}\r\n                          {...cell.getCellProps({\r\n                            onClick: cell.column.disableRowClick\r\n                              ? () => undefined\r\n                              : () => onRowClick(row, cell),\r\n                          })}\r\n                          className=\"p-0 m-0\"\r\n                        >\r\n                          <div\r\n                            title={cell.value}\r\n                            className=\"truncate-text truncate-inline nkor-text-align-right\"\r\n                          >\r\n                            {cell.render(\"Cell\")}\r\n                          </div>\r\n                        </td>\r\n                      );\r\n                    })}\r\n                  </tr>\r\n                  {(row.isExpanded || row.values.expand === \"true\") && (\r\n                    <tr>\r\n                      <td colSpan={visibleColumns.length}>\r\n                        {renderRowSubComponent({ row })}\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                </React.Fragment>\r\n              );\r\n            })}\r\n          </tbody>\r\n          <TableFooter isFooter={isFooter} footerGroups={footerGroups} />\r\n        </table>\r\n      </>\r\n    );\r\n  }\r\n}\r\n/* eslint-enable no-unused-vars */\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Table from \"react-bootstrap/Table\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { InputLabeled } from \"../common/InputLabeled\";\r\nimport { CustomDatePicker, TimePicker } from \"../common/DateInput\";\r\nimport { CalendarContainer } from \"react-datepicker\";\r\nimport { backendUrl } from \"../utils/fetchUtils\";\r\nimport { format } from \"date-fns\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTimesCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Selector } from \"../common/Selector\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport { OkCancelModal } from \"../common/Modal\";\r\nimport Form from \"react-bootstrap/Form\";\r\n\r\nexport const NewEventForm = ({ show, handleClose, event }) => {\r\n  const [myEvent, setMyEvent] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    date: new Date(),\r\n    signDeadline: new Date(),\r\n    admin: 1,\r\n    stages: [],\r\n    organizer: \"\",\r\n    logoPath: \"\",\r\n    awdClassification: false,\r\n    rwdClassification: false,\r\n    fwdClassification: false,\r\n  });\r\n  const [stage, setStage] = useState({\r\n    index: 0,\r\n    name: \"\",\r\n    distance: 1.5,\r\n    startTime: new Date(),\r\n    startFrequency: 1,\r\n  });\r\n  const [eventClass, setEventClass] = useState({\r\n    carClassId: 0,\r\n    carClassName: null,\r\n    maxEngineCapacity: null,\r\n    eventId: event?.eventId,\r\n    awd: false,\r\n  });\r\n  const [eventPaths, setEventPaths] = useState([]);\r\n  const [path, setPath] = useState({\r\n    eventId: event?.eventId,\r\n    path: \"\",\r\n    description: \"\",\r\n  });\r\n  const [eventFiles, setEventFiles] = useState([]);\r\n  const [file, setFile] = useState({\r\n    eventId: event?.eventId,\r\n    file: \"\",\r\n    fileName: \"\",\r\n    description: \"\",\r\n  });\r\n  const [logoFile, setLogoFile] = useState();\r\n  const [stages, setStages] = useState([]);\r\n  const [referee, setReferee] = useState([]);\r\n  const [refereeOptions, setRefereeOptions] = useState([]);\r\n  const [eventClasses, setEventClasses] = useState([]);\r\n  const [eventClassesOptions, setEventClassesOptions] = useState([]);\r\n  const [removeEvent, setRemoveEvent] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!show) return;\r\n\r\n    axios\r\n      .get(`${backendUrl()}/event/getRefereeOptions`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setRefereeOptions(res.data);\r\n      });\r\n\r\n    axios\r\n      .get(`${backendUrl()}/event/getEventClassesOptions`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setEventClassesOptions(res.data);\r\n      });\r\n\r\n    setEventClasses([]);\r\n    setReferee([]);\r\n    setStages([]);\r\n    if (event !== undefined) fetchEventToEdit();\r\n  }, [show]);\r\n\r\n  const handleChange = (event) => {\r\n    setMyEvent({ ...myEvent, [event.target.name]: event.target.value });\r\n  };\r\n  const handleStageChange = (event) => {\r\n    setStage({ ...stage, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const handleAccept = () => {\r\n    const data = {\r\n      ...myEvent,\r\n      stages: stages,\r\n      referee: referee,\r\n      eventClasses: eventClasses,\r\n      eventPaths: eventPaths,\r\n      eventFiles: [],\r\n    };\r\n\r\n    axios.put(`${backendUrl()}/event/createNew`, data).then((res) => {\r\n      eventFiles.forEach((f) =>\r\n        axios.post(\r\n          `${backendUrl()}/event/addFileToEvent?fileName=${f.fileName}&desc=${\r\n            f.description\r\n          }&eventId=${res.data}`,\r\n          f.file,\r\n          {\r\n            headers: authHeader(),\r\n          }\r\n        )\r\n      );\r\n      console.log(logoFile);\r\n      if (logoFile)\r\n        axios.post(\r\n          `${backendUrl()}/event/addLogoFile?eventId=${res.data}`,\r\n          logoFile,\r\n          {\r\n            headers: authHeader(),\r\n          }\r\n        );\r\n    });\r\n\r\n    handleClose();\r\n  };\r\n\r\n  const removeFile = (fileId) => {\r\n    if (!fileId) return;\r\n\r\n    axios.post(\r\n      `${backendUrl()}/event/removeFileFromEvent?fileId=${fileId}&eventId=${\r\n        myEvent.eventId\r\n      }`,\r\n      {\r\n        headers: authHeader(),\r\n      }\r\n    );\r\n  };\r\n\r\n  const addStage = () => {\r\n    stages.push(stage);\r\n    setStages(stages);\r\n    setStage({\r\n      index: stage.index + 1,\r\n      name: \"\",\r\n      distance: \"\",\r\n      startTime: new Date(),\r\n      startFrequency: 1,\r\n    });\r\n  };\r\n\r\n  const addClass = () => {\r\n    eventClasses.push(eventClass);\r\n    setEventClass({\r\n      carClassId: 0,\r\n      carClassName: null,\r\n      maxEngineCapacity: \"\",\r\n      eventId: event?.eventId,\r\n      awd: false,\r\n    });\r\n  };\r\n\r\n  const addPath = () => {\r\n    eventPaths.push(path);\r\n    setPath({\r\n      eventId: event?.eventId,\r\n      path: \"\",\r\n      description: \"\",\r\n    });\r\n  };\r\n\r\n  const addFiles = () => {\r\n    eventFiles.push(file);\r\n    setFile({\r\n      eventId: event?.eventId,\r\n      file: \"\",\r\n      fileName: \"\",\r\n      description: \"\",\r\n    });\r\n  };\r\n\r\n  const removeFromStages = (id) => {\r\n    const tempStages = stages.filter((x) => x.index !== id);\r\n    setStages(tempStages);\r\n  };\r\n\r\n  const removeReferee = (id) => {\r\n    const tempRef = referee.filter((x) => x.userId !== id);\r\n    setReferee(tempRef);\r\n  };\r\n\r\n  const removeClass = (id) => {\r\n    const tempClass = eventClasses.filter((x) => x.carClassId !== id);\r\n    setEventClasses(tempClass);\r\n  };\r\n\r\n  const addReferee = (id) => {\r\n    const tempRef = refereeOptions.find((x) => x.value === id);\r\n    const newRef = { userId: Number(tempRef.value), username: tempRef.label };\r\n    setReferee([...referee, newRef]);\r\n  };\r\n\r\n  const addEventClass = (id) => {\r\n    const tempClass = eventClassesOptions.find((x) => x.value === id);\r\n\r\n    setEventClass({\r\n      ...eventClass,\r\n      carClassId: id,\r\n      carClassName: tempClass.label,\r\n    });\r\n  };\r\n\r\n  const fetchEventToEdit = () => {\r\n    axios\r\n      .get(`${backendUrl()}/event/getEvent?eventId=${event.eventId}`)\r\n      .then((res) => {\r\n        setMyEvent({\r\n          ...res.data,\r\n          date: res.data.date ? new Date(res.data.date) : new Date(),\r\n          signDeadline: res.data.signDeadline\r\n            ? new Date(res.data.signDeadline)\r\n            : new Date(),\r\n        });\r\n        setStages(\r\n          res.data.stages.map((x) => {\r\n            return { ...x, startTime: new Date(x.startTime) };\r\n          })\r\n        );\r\n        setReferee(res.data.referee);\r\n        setEventClasses(\r\n          res.data.eventClasses.map((x) => {\r\n            return { ...x, carClassName: x.carClass.name };\r\n          })\r\n        );\r\n        setEventPaths(res.data.eventPaths);\r\n        setEventFiles(res.data.eventFiles);\r\n      });\r\n  };\r\n\r\n  const fetchRemoveEvent = () => {\r\n    axios\r\n      .get(`${backendUrl()}/event/deleteEvent?eventId=${event.eventId}`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        handleClose();\r\n      });\r\n  };\r\n\r\n  const addFile = (e) => {\r\n    const currentFile = e.target.files[0];\r\n    const formData = new FormData();\r\n    formData.append(\"file\", currentFile);\r\n\r\n    setFile({ ...file, file: formData, fileName: currentFile.name });\r\n  };\r\n\r\n  const addLogoFile = (e) => {\r\n    const currentFile = e.target.files[0];\r\n    const formData = new FormData();\r\n    formData.append(\"file\", currentFile);\r\n\r\n    setLogoFile(formData);\r\n  };\r\n\r\n  const DatePickerContainer = ({ className, children }) => {\r\n    return (\r\n      <>\r\n        <CalendarContainer className={className}>\r\n          <div style={{ display: \"flex\" }}>{children}</div>\r\n        </CalendarContainer>\r\n      </>\r\n    );\r\n  };\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={handleClose}\r\n      backdrop=\"static\"\r\n      keyboard={false}\r\n      size=\"xl\"\r\n    >\r\n      <Modal.Header className=\"bg-dark text-white\" closeButton>\r\n        <Modal.Title>Dodawanie nowego wydarzenia</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div className=\"row u-text-center justify-content-center\">\r\n          <Card.Body className=\"py-0\">\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-4 px-1\">\r\n                <InputLabeled\r\n                  label=\"Nazwa\"\r\n                  name=\"name\"\r\n                  handleChange={handleChange}\r\n                  big={true}\r\n                  value={myEvent.name}\r\n                  multiline={2}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-8 px-1\">\r\n                <InputLabeled\r\n                  label=\"Opis\"\r\n                  name=\"description\"\r\n                  handleChange={handleChange}\r\n                  big={true}\r\n                  value={myEvent.description}\r\n                  multiline={2}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-3 px-1\">\r\n                <InputLabeled\r\n                  label=\"Nazwa organizatora\"\r\n                  name=\"organizer\"\r\n                  handleChange={handleChange}\r\n                  big={true}\r\n                  value={myEvent.organizer}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3 px-1\">\r\n                <InputLabeled\r\n                  label=\"Ścieżka do logo wydarzenia\"\r\n                  inputPlaceholder=\"http://www.akteam.pl/logo.jpg\"\r\n                  name=\"logoPath\"\r\n                  handleChange={handleChange}\r\n                  big={true}\r\n                  value={myEvent.logoPath}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3 px-1\">\r\n                <CustomDatePicker\r\n                  label={\"Data wydarzenia\"}\r\n                  onChange={(value) => setMyEvent({ ...myEvent, date: value })}\r\n                  selected={myEvent.date}\r\n                  calendarContainer={DatePickerContainer}\r\n                  //placeholderText={placeholderFrom}\r\n                  minDate={null}\r\n                  maxDate={null}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3 px-1\">\r\n                <CustomDatePicker\r\n                  label={\"Koniec zapisów\"}\r\n                  onChange={(value) =>\r\n                    setMyEvent({ ...myEvent, signDeadline: value })\r\n                  }\r\n                  selected={myEvent.signDeadline}\r\n                  calendarContainer={DatePickerContainer}\r\n                  //placeholderText={placeholderFrom}\r\n                  minDate={new Date()}\r\n                  maxDate={null}\r\n                />\r\n              </div>\r\n            </div>\r\n          </Card.Body>\r\n          <div className=\"col-lg-4 py-2  border-right shadow bg-white rounded\">\r\n            <div className=\"col-lg-12 border-right rounded\">\r\n              <Card className=\"text-center\">\r\n                <Card.Body className=\"p-0\">\r\n                  <Selector\r\n                    label={\"Sędziowie\"}\r\n                    options={refereeOptions}\r\n                    handleChange={(value) => addReferee(value)}\r\n                    isValid={true}\r\n                    skipDefault={true}\r\n                  />\r\n                  <Table responsive>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Login</th>\r\n                        <th className=\"text-end\">Usuń</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {referee.map((x, index) => (\r\n                        <tr key={x.userId + index}>\r\n                          <td>{x.username}</td>\r\n                          <td className=\"text-end\">\r\n                            <FontAwesomeIcon\r\n                              icon={faTimesCircle}\r\n                              onClick={() => removeReferee(x.userId)}\r\n                              title={\"Usuń załoge\"}\r\n                              cursor={\"pointer\"}\r\n                            />\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </Table>\r\n                </Card.Body>\r\n              </Card>\r\n              <Card className=\"text-center\">\r\n                <Card.Header className=\"bg-dark text-white\">\r\n                  Podział na klasy\r\n                </Card.Header>\r\n                <Card.Body className=\"p-0\">\r\n                  <Table responsive>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Klasa</th>\r\n                        <th>Max silnik [cm3]</th>\r\n                        <th className=\"text-end\">Usuń</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {eventClasses.map((x, index) => (\r\n                        <tr key={x.carClassId + index}>\r\n                          <td>{x.carClassName}</td>\r\n                          <td>{x.maxEngineCapacity}</td>\r\n                          <td className=\"text-end\">\r\n                            <FontAwesomeIcon\r\n                              icon={faTimesCircle}\r\n                              onClick={() => removeClass(x.carClassId)}\r\n                              title={\"Usuń klase\"}\r\n                              cursor={\"pointer\"}\r\n                            />\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </Table>\r\n                  <div className=\"d-grid\">\r\n                    <Selector\r\n                      className={\"w-50\"}\r\n                      label={\"Klasa\"}\r\n                      options={eventClassesOptions}\r\n                      handleChange={(value) => addEventClass(value)}\r\n                      isValid={true}\r\n                      value={eventClass.carClassId}\r\n                      skipDefault={true}\r\n                    />\r\n                    <InputLabeled\r\n                      label=\"Max silnik [cm3]\"\r\n                      name=\"name\"\r\n                      handleChange={(e) =>\r\n                        setEventClass({\r\n                          ...eventClass,\r\n                          maxEngineCapacity: e.target.value,\r\n                        })\r\n                      }\r\n                      big={true}\r\n                      value={eventClass.maxEngineCapacity}\r\n                    />\r\n                  </div>\r\n                  <Button\r\n                    className={\"px-4 my-3\"}\r\n                    variant=\"success\"\r\n                    onClick={addClass}\r\n                  >\r\n                    Dodaj klase\r\n                  </Button>\r\n                  <Form.Check\r\n                    inline\r\n                    label=\"Dodatkowa klasyfikacja AWD\"\r\n                    name=\"turbo\"\r\n                    type={\"checkbox\"}\r\n                    checked={myEvent.awdClassification}\r\n                    onClick={(e) =>\r\n                      setMyEvent({\r\n                        ...myEvent,\r\n                        awdClassification: e.target.checked,\r\n                      })\r\n                    }\r\n                  />\r\n                  <Form.Check\r\n                    inline\r\n                    label=\"Dodatkowa klasyfikacja RWD\"\r\n                    name=\"turbo\"\r\n                    type={\"checkbox\"}\r\n                    checked={myEvent.rwdClassification}\r\n                    onClick={(e) =>\r\n                      setMyEvent({\r\n                        ...myEvent,\r\n                        rwdClassification: e.target.checked,\r\n                      })\r\n                    }\r\n                  />\r\n                  <Form.Check\r\n                    inline\r\n                    label=\"Dodatkowa klasyfikacja FWD\"\r\n                    name=\"turbo\"\r\n                    type={\"checkbox\"}\r\n                    checked={myEvent.fwdClassification}\r\n                    onClick={(e) =>\r\n                      setMyEvent({\r\n                        ...myEvent,\r\n                        fwdClassification: e.target.checked,\r\n                      })\r\n                    }\r\n                  />\r\n                </Card.Body>\r\n              </Card>\r\n              <Card className=\"text-center\">\r\n                <Card.Header className=\"bg-dark text-white\">\r\n                  Plik z logo wydarzenia\r\n                </Card.Header>\r\n                <Card.Body className=\"p-1\">\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"logoPathFile\"\r\n                    accept=\"image/jpg\"\r\n                    onChange={(e) => addLogoFile(e)}\r\n                  />\r\n                </Card.Body>\r\n              </Card>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-8 py-2 shadow mb-1 bg-white rounded\">\r\n            <Card>\r\n              <Card.Header className=\"bg-dark text-white\">\r\n                Odcinki PS/OS (w kolejności)\r\n              </Card.Header>\r\n              <Card.Body className=\"p-0\">\r\n                {stages.length > 0 && (\r\n                  <Table responsive>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>#</th>\r\n                        <th>Nazwa</th>\r\n                        <th>Czas startu</th>\r\n                        <th>Częstotliwość</th>\r\n                        <th className=\"text-end\">Usuń</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {stages.map((x, index) => (\r\n                        <tr key={index}>\r\n                          <td>{index}</td>\r\n                          <td>{x.name}</td>\r\n                          <td>\r\n                            {x.startTime === null\r\n                              ? \"\"\r\n                              : format(x.startTime, \"HH:mm\")}\r\n                          </td>\r\n                          <td>{x.startFrequency + \" min\"}</td>\r\n                          <td className=\"text-end\">\r\n                            <FontAwesomeIcon\r\n                              icon={faTimesCircle}\r\n                              onClick={() => removeFromStages(x.index)}\r\n                              title={\"Usuń załoge\"}\r\n                              cursor={\"pointer\"}\r\n                            />\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </Table>\r\n                )}\r\n                <div className=\"d-block\">\r\n                  <InputLabeled\r\n                    label=\"Nazwa\"\r\n                    name=\"name\"\r\n                    handleChange={handleStageChange}\r\n                    big={true}\r\n                    value={stage.name}\r\n                  />\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg-3\">\r\n                    <InputLabeled\r\n                      label=\"Długość [m]\"\r\n                      name=\"distance\"\r\n                      handleChange={handleStageChange}\r\n                      big={true}\r\n                      onlyNumber={true}\r\n                      value={stage.distance}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-lg-4\">\r\n                    <TimePicker\r\n                      label={\"Czas startu odcinka\"}\r\n                      onChange={(value) => {\r\n                        setStage({\r\n                          ...stage,\r\n                          startTime: value,\r\n                        });\r\n                      }}\r\n                      calendarContainer={DatePickerContainer}\r\n                      minDate={new Date()}\r\n                      maxDate={null}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-lg-5\">\r\n                    <InputLabeled\r\n                      label=\"Częstotliwość startów [min]\"\r\n                      name=\"startFrequency\"\r\n                      handleChange={handleStageChange}\r\n                      big={true}\r\n                      value={stage.startFrequency}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-center py-3\">\r\n                  <Button\r\n                    className={\"px-4 mx-3\"}\r\n                    variant=\"success\"\r\n                    onClick={addStage}\r\n                  >\r\n                    Dodaj odcinek\r\n                  </Button>\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n\r\n            <Card className=\"text-center\">\r\n              <Card.Header className=\"bg-dark text-white\">\r\n                Linki do regulaminow, informacji itd.\r\n              </Card.Header>\r\n              <Card.Body className=\"p-0\">\r\n                <Table responsive>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Link</th>\r\n                      <th>Opis</th>\r\n                      <th className=\"text-end\">Usuń</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {eventPaths.map((path, index) => (\r\n                      <tr key={index}>\r\n                        <td>{path.path}</td>\r\n                        <td>{path.description}</td>\r\n                        <td className=\"text-end\">\r\n                          <FontAwesomeIcon\r\n                            icon={faTimesCircle}\r\n                            onClick={() =>\r\n                              setEventPaths(\r\n                                eventPaths.filter(\r\n                                  (elem) => elem.path !== path.path\r\n                                )\r\n                              )\r\n                            }\r\n                            title={\"Usuń link\"}\r\n                            cursor={\"pointer\"}\r\n                          />\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </Table>\r\n                <div className=\"d-grid\">\r\n                  <InputLabeled\r\n                    label=\"Link/ścieżka\"\r\n                    name=\"path\"\r\n                    handleChange={(e) =>\r\n                      setPath({ ...path, path: e.target.value })\r\n                    }\r\n                    big={true}\r\n                    value={path.path}\r\n                  />\r\n                  <InputLabeled\r\n                    label=\"Opis\"\r\n                    name=\"description\"\r\n                    handleChange={(e) =>\r\n                      setPath({ ...path, description: e.target.value })\r\n                    }\r\n                    big={true}\r\n                    value={path.description}\r\n                  />\r\n                </div>\r\n                <Button\r\n                  className={\"px-4 my-3\"}\r\n                  variant=\"success\"\r\n                  onClick={addPath}\r\n                  disabled={path.description === \"\" || path.link === \"\"}\r\n                >\r\n                  Dodaj link\r\n                </Button>\r\n              </Card.Body>\r\n            </Card>\r\n            <Card className=\"text-center\">\r\n              <Card.Header className=\"bg-dark text-white\">Pliki</Card.Header>\r\n              <Card.Body className=\"p-0\">\r\n                <Table responsive>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Plik</th>\r\n                      <th>Opis</th>\r\n                      <th className=\"text-end\">Usuń</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {eventFiles.map((file, index) => (\r\n                      <tr key={index}>\r\n                        <td>{file.fileName}</td>\r\n                        <td>{file.description}</td>\r\n                        <td className=\"text-end\">\r\n                          <FontAwesomeIcon\r\n                            icon={faTimesCircle}\r\n                            onClick={() => {\r\n                              removeFile(file.id);\r\n                              setEventFiles(\r\n                                eventFiles.filter(\r\n                                  (elem) => elem.fileName !== file.fileName\r\n                                )\r\n                              );\r\n                            }}\r\n                            title={\"Usuń plik\"}\r\n                            cursor={\"pointer\"}\r\n                          />\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </Table>\r\n                <div className=\"d-grid\">\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"file\"\r\n                    accept=\"application/pdf,application/vnd.ms-excel\"\r\n                    onChange={(e) => addFile(e)}\r\n                  />\r\n                  <InputLabeled\r\n                    label=\"Opis\"\r\n                    name=\"description\"\r\n                    handleChange={(e) =>\r\n                      setFile({ ...file, description: e.target.value })\r\n                    }\r\n                    big={true}\r\n                    value={file.description}\r\n                  />\r\n                </div>\r\n                <Button\r\n                  className={\"px-4 my-3\"}\r\n                  variant=\"success\"\r\n                  onClick={addFiles}\r\n                  disabled={file.description === \"\" || file.fileName === \"\"}\r\n                >\r\n                  Dodaj plik\r\n                </Button>\r\n              </Card.Body>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n        {removeEvent && (\r\n          <OkCancelModal\r\n            show={true}\r\n            title={\"Usuwanie wydarzenia\"}\r\n            text={`Czy napewno chcesz usunąć wydarzenie? Operacja nieodwracalna`}\r\n            handleAccept={() => {\r\n              fetchRemoveEvent();\r\n              setRemoveEvent(false);\r\n            }}\r\n            handleClose={() => setRemoveEvent(false)}\r\n          />\r\n        )}\r\n      </Modal.Body>\r\n      <Modal.Footer className={\"justify-content-center\"}>\r\n        {event && (\r\n          <Button\r\n            className={\"mx-3\"}\r\n            variant=\"secondary\"\r\n            onClick={() => setRemoveEvent(true)}\r\n          >\r\n            Usuń wydarzenie\r\n          </Button>\r\n        )}\r\n        <Button className={\"mx-3\"} variant=\"secondary\" onClick={handleClose}>\r\n          Anuluj\r\n        </Button>\r\n        <Button\r\n          className={\"px-4 mx-3\"}\r\n          variant=\"success\"\r\n          onClick={handleAccept}\r\n          disabled={stages.length === 0}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport moment from \"moment\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faStar, faEdit } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport const EventCard = ({\r\n  event,\r\n  onJoin,\r\n  onTeamList,\r\n  onScore,\r\n  onEdit,\r\n  mainAdmin,\r\n}) => {\r\n  const eventDeadlined =\r\n    new Date().getTime() > new Date(event.signDeadline).getTime();\r\n\r\n  return (\r\n    <div className=\"col-lg-6 pb-3 u-box-shadow\">\r\n      <Card className=\"\">\r\n        <Card.Header className=\"bg-secondary text-white text-start fw-bold py-1\">\r\n          <div className=\"row px-1\">\r\n            <div className=\"col-11 px-0\">{event?.name}</div>\r\n            <div className=\"col-1 px-0 text-end\">\r\n              {onEdit !== undefined && mainAdmin && (\r\n                <FontAwesomeIcon\r\n                  className={\"text-white fa-lg\"}\r\n                  icon={faEdit}\r\n                  onClick={onEdit}\r\n                  cursor={\"pointer\"}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Card.Header>\r\n        <Card.Body className=\"p-1\">\r\n          <div className=\"position-absolute end-0 mx-3 text-end badge bg-primary text-wrap fst-italic\">\r\n            {moment(event?.date).format(\"dddd, DD MMM YYYY, HH:mm\")}\r\n          </div>\r\n          <div className=\"container d-flex\">\r\n            <div\r\n              className=\"col-lg-2 px-0 align-self-center\"\r\n              style={{ width: \"90px\" }}\r\n            >\r\n              {event.logoPathFile ? (\r\n                <img\r\n                  id={\"eventImage\" + event.eventId}\r\n                  className=\"img-fluid rounded float-left\"\r\n                  src={\"data:image/jpg;base64,\" + event.logoPathFile}\r\n                  alt=\"Logo\"\r\n                ></img>\r\n              ) : event.logoPath !== undefined && event.logoPath !== null ? (\r\n                <img\r\n                  className=\"img-fluid rounded float-left\"\r\n                  src={event.logoPath}\r\n                  alt=\"Logo\"\r\n                ></img>\r\n              ) : (\r\n                <img\r\n                  src=\"/akbpLogo.png\"\r\n                  className=\"img-fluid rounded float-left\"\r\n                  alt=\"...\"\r\n                />\r\n              )}\r\n            </div>\r\n            <div className=\"col-lg-10 mt-3\">\r\n              {event.organizer !== undefined && event.organizer !== null && (\r\n                <p className=\"m-3\">{`Organizator: ${event.organizer}`}</p>\r\n              )}\r\n              <p className=\"fw-bold fst-italic mt-2\">\r\n                {`Koniec zapisów:  ${moment(event?.signDeadline).format(\r\n                  \"dddd, DD MMM YYYY, HH:mm\"\r\n                )}`}\r\n              </p>\r\n              {new Date(event?.signDeadline) < new Date() &&\r\n                new Date(event?.date) > new Date() && (\r\n                  <p className=\"\">{\"Zapisy zamknięte\"}</p>\r\n                )}\r\n              {event.joined && (\r\n                <div className=\"d-inline-flex\">\r\n                  <FontAwesomeIcon\r\n                    className={\"text-success fa-lg\"}\r\n                    icon={faStar}\r\n                  />\r\n                  <h6>Jesteś zapisany</h6>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Card.Body>\r\n        <Card.Footer className=\"text-start py-0\">\r\n          <div className=\"row my-2\">\r\n            <div className=\"col-6 px-0\">\r\n              {/* {new Date().getTime() <=\r\n                new Date(event.signDeadline).getTime() && ( */}\r\n              <Button\r\n                className={\"start-0 py-1 px-1\"}\r\n                variant=\"success\"\r\n                onClick={onJoin}\r\n              >\r\n                {eventDeadlined\r\n                  ? \"Informacje\"\r\n                  : event.joined\r\n                  ? \"Moje zgłoszenie\"\r\n                  : \"Info / Zgłoszenia\"}\r\n              </Button>\r\n              {/* )} */}\r\n            </div>\r\n            <div className=\"col-6 px-0 d-flex justify-content-end\">\r\n              <Button\r\n                className={\"py-1 px-1\"}\r\n                variant=\"dark\"\r\n                onClick={onTeamList}\r\n              >\r\n                Lista\r\n              </Button>\r\n              <Button\r\n                className={\"py-1 px-1 mx-1\"}\r\n                variant=\"warning\"\r\n                onClick={onScore}\r\n              >\r\n                Wyniki\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Card.Footer>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { backendUrl } from \"../utils/fetchUtils\";\r\nimport ResultTable from \"../common/table/ResultTable\";\r\nimport { NrBadge } from \"../common/NrBadge\";\r\nimport { CarDiv, TeamDiv } from \"../common/Div\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCheck, faQuestion } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport const TeamListModal = ({ show, handleClose, eventId, started }) => {\r\n  const [teams, setTeams] = useState([]);\r\n  const [startEvent, setStartEvent] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [referee, setReferee] = useState(false);\r\n\r\n  const fetchTeams = () => {\r\n    if (eventId === undefined) return;\r\n    axios\r\n      .get(`${backendUrl()}/event/getTeams?eventId=${eventId}`)\r\n      .then((res) => {\r\n        setTeams(res.data);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (show) {\r\n      setLoading(true);\r\n      setTeams([]);\r\n    }\r\n    fetchTeams();\r\n  }, [show]);\r\n\r\n  useEffect(() => {\r\n    setTeams([]);\r\n    fetchTeams();\r\n  }, [referee]);\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        width: \"8%\",\r\n        id: \"index\",\r\n        Header: \"L.p\",\r\n        accessor: (cellInfo) => cellInfo.number,\r\n        disableFilters: true,\r\n        Cell: (row) => <div className=\"ps-2\"> {row.row.index + 1}</div>,\r\n      },\r\n      {\r\n        width: \"9%\",\r\n        id: \"#\",\r\n        Header: \"#Nr\",\r\n        accessor: (cellInfo) => cellInfo.number,\r\n        disableFilters: true,\r\n        Cell: (row) => <NrBadge value={row.value}></NrBadge>,\r\n      },\r\n      {\r\n        width: \"30%\",\r\n        id: \"team\",\r\n        Header: \"Załoga\",\r\n        accessor: (cellInfo) => cellInfo.team,\r\n        disableFilters: true,\r\n        Cell: (row) => <TeamDiv team={row.value}></TeamDiv>,\r\n      },\r\n      {\r\n        width: \"30%\",\r\n        id: \"car\",\r\n        Header: \"Samochód\",\r\n        accessor: (cellInfo) => cellInfo.team.currentCar,\r\n        disableFilters: true,\r\n        Cell: (row) => (\r\n          <CarDiv\r\n            line1={(row.value?.brand || \"\") + \" \" + (row.value?.model || \"\")}\r\n            line2={row.row.original.carClass.name}\r\n            carBrand={row.value?.brand}\r\n            driveType={row.value?.driveTypeEnum}\r\n          ></CarDiv>\r\n        ),\r\n      },\r\n      {\r\n        width: \"11%\",\r\n        id: \"engine\",\r\n        Header: \"Silnik\",\r\n        accessor: (cellInfo) =>\r\n          cellInfo.team.currentCar?.engineCapacity + \" cm3\",\r\n        disableFilters: true,\r\n      },\r\n      {\r\n        width: \"11%\",\r\n        id: \"entryFee\",\r\n        Header: \"Potwierdz.\",\r\n        accessor: (cellInfo) => cellInfo.entryFeePaid,\r\n        disableFilters: true,\r\n        Cell: (row) => {\r\n          return (\r\n            <FontAwesomeIcon\r\n              icon={row.value ? faCheck : faQuestion}\r\n              style={{ color: row.value ? \"green\" : \"black\" }}\r\n              title={\r\n                row.value ? \"Potwierdzony\" : \"Dodaj potwierdzenie przelewu\"\r\n              }\r\n              cursor={\"pointer\"}\r\n            />\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={handleClose}\r\n      backdrop=\"static\"\r\n      keyboard={false}\r\n      size=\"xl\"\r\n    >\r\n      <Modal.Header className=\"bg-dark text-white\" closeButton>\r\n        <Modal.Title>Lista zapisanych</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body className=\"px-0\">\r\n        <p style={{ fontSize: \"11px\" }} className=\"text-center my-0 py-0\">\r\n          Aplikacja w fazie testów\r\n        </p>\r\n        {loading && (\r\n          <div className=\"text-center\">\r\n            <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n          </div>\r\n        )}\r\n        {!loading && teams.length === 0 && (\r\n          <h1 className=\"text-center\">Brak zgłoszeń - bądź pierwszy!</h1>\r\n        )}\r\n        {!loading && teams?.length > 0 && (\r\n          <ResultTable\r\n            columns={columns}\r\n            data={teams}\r\n            isLoading={false}\r\n            isFooter={false}\r\n            isHeader={true}\r\n            manualPagination={true}\r\n          />\r\n        )}\r\n      </Modal.Body>\r\n      <Modal.Footer className={\"justify-content-center\"}>\r\n        <div className=\"d-grid\">\r\n          {/* {referee && (\r\n            <Button\r\n              className={\"m-2\"}\r\n              variant=\"success\"\r\n              onClick={() => setStartEvent(true)}\r\n              disabled={started}\r\n            >\r\n              Zamknij liste / Rozpocznij wydarzenie\r\n            </Button>\r\n          )} */}\r\n          <Button className={\"m-1\"} variant=\"secondary\" onClick={handleClose}>\r\n            Anuluj\r\n          </Button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { backendUrl } from \"../utils/fetchUtils\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport { InputLabeled } from \"../common/InputLabeled\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport { Selector } from \"../common/Selector\";\r\nimport {\r\n  faBuilding,\r\n  faCar,\r\n  faCarAlt,\r\n  faUserAstronaut,\r\n  faUserClock,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport const QuickJoinPanel = ({ show, handleClose, eventId }) => {\r\n  const [msg, setMsg] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const [options, setOptions] = useState();\r\n  const [team, setTeam] = useState({\r\n    coSportLicense: false,\r\n    sportLicense: false,\r\n    birthDate: new Date(),\r\n    currentCar: {\r\n      carId: null,\r\n      brand: \"\",\r\n      model: \"\",\r\n      year: \"\",\r\n      licensePlate: \"\",\r\n      vin: \"\",\r\n      engineCapacity: \"\",\r\n      turbo: false,\r\n      driveType: \"1\",\r\n      petrol: \"BENZYNA\",\r\n      insurance: \"\",\r\n      insuranceExpiryDate: new Date(),\r\n      carInspectionExpiryDate: new Date(),\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (show) {\r\n      axios.get(`${backendUrl()}/team/getTeamOptionList`).then((res) => {\r\n        setOptions(res.data);\r\n      });\r\n      setTeam({\r\n        coSportLicense: false,\r\n        sportLicense: false,\r\n        birthDate: new Date(),\r\n        currentCar: {\r\n          carId: null,\r\n          brand: \"\",\r\n          model: \"\",\r\n          year: \"\",\r\n          licensePlate: \"\",\r\n          vin: \"\",\r\n          engineCapacity: \"\",\r\n          turbo: false,\r\n          driveType: \"1\",\r\n          petrol: \"BENZYNA\",\r\n          insurance: \"\",\r\n          insuranceExpiryDate: new Date(),\r\n          carInspectionExpiryDate: new Date(),\r\n        },\r\n      });\r\n      setMsg();\r\n      setLoading(false);\r\n    }\r\n  }, [show]);\r\n\r\n  const fetchAddTeam = () => {\r\n    setLoading(true);\r\n    axios\r\n      .post(`${backendUrl()}/team/addTeam?eventId=${eventId}`, team, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setMsg(res.data);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    fetchAddTeam();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={handleClose}\r\n      backdrop=\"static\"\r\n      keyboard={false}\r\n      size=\"l\"\r\n    >\r\n      <Modal.Header className=\"bg-dark text-white\" closeButton>\r\n        <Modal.Title>Szybkie dodawanie zawodnika</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div className=\"d-flex justify-content-center text-center\">\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Imie i nazwisko kierowcy\"\r\n                  name=\"driver\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, driver: e.target.value })\r\n                  }\r\n                  value={team.driver}\r\n                  big={true}\r\n                  required={true}\r\n                  icon={faUserAstronaut}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Imie i nazwisko pilota\"\r\n                  name=\"coDriver\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, coDriver: e.target.value })\r\n                  }\r\n                  value={team.coDriver}\r\n                  big={true}\r\n                  icon={faUserClock}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Automobilklub kierowcy\"\r\n                  name=\"club\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, club: e.target.value })\r\n                  }\r\n                  value={team.club}\r\n                  big={true}\r\n                  icon={faBuilding}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Automobilklub pilota\"\r\n                  name=\"coClub\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, coClub: e.target.value })\r\n                  }\r\n                  value={team.coClub}\r\n                  big={true}\r\n                  icon={faBuilding}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Marka samochodu\"\r\n                  name=\"carBrand\"\r\n                  handleChange={(e) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, brand: e.target.value },\r\n                    })\r\n                  }\r\n                  value={team.currentCar.brand}\r\n                  big={true}\r\n                  required={true}\r\n                  icon={faCar}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Model samochodu\"\r\n                  name=\"carModel\"\r\n                  handleChange={(e) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, model: e.target.value },\r\n                    })\r\n                  }\r\n                  value={team.currentCar.model}\r\n                  big={true}\r\n                  required={true}\r\n                  icon={faCarAlt}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Pojemność silnika [cm3]\"\r\n                  name=\"engineCapacity\"\r\n                  handleChange={(e) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: {\r\n                        ...team.currentCar,\r\n                        engineCapacity: e.target.value,\r\n                      },\r\n                    })\r\n                  }\r\n                  value={team.currentCar.engineCapacity}\r\n                  big={true}\r\n                  required={true}\r\n                  onlyNumber={true}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <Selector\r\n                  label={\"Rodzaj napędu\"}\r\n                  options={options?.driveTypeOption}\r\n                  handleChange={(value) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: {\r\n                        ...team.currentCar,\r\n                        driveType: value,\r\n                      },\r\n                    })\r\n                  }\r\n                  isValid={true}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"d-flex justify-content-center\">\r\n              <Form>\r\n                <span className={\"py-0 mb-2 mt-1 mx-1 input-group-text\"}>\r\n                  Turbo\r\n                </span>\r\n                <Form.Check\r\n                  inline\r\n                  label=\"TAK\"\r\n                  name=\"turbo\"\r\n                  type={\"radio\"}\r\n                  id={`inline-1`}\r\n                  checked={team.currentCar.turbo}\r\n                  onClick={() =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, turbo: true },\r\n                    })\r\n                  }\r\n                />\r\n                <Form.Check\r\n                  inline\r\n                  label=\"NIE\"\r\n                  name=\"turbo\"\r\n                  type={\"radio\"}\r\n                  id={`inline-2`}\r\n                  checked={!team.currentCar.turbo}\r\n                  onClick={() =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, turbo: false },\r\n                    })\r\n                  }\r\n                />\r\n              </Form>\r\n            </div>\r\n            <div className=\"text-center\" style={{ height: \"50px\" }}>\r\n              <h4 className=\"text-success fw-bold\">{msg}</h4>\r\n              {loading && (\r\n                <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n              )}\r\n            </div>\r\n            <Button\r\n              className={\"m-1\"}\r\n              variant=\"success\"\r\n              type=\"submit\"\r\n              disabled={msg}\r\n            >\r\n              Dołącz do wydarzenia\r\n            </Button>\r\n            <Button\r\n              className={\"m-1\"}\r\n              variant=\"secondary\"\r\n              onClick={() => handleClose()}\r\n            >\r\n              {msg ? \"Ok\" : \"Wyjdź\"}\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Tabs from \"react-bootstrap/Tabs\";\r\nimport Tab from \"react-bootstrap/Tab\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { backendUrl, fetchRemoveFromEvent } from \"../utils/fetchUtils\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport moment from \"moment\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faStar } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { QuickJoinPanel } from \"../join/QuickJoinPanel\";\r\nimport { TeamModal } from \"../team/TeamModal\";\r\nimport { download } from \"../utils/fileUtils\";\r\n\r\nexport const EventModal = ({ show, handleClose, event }) => {\r\n  const navigate = useNavigate();\r\n\r\n  const [team, setTeam] = useState(undefined);\r\n  const [file, setFile] = useState();\r\n  const [uploading, setUploading] = useState(false);\r\n  const [fileMsg, setFileMsg] = useState();\r\n  const [notJoined, setNotJoined] = useState(false);\r\n  const [myEvent, setMyEvent] = useState();\r\n  const [quickJoin, setQuickJoin] = useState();\r\n  const [activeTab, setActiveTab] = useState(1);\r\n  const [fillTeam, setFillTeam] = useState();\r\n\r\n  const loggedUser = sessionStorage.getItem(\"username\") !== null;\r\n\r\n  useEffect(() => {\r\n    if (!show) return;\r\n\r\n    fetchGetTeam();\r\n    setUploading(false);\r\n    setFileMsg();\r\n    setNotJoined(false);\r\n    setMyEvent(event);\r\n  }, [show]);\r\n\r\n  const signDeadlined = event\r\n    ? new Date().getTime() > new Date(event.signDeadline).getTime()\r\n    : false;\r\n\r\n  const fetchGetTeam = () => {\r\n    axios\r\n      .get(`${backendUrl()}/team/getTeam`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setNotJoined(res.data === \"\");\r\n        if (res.data !== \"\") setTeam(res.data);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (event?.eventId !== undefined && team?.teamId !== undefined)\r\n      axios\r\n        .get(\r\n          `${backendUrl()}/event/getEntryFeeFile?eventId=${\r\n            event.eventId\r\n          }&teamId=${team.teamId}`\r\n        )\r\n        .then((res) => {\r\n          if (res.status === 204) setNotJoined(true);\r\n          else setFileMsg(\"Mamy już Twoje potwierdzenie\");\r\n        })\r\n        .catch((error) => {\r\n          setFileMsg();\r\n        });\r\n  }, [team]);\r\n\r\n  const doRemoveFromEvent = () => {\r\n    fetchRemoveFromEvent(event.eventId, team?.teamId, () => {\r\n      setMyEvent({ ...myEvent, joined: false });\r\n      setNotJoined(true);\r\n    });\r\n  };\r\n\r\n  const fetchUpload = (eventId, teamId) => {\r\n    if (file.size > 2 * 1024 * 1024) {\r\n      setFileMsg(\"Plik jest zbyt duży (maksymalnie 2mb)\");\r\n      return;\r\n    }\r\n    setUploading(true);\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n    axios\r\n      .post(\r\n        `${backendUrl()}/event/addEntryFeeFile?eventId=${eventId}&teamId=${teamId}`,\r\n        formData,\r\n        {\r\n          headers: authHeader(),\r\n        }\r\n      )\r\n      .then((res) => {\r\n        setUploading(false);\r\n        res.data\r\n          ? setFileMsg(\"Plik został dodany\")\r\n          : setFileMsg(\"Plik NIE został dodany - błąd\");\r\n      });\r\n  };\r\n\r\n  const downloadFile = (e, file) => {\r\n    e.preventDefault();\r\n    download(`${backendUrl()}/event/getEventFile?id=${file.id}`, file.fileName);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        style={{ zIndex: quickJoin || fillTeam ? 1000 : 1055 }}\r\n        show={show}\r\n        onHide={handleClose}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n        size=\"xl\"\r\n      >\r\n        <Modal.Header className=\"bg-dark text-white\" closeButton>\r\n          <Modal.Title className=\"w-100 row\">\r\n            <div className=\"col-lg-8\">{`Informacje o wydarzeniu`}</div>\r\n            {myEvent?.joined && (\r\n              <div className=\"col-lg-4\">\r\n                <FontAwesomeIcon\r\n                  className={\"text-success fa-lg\"}\r\n                  icon={faStar}\r\n                />\r\n                Jesteś zapisany\r\n              </div>\r\n            )}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <p style={{ fontSize: \"11px\" }} className=\"text-center my-0 py-0\">\r\n          Aplikacja w fazie testów\r\n        </p>\r\n        <Tabs\r\n          activeKey={activeTab}\r\n          onSelect={(key) => setActiveTab(key)}\r\n          className=\"m-0 fw-bold\"\r\n        >\r\n          <Tab eventKey={1} title=\"Informacje\">\r\n            <div className=\"row text-center col-lg-12\">\r\n              <div className=\"col-lg-4\">\r\n                {event?.logoPathFile ? (\r\n                  <img\r\n                    id={\"eventImage\" + event.eventId}\r\n                    style={{ height: \"140px\" }}\r\n                    className=\"img-fluid rounded float-left\"\r\n                    src={\"data:image/jpg;base64,\" + event.logoPathFile}\r\n                    alt=\"Logo\"\r\n                  ></img>\r\n                ) : (\r\n                  event?.logoPath !== undefined &&\r\n                  event?.logoPath !== null && (\r\n                    <div className=\"\">\r\n                      <img\r\n                        style={{ height: \"140px\" }}\r\n                        className=\"img-fluid rounded float-left\"\r\n                        src={event.logoPath}\r\n                        alt=\"Logo\"\r\n                      ></img>\r\n                    </div>\r\n                  )\r\n                )}\r\n              </div>\r\n              <div className=\"col-lg-8\">\r\n                <h3>{event?.name || \"\"}</h3>\r\n                <h5>{`Data wydarzenia:  `}</h5>\r\n                <h5 className=\"fw-bold\">\r\n                  {moment(event?.date).format(\" dddd, DD MMM YYYY, HH:mm\")}\r\n                </h5>\r\n                <div className=\"col-lg-10\">\r\n                  <p className=\"fw-bold fst-italic m-4\">\r\n                    {`Koniec zapisów:  ${moment(event?.signDeadline).format(\r\n                      \"dddd, DD MMM YYYY, HH:mm\"\r\n                    )}`}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <p style={{ whiteSpace: \"pre-line\" }} className=\"m-3\">\r\n                {event?.description || \"\"}\r\n              </p>\r\n            </div>\r\n            <Card className=\"text-center\">\r\n              <Card.Header className=\"bg-dark text-white\">\r\n                Do pobrania:\r\n              </Card.Header>\r\n              <Card.Body>\r\n                <div className=\"row \">\r\n                  <div className=\"col-lg-12 px-0\">\r\n                    {event?.eventPaths?.map((path, index) => (\r\n                      <h6 key={index} className=\"my-1\">\r\n                        <a\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                          href={path.path}\r\n                        >\r\n                          {path.description}\r\n                        </a>\r\n                      </h6>\r\n                    ))}\r\n                    {event?.eventFiles?.map((file, index) => (\r\n                      <h6 key={index} className=\"my-1\">\r\n                        <a href={\"www\"} onClick={(e) => downloadFile(e, file)}>\r\n                          {file.description}\r\n                        </a>\r\n                      </h6>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n          </Tab>\r\n          {!loggedUser ? (\r\n            <></>\r\n          ) : (\r\n            <Tab eventKey={2} title=\"Wpisowe\">\r\n              <div className=\"row mx-2 justify-content-center\">\r\n                <div className=\"col-lg-6 pb-3 px-1\">\r\n                  <h5 className=\"text-center py-4\">\r\n                    Tutaj możesz dodać plik z potwierdzeniem wpisowego,\r\n                    przyspieszy to proces odbioru administracyjnego\r\n                  </h5>\r\n                  <Card className=\"text-center \">\r\n                    <Card.Header className=\"bg-dark text-white\">\r\n                      Wpisowe\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                      {notJoined ? (\r\n                        <p>\r\n                          Zapisz się a następnie będziesz miał możliwość\r\n                          przesłania pliku\r\n                        </p>\r\n                      ) : (\r\n                        <p>Dodaj plik z potwierdzeniem opłacenia wpisowego</p>\r\n                      )}\r\n                      <input\r\n                        disabled={notJoined}\r\n                        type=\"file\"\r\n                        name=\"file\"\r\n                        accept=\"application/pdf,application/vnd.ms-excel\"\r\n                        onChange={(e) => setFile(e.target.files[0])}\r\n                      />\r\n                      {fileMsg && <p className=\"fw-bold m-2\">{fileMsg}</p>}\r\n                      <div>\r\n                        {uploading ? (\r\n                          <Spinner animation=\"border\" variant=\"secondary\" />\r\n                        ) : (\r\n                          <Button\r\n                            className={\"mt-2 mb-0\"}\r\n                            variant=\"secondary\"\r\n                            onClick={() =>\r\n                              fetchUpload(event.eventId, team.teamId)\r\n                            }\r\n                            disabled={file === undefined}\r\n                          >\r\n                            Wyślij plik\r\n                          </Button>\r\n                        )}\r\n                      </div>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </div>\r\n              </div>\r\n            </Tab>\r\n          )}\r\n        </Tabs>\r\n        <Modal.Footer>\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\"col-xl-12 d-flex\">\r\n              <div className=\"\">\r\n                <Button\r\n                  className={\"m-1\"}\r\n                  variant=\"success\"\r\n                  form=\"teamForm\"\r\n                  onClick={() => {\r\n                    loggedUser\r\n                      ? setFillTeam(true)\r\n                      : navigate(`login?${event.eventId}`);\r\n                  }}\r\n                  disabled={signDeadlined && notJoined}\r\n                >\r\n                  {notJoined ? \"Zapisz się\" : \"Edytuj dane\"}\r\n                </Button>\r\n              </div>\r\n              <div className=\"\">\r\n                {/* <Button\r\n                className={\"m-1\"}\r\n                variant=\"success\"\r\n                onClick={() => {\r\n                  loggedUser ? setFillTeam(true) : navigate(`login?${event.eventId}`);\r\n                }}\r\n              >\r\n                {myEvent?.joined ? \"Ok\" : \"Zapisz (po zalogowaniu)\"}\r\n              </Button> */}\r\n                <Button\r\n                  className={\"m-1\"}\r\n                  variant=\"secondary\"\r\n                  onClick={handleClose}\r\n                >\r\n                  Zamknij okno\r\n                </Button>\r\n                {myEvent?.joined && (\r\n                  <Button\r\n                    className={\"mx-3\"}\r\n                    variant=\"danger\"\r\n                    onClick={() => doRemoveFromEvent()}\r\n                    disabled={signDeadlined}\r\n                  >\r\n                    Wypisz się\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <QuickJoinPanel\r\n        show={quickJoin}\r\n        handleClose={() => setQuickJoin()}\r\n        eventId={event?.eventId}\r\n      />\r\n      <TeamModal\r\n        show={fillTeam}\r\n        handleClose={() => setFillTeam()}\r\n        handleOk={() => handleClose()}\r\n        myEvent={event}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { backendUrl } from \"../utils/fetchUtils\";\r\nimport { InputLabeled } from \"../common/InputLabeled\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport { Selector } from \"../common/Selector\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport {\r\n  faBuilding,\r\n  faCar,\r\n  faCarAlt,\r\n  faUserAstronaut,\r\n  faUserClock,\r\n  faUserFriends,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport const BasicTeamDataForm = ({\r\n  show,\r\n  myTeam,\r\n  eventId,\r\n  onSave,\r\n  okBtnLabel,\r\n  handleClose,\r\n  title,\r\n}) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [options, setOptions] = useState();\r\n  const [team, setTeam] = useState(myTeam);\r\n\r\n  useEffect(() => {\r\n    if (show) {\r\n      axios.get(`${backendUrl()}/team/getTeamOptionList`).then((res) => {\r\n        setOptions(res.data);\r\n      });\r\n      setLoading(false);\r\n    }\r\n  }, [show]);\r\n\r\n  const handleSubmit = (event) => {\r\n    setLoading(true);\r\n    event.preventDefault();\r\n    onSave(team);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={handleClose}\r\n      backdrop=\"static\"\r\n      keyboard={false}\r\n      size=\"l\"\r\n    >\r\n      <Modal.Header closeButton className=\"bg-dark text-white\">\r\n        <Modal.Title className=\"text-white\">{title}</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div className=\"d-flex justify-content-center text-center\">\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Imie i nazwisko kierowcy\"\r\n                  name=\"driver\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, driver: e.target.value })\r\n                  }\r\n                  value={team.driver}\r\n                  big={true}\r\n                  required={true}\r\n                  icon={faUserAstronaut}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Imie i nazwisko pilota\"\r\n                  name=\"coDriver\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, coDriver: e.target.value })\r\n                  }\r\n                  value={team.coDriver}\r\n                  big={true}\r\n                  icon={faUserClock}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Automobilklub kierowcy\"\r\n                  name=\"club\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, club: e.target.value })\r\n                  }\r\n                  value={team.club}\r\n                  big={true}\r\n                  icon={faBuilding}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Automobilklub pilota\"\r\n                  name=\"coClub\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, coClub: e.target.value })\r\n                  }\r\n                  value={team.coClub}\r\n                  big={true}\r\n                  icon={faBuilding}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-12\">\r\n                <InputLabeled\r\n                  label=\"Nazwa Teamu\"\r\n                  name=\"teamName\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, teamName: e.target.value })\r\n                  }\r\n                  value={team.teamName}\r\n                  big={true}\r\n                  icon={faUserFriends}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Marka samochodu\"\r\n                  name=\"carBrand\"\r\n                  handleChange={(e) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, brand: e.target.value },\r\n                    })\r\n                  }\r\n                  value={team.currentCar?.brand}\r\n                  big={true}\r\n                  required={true}\r\n                  icon={faCar}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Model samochodu\"\r\n                  name=\"carModel\"\r\n                  handleChange={(e) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, model: e.target.value },\r\n                    })\r\n                  }\r\n                  value={team.currentCar?.model}\r\n                  big={true}\r\n                  required={true}\r\n                  icon={faCarAlt}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Pojemność silnika [cm3]\"\r\n                  name=\"engineCapacity\"\r\n                  handleChange={(e) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: {\r\n                        ...team.currentCar,\r\n                        engineCapacity: e.target.value,\r\n                      },\r\n                    })\r\n                  }\r\n                  value={team.currentCar?.engineCapacity}\r\n                  big={true}\r\n                  required={true}\r\n                  onlyNumber={true}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <Selector\r\n                  label={\"Rodzaj napędu\"}\r\n                  options={options?.driveTypeOption}\r\n                  handleChange={(value) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: {\r\n                        ...team.currentCar,\r\n                        driveType: value,\r\n                      },\r\n                    })\r\n                  }\r\n                  value={team.currentCar?.driveType}\r\n                  isValid={true}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"d-flex justify-content-center\">\r\n              <Form>\r\n                <span className={\"py-0 mb-2 mt-1 mx-1 input-group-text\"}>\r\n                  Turbo\r\n                </span>\r\n                <Form.Check\r\n                  inline\r\n                  label=\"TAK\"\r\n                  name=\"turbo\"\r\n                  type={\"radio\"}\r\n                  id={`inline-1`}\r\n                  checked={team.currentCar?.turbo}\r\n                  onClick={() =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, turbo: true },\r\n                    })\r\n                  }\r\n                />\r\n                <Form.Check\r\n                  inline\r\n                  label=\"NIE\"\r\n                  name=\"turbo\"\r\n                  type={\"radio\"}\r\n                  id={`inline-2`}\r\n                  checked={!team.currentCar?.turbo}\r\n                  onClick={() =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, turbo: false },\r\n                    })\r\n                  }\r\n                />\r\n              </Form>\r\n            </div>\r\n            <div className=\"text-center\" style={{ height: \"50px\" }}>\r\n              {loading && (\r\n                <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n              )}\r\n            </div>\r\n            <Button className={\"m-1\"} variant=\"success\" type=\"submit\">\r\n              {okBtnLabel}\r\n            </Button>\r\n            <Button\r\n              className={\"m-1\"}\r\n              variant=\"secondary\"\r\n              onClick={() => handleClose()}\r\n            >\r\n              Anuluj\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport {\r\n  backendUrl,\r\n  fetchConfirmEntryFee,\r\n  fetchRemoveFromEvent,\r\n  fetchSaveTeam,\r\n} from \"../utils/fetchUtils\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faClipboard,\r\n  faCoins,\r\n  faDollarSign,\r\n  faDownload,\r\n  faExclamation,\r\n  faTimesCircle,\r\n  faUserEdit,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { OkCancelModal } from \"../common/Modal\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport { Selector } from \"../common/Selector\";\r\nimport { BasicTeamDataForm } from \"./BasicTeamDataForm\";\r\nimport { TeamModal } from \"./TeamModal\";\r\nimport { QuickJoinPanel } from \"../join/QuickJoinPanel\";\r\nimport { download } from \"../utils/fileUtils\";\r\n\r\nexport const AdminTeamList = ({\r\n  show,\r\n  handleClose,\r\n  eventId,\r\n  eventName,\r\n  started,\r\n}) => {\r\n  const [teams, setTeams] = useState([]);\r\n  const [startEvent, setStartEvent] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [referee, setReferee] = useState(false);\r\n  const [refreshSelect, setRefreshSelect] = useState(false);\r\n  const [teamToRemove, setTeamToRemove] = useState({\r\n    driver: null,\r\n    teamId: null,\r\n  });\r\n  const [teamToEntryFee, setTeamToEntryFee] = useState({\r\n    driver: null,\r\n    teamId: null,\r\n  });\r\n  const [msg, setMsg] = useState();\r\n  const [eventClasses, setEventClasses] = useState([]);\r\n  const [teamToEdit, setTeamToEdit] = useState();\r\n  const [teamToPreview, setTeamToPreview] = useState();\r\n  const [quickJoin, setQuickJoin] = useState();\r\n  const [doSort, setDoSort] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (show) {\r\n      fetchReferee();\r\n      setLoading(true);\r\n      setTeams([]);\r\n      fetchEvent();\r\n    }\r\n    fetchTeams();\r\n  }, [show]);\r\n\r\n  const eraseTeamToRemove = () => {\r\n    setTeamToRemove({\r\n      driver: null,\r\n      teamId: null,\r\n    });\r\n  };\r\n\r\n  const eraseTeamToEntryFee = () => {\r\n    setTeamToEntryFee({\r\n      driver: null,\r\n      teamId: null,\r\n    });\r\n  };\r\n\r\n  const getDriverAndTeamId = (team) => {\r\n    return {\r\n      teamId: team.teamId,\r\n      driver: team.driver + \" / \" + team.coDriver,\r\n    };\r\n  };\r\n\r\n  const fetchTeams = () => {\r\n    if (eventId === undefined) return;\r\n    axios\r\n      .get(`${backendUrl()}/event/getTeams?eventId=${eventId}`)\r\n      .then((res) => {\r\n        setTeams(res.data.sort((a, b) => a.order - b.order));\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const fetchEvent = () => {\r\n    axios\r\n      .get(`${backendUrl()}/event/getEvent?eventId=${eventId}`)\r\n      .then((res) => {\r\n        setEventClasses(\r\n          res.data.eventClasses.map((x) => {\r\n            return { ...x, value: x.carClassId, label: x.carClass.name };\r\n          })\r\n        );\r\n      });\r\n  };\r\n\r\n  const fetchEntryFeeFile = (teamId, teamName) => {\r\n    download(\r\n      `${backendUrl()}/event/getEntryFeeFile?eventId=${eventId}&teamId=${teamId}`,\r\n      \"potwierdzenie_wplaty_\" + teamName + \".pdf\"\r\n    );\r\n  };\r\n\r\n  const fetchOaDocuments = () => {\r\n    download(\r\n      `${backendUrl()}/file/getEventTeamsData?eventId=${eventId}`,\r\n      \"dokumenty_oa_\" + eventName + \".pdf\"\r\n    );\r\n  };\r\n\r\n  const fetchBkDocuments = () => {\r\n    download(\r\n      `${backendUrl()}/file/getBkFiles?eventId=${eventId}`,\r\n      \"dokumenty_bk_\" + eventName + \".pdf\"\r\n    );\r\n  };\r\n  const fetchReferee = () => {\r\n    axios\r\n      .get(`${backendUrl()}/event/checkReferee?eventId=${eventId}`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setReferee(res.data);\r\n      });\r\n  };\r\n\r\n  const fetchStartEvent = () => {\r\n    axios\r\n      .post(`${backendUrl()}/event/startEvent?eventId=${eventId}`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then(() => {});\r\n  };\r\n\r\n  const sortByClass = () => {\r\n    setRefreshSelect(true);\r\n    axios\r\n      .post(`${backendUrl()}/event/sortByClass`, teams, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setTeams(res.data);\r\n        setRefreshSelect(false);\r\n      });\r\n  };\r\n\r\n  const saveNumbersAndClasses = () => {\r\n    axios\r\n      .post(\r\n        `${backendUrl()}/event/saveNumbersAndClasses?eventId=${eventId}`,\r\n        teams,\r\n        {\r\n          headers: authHeader(),\r\n        }\r\n      )\r\n      .then((res) => {\r\n        if (res.data) setMsg(\"Kolejność i klasy zostały zapisane\");\r\n        else setMsg(\"Coś poszło nie tak\");\r\n\r\n        setTimeout(() => setMsg(), 5000);\r\n      });\r\n  };\r\n\r\n  const handleOnDragEnd = (result) => {\r\n    if (!result.destination) return;\r\n\r\n    const items = Array.from(teams);\r\n    const [reorderedItem] = items.splice(result.source.index, 1);\r\n    items.splice(result.destination.index, 0, reorderedItem);\r\n\r\n    let order = 1;\r\n    items.map((x) => (x.order = order++));\r\n\r\n    setTeams(getOrdered(items));\r\n    setRefreshSelect(false);\r\n  };\r\n\r\n  const changeCarClass = (id, newCarClassId) => {\r\n    const index = teams.findIndex((x) => x.id === id);\r\n\r\n    if (teams[index].carClassId === newCarClassId) return;\r\n    teams[index].carClassId = newCarClassId;\r\n    setTeams(teams);\r\n  };\r\n\r\n  const saveTeam = (team) => {\r\n    setLoading(true);\r\n    fetchSaveTeam(team, () => {\r\n      fetchTeams();\r\n      setTeamToEdit();\r\n    });\r\n  };\r\n\r\n  const numberChanged = (value, item) => {\r\n    setSortedTeam(item, value !== \"\" ? Number(value) : \" \");\r\n  };\r\n\r\n  const checkRepeated = (value, item) => {\r\n    const numValue = Number(value);\r\n    if (\r\n      teams.find(\r\n        (x) => x.id !== item.id && x.forcedNumber && x.number === numValue\r\n      )\r\n    )\r\n      setSortedTeam(item, \"\");\r\n    // else setSortedTeam(item, Number(value));\r\n  };\r\n\r\n  const setSortedTeam = (item, numValue) => {\r\n    const tempTeams = teams.filter((x) => x.id !== item.id);\r\n    item.number = numValue;\r\n    item.forcedNumber = numValue !== \"\";\r\n\r\n    tempTeams.push(item);\r\n    tempTeams.sort((a, b) => a.order - b.order);\r\n\r\n    setTeams(getOrdered(tempTeams));\r\n  };\r\n\r\n  const getOrdered = (tempTeams) => {\r\n    const newTeams = [];\r\n    const forcedNumbers = teams\r\n      .filter((x) => x.forcedNumber)\r\n      .map((x) => x.number);\r\n    let index = 1;\r\n\r\n    for (let i in tempTeams) {\r\n      let item = tempTeams[i];\r\n      if (item.forcedNumber) {\r\n        newTeams.push(item);\r\n        continue;\r\n      }\r\n      if (!item.forcedNumber && !forcedNumbers.includes(index))\r\n        item.number = index++;\r\n      else {\r\n        while (forcedNumbers.includes(index)) index++;\r\n        item.number = index++;\r\n      }\r\n      newTeams.push(item);\r\n    }\r\n    return newTeams;\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      style={{ zIndex: teamToEdit || teamToPreview || quickJoin ? 1000 : 1055 }}\r\n      show={show}\r\n      onHide={handleClose}\r\n      backdrop=\"static\"\r\n      keyboard={false}\r\n      size=\"xl\"\r\n    >\r\n      <Modal.Header className=\"bg-dark text-white\" closeButton>\r\n        <Modal.Title>Lista zapisanych</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        {loading && (\r\n          <div className=\"text-center\">\r\n            <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n          </div>\r\n        )}\r\n        {!loading && teams.length === 0 && (\r\n          <h1 className=\"text-center\">Brak zgłoszeń</h1>\r\n        )}\r\n        {!loading && teams?.length > 0 && (\r\n          <>\r\n            <table>\r\n              <th className=\"\">\r\n                <td style={{ width: \"70px\" }}>Edycja</td>\r\n                <td style={{ width: \"60px\" }}>Nr</td>\r\n                <td style={{ width: \"350px\" }}>Kierowca</td>\r\n                <td style={{ width: \"350px\" }}>Samochód</td>\r\n                <td style={{ width: \"100px\" }}>Klasa</td>\r\n                <td style={{ width: \"100px\" }}>Zapłacone</td>\r\n                <td style={{ width: \"110px\" }}>Potwierdź wpisowe</td>\r\n                <td style={{ width: \"100px\" }}>Plik</td>\r\n                <td style={{ width: \"80px\" }}>OA</td>\r\n                <td style={{ width: \"80px\" }}>Usuń załogę</td>\r\n              </th>\r\n            </table>\r\n            <div style={{ overflowX: \"scroll\" }}>\r\n              <DragDropContext\r\n                onDragStart={() => setRefreshSelect(true)}\r\n                onDragEnd={handleOnDragEnd}\r\n              >\r\n                <Droppable droppableId=\"selectedCases\">\r\n                  {(provided) => (\r\n                    <ol\r\n                      className=\"selectedCases fw-bold\"\r\n                      style={{ minWidth: \"600px\" }}\r\n                      {...provided.droppableProps}\r\n                      ref={provided.innerRef}\r\n                    >\r\n                      {teams?.map((item, index) => {\r\n                        return (\r\n                          <Draggable\r\n                            key={item.order}\r\n                            draggableId={item.order.toString()}\r\n                            index={index}\r\n                            draggable={true}\r\n                          >\r\n                            {(provided) => (\r\n                              <li\r\n                                ref={provided.innerRef}\r\n                                {...provided.draggableProps}\r\n                                {...provided.dragHandleProps}\r\n                              >\r\n                                <Card className=\"my-1\">\r\n                                  <Card.Body className=\"p-0\">\r\n                                    <table className=\"m-0\">\r\n                                      <th className=\"d-table-row fw-normal align-middle\">\r\n                                        <td\r\n                                          className={\r\n                                            item.teamChecked &&\r\n                                            item.entryFeePaid\r\n                                              ? \"bg-success\"\r\n                                              : \"\"\r\n                                          }\r\n                                          style={{ width: \"20px\" }}\r\n                                        >\r\n                                          <FontAwesomeIcon\r\n                                            icon={faUserEdit}\r\n                                            onClick={() =>\r\n                                              setTeamToEdit(item.team)\r\n                                            }\r\n                                            title={\"Edytuj dane\"}\r\n                                            cursor={\"pointer\"}\r\n                                          />\r\n                                        </td>\r\n                                        <td style={{ width: \"55px\" }}>\r\n                                          {/* <NrBadge value={item.number}></NrBadge> */}\r\n                                          <input\r\n                                            style={{\r\n                                              width: \"90%\",\r\n                                              backgroundColor: \"#ffad4f\",\r\n                                              fontWeight: item.forcedNumber\r\n                                                ? \"700\"\r\n                                                : \"100\",\r\n                                              borderRadius: \"20px\",\r\n                                              textAlign: \"center\",\r\n                                            }}\r\n                                            type=\"number\"\r\n                                            value={item.number}\r\n                                            onChange={(e) =>\r\n                                              numberChanged(\r\n                                                e.target.value,\r\n                                                item\r\n                                              )\r\n                                            }\r\n                                            onBlur={(e) =>\r\n                                              checkRepeated(\r\n                                                e.target.value,\r\n                                                item\r\n                                              )\r\n                                            }\r\n                                          />\r\n                                        </td>\r\n                                        <td style={{ width: \"270px\" }}>\r\n                                          {item.team.driver +\r\n                                            (item.team?.coDriver === null ||\r\n                                            item.team.coDriver === \"\"\r\n                                              ? \"\"\r\n                                              : \" / \" + item.team?.coDriver)}\r\n                                        </td>\r\n                                        <td style={{ width: \"270px\" }}>\r\n                                          {(item.team.currentCar?.brand || \"\") +\r\n                                            \" \" +\r\n                                            (item.team.currentCar?.model || \"\")}\r\n                                        </td>\r\n                                        <td\r\n                                          style={{\r\n                                            width: \"100px\",\r\n                                            display: \"flex\",\r\n                                          }}\r\n                                        >\r\n                                          {item.carClassId}\r\n                                          {!refreshSelect && (\r\n                                            <Selector\r\n                                              className={\"m-0 p-0\"}\r\n                                              options={eventClasses}\r\n                                              handleChange={(value) => {\r\n                                                changeCarClass(item.id, value);\r\n                                              }}\r\n                                              isValid={true}\r\n                                              value={item.carClassId}\r\n                                            />\r\n                                          )}\r\n                                          {refreshSelect && (\r\n                                            <Selector\r\n                                              className={\"m-0 p-0\"}\r\n                                              options={eventClasses}\r\n                                              handleChange={(value) => {\r\n                                                changeCarClass(item.id, value);\r\n                                              }}\r\n                                              isValid={true}\r\n                                              skipDefault={true}\r\n                                            />\r\n                                          )}\r\n                                        </td>\r\n                                        <td\r\n                                          style={{\r\n                                            width: \"90px\",\r\n                                            textAlign: \"center\",\r\n                                          }}\r\n                                        >\r\n                                          {item.entryFeePaid ? (\r\n                                            <FontAwesomeIcon\r\n                                              className={\"text-success\"}\r\n                                              icon={faDollarSign}\r\n                                            />\r\n                                          ) : (\r\n                                            <FontAwesomeIcon\r\n                                              className={\"text-danger\"}\r\n                                              icon={faExclamation}\r\n                                            />\r\n                                          )}\r\n                                        </td>\r\n                                        <td style={{ width: \"90px\" }}>\r\n                                          <FontAwesomeIcon\r\n                                            icon={faCoins}\r\n                                            onClick={() =>\r\n                                              setTeamToEntryFee(\r\n                                                getDriverAndTeamId(item.team)\r\n                                              )\r\n                                            }\r\n                                            title={\"Potwierdź wpisowe\"}\r\n                                            cursor={\"pointer\"}\r\n                                          />\r\n                                        </td>\r\n                                        <td style={{ width: \"90px\" }}>\r\n                                          {item.entryFeeFile !== null ? (\r\n                                            <FontAwesomeIcon\r\n                                              icon={faDownload}\r\n                                              onClick={() =>\r\n                                                fetchEntryFeeFile(\r\n                                                  item.team.teamId,\r\n                                                  item.team.driver\r\n                                                )\r\n                                              }\r\n                                              title={\"Pobierz plik\"}\r\n                                              cursor={\"pointer\"}\r\n                                            />\r\n                                          ) : (\r\n                                            <></>\r\n                                          )}\r\n                                        </td>\r\n                                        <td style={{ width: \"80px\" }}>\r\n                                          {item.teamChecked ? (\r\n                                            <FontAwesomeIcon\r\n                                              className={\"text-success\"}\r\n                                              icon={faClipboard}\r\n                                              onClick={() =>\r\n                                                setTeamToPreview(\r\n                                                  item.team.teamId\r\n                                                )\r\n                                              }\r\n                                              title={\"Podgląd danych\"}\r\n                                              cursor={\"pointer\"}\r\n                                            />\r\n                                          ) : (\r\n                                            <FontAwesomeIcon\r\n                                              icon={faClipboard}\r\n                                              onClick={() =>\r\n                                                setTeamToPreview(\r\n                                                  item.team.teamId\r\n                                                )\r\n                                              }\r\n                                              title={\"Podgląd danych\"}\r\n                                              cursor={\"pointer\"}\r\n                                            />\r\n                                          )}\r\n                                        </td>\r\n                                        <td\r\n                                          style={{\r\n                                            width: \"60px\",\r\n                                            color: \"red\",\r\n                                          }}\r\n                                        >\r\n                                          <FontAwesomeIcon\r\n                                            icon={faTimesCircle}\r\n                                            onClick={() =>\r\n                                              setTeamToRemove(\r\n                                                getDriverAndTeamId(item.team)\r\n                                              )\r\n                                            }\r\n                                            title={\"Usuń załoge\"}\r\n                                            cursor={\"pointer\"}\r\n                                          />\r\n                                        </td>\r\n                                      </th>\r\n                                    </table>\r\n                                  </Card.Body>\r\n                                </Card>\r\n                              </li>\r\n                            )}\r\n                          </Draggable>\r\n                        );\r\n                      })}\r\n                      {provided.placeholder}\r\n                    </ol>\r\n                  )}\r\n                </Droppable>\r\n              </DragDropContext>\r\n            </div>\r\n          </>\r\n        )}\r\n        {teamToRemove.teamId !== null && (\r\n          <OkCancelModal\r\n            show={true}\r\n            title={\"Usuwanie załogi\"}\r\n            text={`Czy napewno chcesz usunąć załoge: ${teamToRemove.driver}`}\r\n            handleAccept={() => {\r\n              fetchRemoveFromEvent(eventId, teamToRemove.teamId, () =>\r\n                fetchTeams()\r\n              );\r\n              eraseTeamToRemove();\r\n            }}\r\n            handleClose={() => {\r\n              eraseTeamToRemove();\r\n            }}\r\n          />\r\n        )}\r\n        {teamToEntryFee.teamId !== null && (\r\n          <OkCancelModal\r\n            show={true}\r\n            title={\"Potwierdzanie wpisowego\"}\r\n            text={`Czy napewno chcesz potwierdzić wpłatę wpisowego przez załoge: ${teamToEntryFee.driver}`}\r\n            handleAccept={() => {\r\n              fetchConfirmEntryFee(eventId, teamToEntryFee.teamId, () =>\r\n                fetchTeams()\r\n              );\r\n              eraseTeamToEntryFee();\r\n            }}\r\n            handleClose={() => {\r\n              eraseTeamToEntryFee();\r\n            }}\r\n          />\r\n        )}\r\n        {startEvent && (\r\n          <OkCancelModal\r\n            show={true}\r\n            title={\"Zamykanie listy / Rozpoczynanie wydarzenia\"}\r\n            text={`Czy napewno chcesz zamknąć listę i rozpocząć wydarzenie? Operacja nieodwracalna`}\r\n            handleAccept={() => {\r\n              fetchStartEvent();\r\n              setStartEvent(false);\r\n            }}\r\n            handleClose={() => setStartEvent(false)}\r\n          />\r\n        )}\r\n        {teamToEdit && (\r\n          <BasicTeamDataForm\r\n            show={true}\r\n            myTeam={teamToEdit}\r\n            eventId={eventId}\r\n            onSave={(team) => saveTeam(team)}\r\n            okBtnLabel={\"Zapisz zmiany\"}\r\n            handleClose={() => setTeamToEdit()}\r\n            title={\"Edycja danych załogi\"}\r\n          />\r\n        )}\r\n        {doSort && (\r\n          <OkCancelModal\r\n            show={true}\r\n            title={\"Sortowanie\"}\r\n            text={`Czy chcesz posortować zawodników? Pamiętaj, że zresetuje to numery które nie zostały wpisane ręcznie (nie-pogrubione). Jeśli chcesz nadać komuś numer na stałe edytuj wartość na liście.`}\r\n            handleAccept={() => {\r\n              sortByClass();\r\n              setDoSort(false);\r\n            }}\r\n            handleClose={() => setDoSort(false)}\r\n          />\r\n        )}\r\n        {teamToPreview && (\r\n          <TeamModal\r\n            show={true}\r\n            handleClose={() => {\r\n              fetchTeams();\r\n              setTeamToPreview();\r\n            }}\r\n            myEvent={{\r\n              eventId: eventId,\r\n              started: false,\r\n              teamId: teamToPreview,\r\n            }}\r\n            mode=\"preview\"\r\n          />\r\n        )}\r\n        <QuickJoinPanel\r\n          show={quickJoin}\r\n          handleClose={() => {\r\n            fetchTeams();\r\n            setQuickJoin();\r\n          }}\r\n          eventId={eventId}\r\n        />\r\n        <div className=\"text-center\">\r\n          <Button\r\n            className={\"m-1\"}\r\n            variant=\"primary\"\r\n            onClick={() => setDoSort(true)}\r\n          >\r\n            Sortuj wstępnie wg. klas\r\n          </Button>\r\n          <Button\r\n            className={\"m-1\"}\r\n            variant=\"primary\"\r\n            onClick={() => fetchOaDocuments()}\r\n          >\r\n            Pobierz dokumenty OA\r\n          </Button>{\" \"}\r\n          <Button\r\n            className={\"m-1\"}\r\n            variant=\"primary\"\r\n            onClick={() => fetchBkDocuments()}\r\n          >\r\n            Pobierz dokumenty BK\r\n          </Button>\r\n          <p>{msg}</p>\r\n        </div>\r\n      </Modal.Body>\r\n      <Modal.Footer className={\"justify-content-center\"}>\r\n        <div className=\"d-flex\">\r\n          {referee && (\r\n            <Button\r\n              className={\"m-2\"}\r\n              variant=\"success\"\r\n              onClick={() => setQuickJoin(true)}\r\n            >\r\n              Dodaj zawodnika\r\n            </Button>\r\n          )}\r\n          {/* {referee && (\r\n            <Button\r\n              className={\"m-2\"}\r\n              variant=\"success\"\r\n              onClick={() => setStartEvent(true)}\r\n              disabled={started}\r\n            >\r\n              Zamknij liste / Rozpocznij wydarzenie\r\n            </Button>\r\n          )} */}\r\n          <Button\r\n            className={\"m-2\"}\r\n            variant=\"success\"\r\n            onClick={saveNumbersAndClasses}\r\n          >\r\n            Zapisz klasy i kolejność załóg\r\n          </Button>\r\n          <Button className={\"m-2\"} variant=\"secondary\" onClick={handleClose}>\r\n            Wyjdź\r\n          </Button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","/* eslint-disable react/display-name */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { backendUrl, checkReferee } from \"../utils/fetchUtils\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { NewEventForm } from \"../event/NewEventForm\";\r\nimport { EventCard } from \"../common/EventCard\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport { TeamListModal } from \"../team/TeamListModal\";\r\nimport { EventModal } from \"../event/EventModal\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport { AdminTeamList } from \"../team/AdminTeamList\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\nconst HomePage = (props) => {\r\n  const [futureEvents, setFutureEvents] = useState([]);\r\n  const [archiveEvents, setArchiveEvents] = useState([]);\r\n  const [createEvent, setCreateEvent] = useState();\r\n  const [eventToTeamList, setEventToTeamList] = useState();\r\n  const [eventToTeamPanel, setEventToTeamPanel] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [mainAdmin, setMainAdmin] = useState(false);\r\n  const [redirected, setRedirected] = useState(false);\r\n\r\n  let eventRedirect = useLocation().search;\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const fetchEvents = () => {\r\n    setLoading(true);\r\n\r\n    let endDay = new Date();\r\n    endDay.setHours(23, 59, 59, 999);\r\n    endDay.setDate(new Date().getDate() - 1);\r\n\r\n    axios\r\n      .get(`${backendUrl()}/event/getAll`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setFutureEvents(\r\n          res.data\r\n            .filter((x) => endDay.getTime() <= new Date(x.date).getTime())\r\n            .sort((x, y) => (x.date < y.date ? -1 : 1))\r\n        );\r\n        setArchiveEvents(\r\n          res.data\r\n            .filter((x) => endDay.getTime() > new Date(x.date).getTime())\r\n            .sort((x, y) => (x.date > y.date ? -1 : 1))\r\n        );\r\n        if (eventRedirect !== undefined && !redirected) {\r\n          const event = res.data.find(\r\n            (x) => x.eventId === Number(eventRedirect.replace(\"?\", \"\"))\r\n          );\r\n          setEventToTeamPanel(event);\r\n          eventRedirect = null;\r\n          setRedirected(true);\r\n        }\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const fetchMainAdmin = () => {\r\n    if (sessionStorage.getItem(\"username\") !== null)\r\n      axios\r\n        .get(\r\n          `${backendUrl()}/auth/isMainAdmin?login=${sessionStorage.getItem(\r\n            \"username\"\r\n          )}`,\r\n          {\r\n            headers: authHeader(),\r\n          }\r\n        )\r\n        .then((res) => {\r\n          setMainAdmin(res.data);\r\n        });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchEvents();\r\n    fetchMainAdmin();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <p style={{ fontSize: \"11px\" }} className=\"my-0 py-0\">\r\n        Aplikacja w fazie testów\r\n      </p>\r\n      <Card className=\" my-1 bg-dark text-white\">\r\n        <h3>Najbliższe wydarzenia</h3>\r\n      </Card>\r\n      <div className=\"row justify-content-center\">\r\n        {loading && (\r\n          <div className=\"text-center\">\r\n            <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n          </div>\r\n        )}\r\n        {futureEvents.map((x) => (\r\n          <EventCard\r\n            key={x.eventId}\r\n            event={x}\r\n            onJoin={() => setEventToTeamPanel(x)}\r\n            onScore={() => {\r\n              localStorage.setItem(\"eventId\", x.eventId);\r\n              navigate(\"event\", { state: { eventId: x.eventId } });\r\n            }}\r\n            onTeamList={() => {\r\n              checkReferee(x.eventId, setMainAdmin);\r\n              setEventToTeamList(x);\r\n            }}\r\n            onEdit={() => setCreateEvent(x)}\r\n            mainAdmin={mainAdmin}\r\n          />\r\n        ))}\r\n      </div>\r\n      <Card className=\"my-1 bg-dark text-white\">\r\n        <h3>Archiwalne wydarzenia</h3>\r\n      </Card>\r\n\r\n      <div className=\"row justify-content-center\">\r\n        {loading && (\r\n          <div className=\"text-center\">\r\n            <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n          </div>\r\n        )}\r\n        {archiveEvents.map((x) => (\r\n          <EventCard\r\n            key={x.eventId}\r\n            event={x}\r\n            onJoin={() => setEventToTeamPanel(x)}\r\n            onScore={() => {\r\n              localStorage.setItem(\"eventId\", x.eventId);\r\n              navigate(\"event\", { state: { eventId: x.eventId } });\r\n            }}\r\n            onTeamList={() => setEventToTeamList(x)}\r\n            onEdit={() => setCreateEvent(x)}\r\n            mainAdmin={mainAdmin}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className=\"p-3 border-top\">\r\n        {mainAdmin && (\r\n          <Button\r\n            className={\"border-top mx-3\"}\r\n            variant=\"primary\"\r\n            onClick={() => setCreateEvent(true)}\r\n          >\r\n            Dodaj wydarzenie\r\n          </Button>\r\n        )}\r\n      </div>\r\n      <NewEventForm\r\n        show={createEvent !== undefined}\r\n        handleClose={() => {\r\n          setCreateEvent();\r\n          fetchEvents();\r\n        }}\r\n        event={createEvent}\r\n      />\r\n      {mainAdmin && (\r\n        <AdminTeamList\r\n          show={eventToTeamList !== undefined}\r\n          handleClose={() => {\r\n            setEventToTeamList();\r\n            fetchEvents();\r\n          }}\r\n          eventId={eventToTeamList?.eventId}\r\n          eventName={eventToTeamList?.name}\r\n          started={eventToTeamList?.started}\r\n        />\r\n      )}\r\n      {!mainAdmin && (\r\n        <TeamListModal\r\n          show={eventToTeamList !== undefined}\r\n          handleClose={() => {\r\n            setEventToTeamList();\r\n            fetchEvents();\r\n          }}\r\n          eventId={eventToTeamList?.eventId}\r\n          started={eventToTeamList?.started}\r\n        />\r\n      )}\r\n      <EventModal\r\n        show={eventToTeamPanel !== undefined}\r\n        handleClose={() => {\r\n          setEventToTeamPanel();\r\n          fetchEvents();\r\n        }}\r\n        event={eventToTeamPanel}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import authHeader from \"../../service/auth-header\";\r\n\r\nexport function download(url, filename) {\r\n  fetch(url, {\r\n    headers: authHeader(),\r\n  }).then(function (t) {\r\n    return t.blob().then((b) => {\r\n      var a = document.createElement(\"a\");\r\n      a.href = URL.createObjectURL(b);\r\n      a.setAttribute(\"download\", filename);\r\n      a.click();\r\n    });\r\n  });\r\n}\r\n"],"names":["TeamDiv","team","getWithBracketIfNotEmpty","value","className","style","flexWrap","driver","club","coDriver","coClub","teamName","CarDiv","line1","line2","carBrand","driveType","brand","toLowerCase","replace","path","height","src","alt","ScoreDiv","line3","ScoreDivPenalty","OkCancelModal","show","title","text","handleAccept","handleClose","onHide","backdrop","keyboard","closeButton","variant","onClick","NrBadge","bg","paddingTop","justifyContent","display","width","borderRadius","fontSize","LoadingTable","id","isHeader","headerGroups","map","headerGroup","index","key","getHeaderGroupProps","headers","column","getHeaderProps","wordBreak","getSortByToggleProps","Header","render","isSorted","isSortedDesc","getSortIcon","canFilter","isFooter","footerGroups","group","getFooterGroupProps","getFooterProps","textDecoration","DefaultColumnFilter","filterValue","setFilter","onChange","e","target","undefined","placeholder","Table","columns","data","renderRowSubComponent","updateMyData","isLoading","controlledPageCount","pageCount","expandOn","manualPagination","manualFilters","hiddenColumns","sortBy","cursor","fetchData","onPageIndexChange","onFilterChange","onRowClick","highlightRow","fontWeight","useState","filterTypes","React","rows","filter","row","rowValue","values","String","startsWith","defaultColumn","Filter","useTable","initialState","pageIndex","autoResetPage","autoResetFilters","useFilters","useGlobalFilter","useSortBy","useExpanded","usePagination","getTableProps","getTableBodyProps","prepareRow","page","gotoPage","canPreviousPage","canNextPage","pageOptions","visibleColumns","nextPage","previousPage","state","filters","useEffect","debounceFilters","useDebounce","length","rowIndex","getRowProps","background","cells","cell","cellIndex","maxWidth","getCellProps","disableRowClick","isExpanded","expand","colSpan","NewEventForm","event","name","description","date","Date","signDeadline","admin","stages","organizer","logoPath","awdClassification","rwdClassification","fwdClassification","myEvent","setMyEvent","distance","startTime","startFrequency","stage","setStage","carClassId","carClassName","maxEngineCapacity","eventId","awd","eventClass","setEventClass","eventPaths","setEventPaths","setPath","eventFiles","setEventFiles","file","fileName","setFile","logoFile","setLogoFile","setStages","referee","setReferee","refereeOptions","setRefereeOptions","eventClasses","setEventClasses","eventClassesOptions","setEventClassesOptions","removeEvent","setRemoveEvent","axios","backendUrl","authHeader","then","res","fetchEventToEdit","handleChange","handleStageChange","x","carClass","DatePickerContainer","children","CalendarContainer","Modal","size","Card","InputLabeled","label","big","multiline","inputPlaceholder","selected","calendarContainer","minDate","maxDate","Selector","options","tempRef","find","newRef","userId","Number","username","isValid","skipDefault","responsive","icon","faTimesCircle","tempClass","Button","push","Form","inline","type","checked","accept","currentFile","files","formData","FormData","append","addLogoFile","format","tempStages","onlyNumber","elem","disabled","link","fileId","addFile","forEach","f","console","log","EventCard","onJoin","onTeamList","onScore","onEdit","mainAdmin","eventDeadlined","getTime","faEdit","moment","logoPathFile","joined","faStar","TeamListModal","started","teams","setTeams","loading","setLoading","fetchTeams","useMemo","accessor","cellInfo","number","disableFilters","Cell","currentCar","model","original","driveTypeEnum","engineCapacity","entryFeePaid","faCheck","faQuestion","color","Spinner","animation","ResultTable","QuickJoinPanel","msg","setMsg","setOptions","coSportLicense","sportLicense","birthDate","carId","year","licensePlate","vin","turbo","petrol","insurance","insuranceExpiryDate","carInspectionExpiryDate","setTeam","onSubmit","preventDefault","required","faUserAstronaut","faUserClock","faBuilding","faCar","faCarAlt","driveTypeOption","EventModal","navigate","useNavigate","uploading","setUploading","fileMsg","setFileMsg","notJoined","setNotJoined","quickJoin","setQuickJoin","activeTab","setActiveTab","fillTeam","setFillTeam","loggedUser","sessionStorage","getItem","fetchGetTeam","signDeadlined","teamId","status","catch","error","zIndex","Tabs","activeKey","onSelect","Tab","eventKey","whiteSpace","rel","href","download","downloadFile","fetchUpload","form","fetchRemoveFromEvent","TeamModal","handleOk","BasicTeamDataForm","myTeam","onSave","okBtnLabel","faUserFriends","AdminTeamList","eventName","startEvent","setStartEvent","refreshSelect","setRefreshSelect","teamToRemove","setTeamToRemove","teamToEntryFee","setTeamToEntryFee","teamToEdit","setTeamToEdit","teamToPreview","setTeamToPreview","doSort","setDoSort","fetchReferee","fetchEvent","eraseTeamToRemove","eraseTeamToEntryFee","getDriverAndTeamId","sort","a","b","order","changeCarClass","newCarClassId","findIndex","setSortedTeam","item","numValue","tempTeams","forcedNumber","getOrdered","newTeams","forcedNumbers","i","includes","overflowX","onDragStart","onDragEnd","result","destination","items","Array","from","reorderedItem","splice","source","droppableId","provided","minWidth","droppableProps","ref","innerRef","draggableId","toString","draggable","draggableProps","dragHandleProps","teamChecked","faUserEdit","backgroundColor","textAlign","numberChanged","onBlur","checkRepeated","faDollarSign","faExclamation","faCoins","entryFeeFile","faDownload","faClipboard","fetchConfirmEntryFee","fetchSaveTeam","saveTeam","mode","setTimeout","props","futureEvents","setFutureEvents","archiveEvents","setArchiveEvents","createEvent","setCreateEvent","eventToTeamList","setEventToTeamList","eventToTeamPanel","setEventToTeamPanel","setMainAdmin","redirected","setRedirected","eventRedirect","useLocation","search","fetchEvents","endDay","setHours","setDate","getDate","y","localStorage","setItem","checkReferee","url","filename","fetch","t","blob","document","createElement","URL","createObjectURL","setAttribute","click"],"sourceRoot":""}