"use strict";(self.webpackChunkjavascript=self.webpackChunkjavascript||[]).push([[229],{2763:function(e,t,a){a.d(t,{E:function(){return o},O:function(){return c}});var n=a(7294),r=a(5005),l=a(6968),c=function(e){var t=e.variant,a=e.onClick,c=e.isLoading,o=e.msg,i=e.loadingMsg;return n.createElement(r.Z,{className:"m-1",variant:t,onClick:a,disabled:c},c?n.createElement(n.Fragment,null,n.createElement(l.Z,{size:"sm",animation:"border"})," "," "+i):n.createElement(n.Fragment,null,o))},o=function(e){var t=e.onClick,a=e.label,r=e.isConfirmed,l=void 0!==r&&r,c=e.name,o=e.value;return n.createElement("div",{className:"form-check"},n.createElement("input",{onClick:t,defaultChecked:l,className:"form-check-input",type:"radio",name:c,value:o}),n.createElement("label",{className:"form-check-label"},a))}},7091:function(e,t,a){a.d(t,{e:function(){return o},m:function(){return c}});var n=a(7294),r=a(1881),l=a(5005),c=function(e){var t=e.show,a=e.title,c=e.text,o=e.handleAccept,i=e.handleClose;return n.createElement(r.Z,{show:t,onHide:i,backdrop:"static",keyboard:!1},n.createElement(r.Z.Header,{closeButton:!0,className:"bg-dark-green text-white"},n.createElement(r.Z.Title,null,a)),n.createElement(r.Z.Body,null,n.createElement("p",null,c)),n.createElement(r.Z.Footer,{className:"justify-content-center"},n.createElement(l.Z,{className:"mx-3",variant:"secondary",onClick:i},"Anuluj"),n.createElement(l.Z,{className:"px-4 mx-3",variant:"success",onClick:o},"OK")))},o=function(e){var t=e.show,a=e.title,c=e.text,o=e.handleAccept;return n.createElement(r.Z,{show:t,onHide:o,backdrop:"static",keyboard:!1},n.createElement(r.Z.Header,{closeButton:!0,className:"bg-dark-green text-white"},n.createElement(r.Z.Title,null,a)),n.createElement(r.Z.Body,null,n.createElement("p",{style:{whiteSpace:"break-spaces"}},c)),n.createElement(r.Z.Footer,{className:"justify-content-center"},n.createElement(l.Z,{className:"px-4 mx-3",variant:"success",onClick:o},"OK")))}},8229:function(e,t,a){a.r(t),a.d(t,{AddScorePage:function(){return p}});var n=a(7294),r=a(6668),l=a(9669),c=a.n(l),o=a(7577),i=a(2763),s=a(9942),u=a(6974),d=a(9952),m=a(5005),f=a(7091);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,l=[],c=!0,o=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){o=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(o)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var p=function(e){var t,a=(0,u.TH)(),l=(0,u.s0)(),b=a.state.eventId,p=[{value:"NEW",desc:"Wprowadzanie nowych wyników"},{value:"EDIT",desc:"Tryb edycji wyników"}],E=v((0,n.useState)(""),2),g=E[0],h=E[1],y=v((0,n.useState)(p[0].value),2),k=y[0],N=y[1],S=v((0,n.useState)(),2),w=S[0],C=S[1],x=v((0,n.useState)([]),2),I=x[0],Z=x[1],A=v((0,n.useState)([]),2),j=A[0],z=A[1],T=v((0,n.useState)(),2),O=T[0],M=(T[1],v((0,n.useState)(),2)),P=M[0],H=(M[1],v((0,n.useState)(),2)),K=H[0],W=H[1],B=v((0,n.useState)(),2),F=B[0],U=B[1],D=v((0,n.useState)(),2),L=D[0],Q=D[1],V=v((0,n.useState)(),2),$=V[0],_=V[1],q=v((0,n.useState)(),2),G=q[0],J=q[1],R=v((0,n.useState)(!1),2),X=R[0],Y=R[1],ee=v((0,n.useState)(!1),2),te=ee[0],ae=ee[1],ne=v((0,n.useState)(!0),2),re=ne[0],le=ne[1],ce=v((0,n.useState)(!1),2),oe=ce[0],ie=ce[1],se=function(){Y(!0),c().get("".concat((0,s.AC)(),"/team/getTeamOptions?stageId=").concat(G,"&mode=").concat(k),{headers:(0,d.Z)()}).then((function(e){z(e.data),Y(!1),ae(!1),0===e.data.length&&(me(),h("Wszystkie wyniki wybranego odcinka zostały wprowadzone"))}))};(0,n.useEffect)((function(){void 0===b&&l("/"),c().get("".concat((0,s.AC)(),"/event/getPsOptions?eventId=").concat(b),{headers:(0,d.Z)()}).then((function(e){var t;Z(e.data),J(null===(t=e.data[0])||void 0===t?void 0:t.value)}))}),[]),(0,n.useEffect)((function(){I.length>0&&void 0!==G&&se()}),[G,I]),(0,n.useEffect)((function(){if(0!==j.length){var e=j.find((function(e){return e.value===$}));_(e?null==e?void 0:e.value:j[0].value)}}),[j]),(0,n.useEffect)((function(){void 0!==$&&k===p[1].value&&ue()}),[$,k]),(0,n.useEffect)((function(){void 0!==G&&se()}),[k]);var ue=function(){c().get("".concat((0,s.AC)(),"/score/getTeamScore?eventId=").concat(b,"&stageId=").concat(G,"&teamId=").concat($)).then((function(e){W(e.data.scoreMin),U(e.data.scoreSec),Q(e.data.scoreMiliSec),C(e.data.stageScoreId)}))},de=function(e){e.target.checked&&k!==e.target.value&&(N(e.target.value),me(),z([]))},me=function(){ae(!0),W(""),U(""),Q("")};return n.createElement("div",{className:"u-text-center"},n.createElement("div",{className:"u-box-shadow"},n.createElement("div",{className:"col-xl-12"},n.createElement("h5",{className:"pb-1 mb-0 border-bottom"},"Dodaj wynik:")),n.createElement("div",{className:"row justify-content-center"},n.createElement("div",{className:"col-lg-4 pb-1 border-bottom"},n.createElement("div",{className:"centered-grid form-group "},n.createElement(i.E,{label:p[0].desc,value:p[0].value,isConfirmed:k===p[0].value,onClick:function(e){return de(e)},name:"editMode"}),n.createElement(i.E,{label:p[1].desc,value:p[1].value,isConfirmed:!1,onClick:function(e){return de(e)},name:"editMode"})),n.createElement("div",{className:"pb-0"}),n.createElement(r.Q,{label:"Odcinek PS",options:I,value:sessionStorage.getItem("refereeStageId"),handleChange:function(e){J(e),sessionStorage.setItem("refereeStageId",e)},isValid:!0}),n.createElement(r.Q,{label:"Załoga",options:j,value:$,handleChange:function(e){return _(e)},isValid:!0,isLoading:X})),n.createElement("div",{className:"col-lg-4 pb-1 border-bottom"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-xl-12"},n.createElement("h5",{className:"mb-0"},"Czas"),n.createElement("div",{className:"inline-flex"},n.createElement(o.K,{label:"Minuty",inputPlaceholder:"00",value:K,handleChange:function(e){return W(e.target.value)},disabled:te,onlyNumber:!0,type:"number"}),n.createElement(o.K,{label:"Sekundy",inputPlaceholder:"00",value:F,handleChange:function(e){return U(e.target.value)},disabled:te,onlyNumber:!0,max:59,type:"number"}),n.createElement(o.K,{label:"Setne",inputPlaceholder:"00",value:L,handleChange:function(e){return Q(e.target.value)},disabled:te,onlyNumber:!0,max:99,type:"number"})),n.createElement("div",{className:"col-xl-12 pt-1 fw-bolder"},g),n.createElement("div",{className:"col-xl-12 pt-1 fw-bolder"},re),n.createElement("div",{className:"col-xl-12 pt-2"},n.createElement("button",{type:"button",className:"btn btn-success mx-2 py-1",onClick:function(){if(null==K||""===K||null==F||""===F||null==L||""===L)le("Wprowadź pełny wynik");else{le();var e=60*O+P,t=60*Number(K)*1e3+1e3*Number(F)+10*Number(L);a={teamId:$,stageId:G,stageStartTime:e,score:t,stageScoreId:k===p[1].value?w:null},c().post("".concat((0,s.AC)(),"/score/addScore"),a,{headers:(0,d.Z)()}).then((function(e){se(),h(e.data),setTimeout((function(){return h()}),1e4)})),me()}var a},disabled:te},"Zapisz wynik"),k===p[1].value&&n.createElement("button",{type:"button",className:"btn btn-danger mx-2",onClick:function(){return ie(!0)},disabled:te},"Usuń wynik"))))))),n.createElement("div",{className:"col-sm pt-3"}),n.createElement(m.Z,{className:"mx-2 py-1 px-2",variant:"primary",onClick:function(){return l("/add_penalty",{state:{eventId:b}})}},"Przejdź do dodawania kar"),n.createElement(m.Z,{className:"mx-2 py-1 px-2",variant:"success",onClick:function(){return l("/event",{state:{eventId:b}})}},"Wyniki"),oe&&n.createElement(f.m,{show:!0,title:"Usuwanie załogi",text:"Czy napewno chcesz usunąć wynik załogi:  ".concat(null===(t=j.find((function(e){return e.value===$})))||void 0===t?void 0:t.label),handleAccept:function(){var e;e={teamId:$,stageId:G,stageScoreId:k===p[1].value?w:null},c().post("".concat((0,s.AC)(),"/score/removeScore"),e,{headers:(0,d.Z)()}).then((function(e){se(),h(e.data),setTimeout((function(){return h()}),1e4)})),ie(!1)},handleClose:function(){ie(!1)}}))};t.default=p}}]);
//# sourceMappingURL=229.js.map